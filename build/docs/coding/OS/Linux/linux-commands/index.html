<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-coding/OS/Linux/linux-commands">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-alpha.0">
<title data-rh="true">linux-commands | 南川笔记</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://markshawn2020.github.io/docs/coding/OS/Linux/linux-commands"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="linux-commands | 南川笔记"><meta data-rh="true" name="description" content="command:zip/unzip"><meta data-rh="true" property="og:description" content="command:zip/unzip"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://markshawn2020.github.io/docs/coding/OS/Linux/linux-commands"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/docs/coding/OS/Linux/linux-commands" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/docs/coding/OS/Linux/linux-commands" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="南川笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="南川笔记 Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QFQ00XLDNZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QFQ00XLDNZ",{anonymize_ip:!0})</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.b123addb.css">
<link rel="preload" href="/assets/js/runtime~main.aacdcb6f.js" as="script">
<link rel="preload" href="/assets/js/main.c22735e8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_UHvc">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_qLAv themedImage--light_kaXc"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_qLAv themedImage--dark_ONYO"></div><b class="navbar__title text--truncate">南川笔记</b></a><a class="navbar__item navbar__link" href="/blog/archive">My Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">My Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/markshawn2020/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source of Framework<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/markshawn2020/docusaurus-my-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source of Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/markshawn2020/my-documents" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source of Documents<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_bT41 colorModeToggle_UolE"><button class="clean-btn toggleButton_x9TT toggleButtonDisabled_Dj8q" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dnYY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_OBbf"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_CTO4"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_PEsc"><div class="docsWrapper_lLmf"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_PuQw" type="button"></button><div class="docRoot_kBZ6"><aside class="theme-doc-sidebar-container docSidebarContainer_S51O"><div class="sidebar_vtcw"><nav class="menu thin-scrollbar menu_rWGR"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/coding/SLAM/A01-recognizeLights">coding</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/SLAM/A01-recognizeLights">SLAM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/DevOps/certbot ssl 证书">DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/CPP/cpp-howto">Languages</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Mac存储清理">Mac存储清理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/coding/OS/Linux/centos-init-manual">OS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/coding/OS/Linux/centos-init-manual">Linux</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/centos-init-manual">centos init manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/coding/OS/Linux/linux-commands">linux-commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/linux-debug">linux debug</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/linux-howto">linux-howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/linux-monitor">linux-monitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/linux-terminator-howto">linux terminator howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/ubuntu-index">ubuntu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/Linux/ubuntu-init-manual">ubuntu init manual</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/OS/Mac/alfred-howto">Mac</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/OS/Windows/windows-howto">Windows</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/cross-platform-howto">cross-platform howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/dual-boot-systems">mac + ubuntu 双系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/OS/iOS">ios</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/OS/virtual-machine/full-guide_ubuntu-in-vmware">virtual-machine</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Poketto Dev Notes">Poketto Dev Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Software/Adobe/PS/support-for-little-stars/">Software</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/apple">apple</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/clash">clash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/coding-philosophy">coding philosophy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/composite/full-guide_cross-copy-over-ssh-vim-tmux">composite</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/css">css</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/electron">electron</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/hardware/rockchip/rockchip4-flash-manual">hardware</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/init-server">init-server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/moments">moments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/mongodb">mongodb</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/next-i18next">next-i18next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/next-themes">next-themes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/nextjs-best-practice">nextjs-best-practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/nextjs">nextjs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/poetry">poetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/python">install python 3.11</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/vim">vim</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/websocket">websocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/图形化语言">图形化语言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/微信迁移">微信迁移</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/极客排版微信公众号最佳实践">极客排版微信公众号最佳实践</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/毁灭人生的打包记">毁灭人生的打包记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/测试不同风格的toc">测试不同风格的toc</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/文集/2020-06-12-王逸成">education</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/series/NC-PFA/">series</a></div></li></ul></nav></div></aside><main class="docMainContainer_EfwR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_n6xZ"><div class="docItemContainer_RhpI"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Wvrh" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_VLFi"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">coding</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">OS</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Linux</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">linux-commands</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：0.17.0+</span><div class="tocCollapsible_BEWm theme-doc-toc-mobile tocMobile_NSfz"><button type="button" class="clean-btn tocCollapsibleButton_IbtT">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>linux-commands</h1></header><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandzipunzip">command:zip/unzip<a class="hash-link" href="#commandzipunzip" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="add-file-into-zipped-file">add file into zipped file<a class="hash-link" href="#add-file-into-zipped-file" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">zip -g FILE_FROM ZIPPED_FILE_TO</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643974724220-c464b615c61181efdf667825a2858f811d63c7d7f747acb22a144e65888c8b31.png" alt="picture 4" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><a href="https://stackoverflow.com/questions/9289734/linux-how-to-add-a-file-to-a-specific-folder-within-a-zip-file" target="_blank" rel="noopener noreferrer">linux how to add a file to a specific folder within a zip file - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="list-structure-of-zipped-file">list structure of zipped file<a class="hash-link" href="#list-structure-of-zipped-file" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">unzip -l ZIPPED_FILE</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://superuser.com/questions/216617/view-list-of-files-in-zip-archive-on-linux" target="_blank" rel="noopener noreferrer">View list of files in ZIP archive on Linux - Super User</a></li></ul><h4 class="anchor anchorWithStickyNavbar_rB0w" id="todolist-structure-of-zipped-file-with-limited-level">TODO:list structure of zipped file with limited level<a class="hash-link" href="#todolist-structure-of-zipped-file-with-limited-level" title="标题的直接链接">​</a></h4><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandtar">command:tar<a class="hash-link" href="#commandtar" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># x: extract, f: file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -xf FILE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># v: verbose, logging output, careful when extracting big files, e.g. AOSP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -vxf FILE</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://linuxize.com/post/how-to-extract-unzip-tar-gz-file/" target="_blank" rel="noopener noreferrer">How to Extract (Unzip) Tar Gz File | Linuxize</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandfind">command:find<a class="hash-link" href="#commandfind" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="find-and-show-file-size">find and show file size<a class="hash-link" href="#find-and-show-file-size" title="标题的直接链接">​</a></h3><table><thead><tr><th>command</th><th>sorted</th><th>has size</th><th>size is human readable</th><th></th><th></th><th></th></tr></thead><tbody><tr><td><code>find . -exec ls -lh {} \;</code></td><td>N</td><td>Y</td><td>Y</td><td></td><td></td><td></td></tr><tr><td>`find . -type f -exec ls -al {} \;</td><td>sort -k 5 -n</td><td>sed &#x27;s/ <!-- -->+<!-- -->/\t/g&#x27;</td><td>cut -f 9`</td><td>Y</td><td>Y</td><td>N</td></tr><tr><td>`find -type f -exec du -sm {} \;</td><td>sort -nk1`</td><td>Y</td><td>N</td><td>Y</td><td></td><td></td></tr><tr><td>TODO: ???</td><td>Y</td><td>Y</td><td>Y</td><td></td><td></td><td></td></tr></tbody></table><blockquote><p>sample</p></blockquote><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644146425265-52c44c84a4ac041340c2069e2b1d952b385b64b67d62c34a35024f62314600a2.png" alt="picture 91" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><p><a href="https://stackoverflow.com/questions/22598205/how-sort-find-result-by-file-sizes/22598250" target="_blank" rel="noopener noreferrer">shell - How sort find result by file sizes - Stack Overflow</a></p></li><li><p><a href="https://stackoverflow.com/questions/64649/how-do-i-get-the-find-command-to-print-out-the-file-size-with-the-file-name" target="_blank" rel="noopener noreferrer">unix - How do I get the find command to print out the file size with the file name? - Stack Overflow</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-ignore-case-in-find">how to ignore case in find<a class="hash-link" href="#how-to-ignore-case-in-find" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">find -iname</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://unix.stackexchange.com/questions/32155/find-command-how-to-ignore-case" target="_blank" rel="noopener noreferrer">Find command: how to ignore case? - Unix &amp; Linux Stack Exchange</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-specify-search-type">how to specify search type<a class="hash-link" href="#how-to-specify-search-type" title="标题的直接链接">​</a></h3><p>Use <code>-type</code> to specify the search type (default is <code>c</code> for <code>file</code>), here I used <code>d</code> for <code>directory</code>, ref: <a href="https://man7.org/linux/man-pages/man1/find.1.html#:~:text=true%20%20Always%20true.-,%2Dtype%20c,-File%20is%20of" target="_blank" rel="noopener noreferrer">find type</a></p><p>And then, when I search directory, it would search all the sub-folders with &#x27;/&#x27; concatenated, so I need to specify <code>-d 1</code> in order to only search the top current directory.</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  Application Support find . -name &#x27;*electron*&#x27; -type d -d 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./electron-react-boilerplate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./electron-react-typescript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  Application Support rm -rf electron-react-boilerplate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  Application Support rm -rf electron-react-typescript</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-exclude-dir">how to exclude dir<a class="hash-link" href="#how-to-exclude-dir" title="标题的直接链接">​</a></h3><p>TODO: in fact, I really can&#x27;t catch why <code>-prune</code> is combined with <code>-o</code> (or)</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. use `-not -path`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find -name &quot;*.js&quot; -not -path &quot;./directory/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. use `-path xx -prune`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -path ./misc -prune -o -name &#x27;*.txt&#x27; -print</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. use multiple prune (need to add escaped bracket)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -type d \( -path ./dir1 -o -path ./dir2 -o -path ./dir3 \) -prune -o -name &#x27;*.txt&#x27; -print</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. use regex prune (-name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -type d -name node_modules -prune -o -name &#x27;*.json&#x27; -print</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/4210042/how-to-exclude-a-directory-in-find-command" target="_blank" rel="noopener noreferrer">linux - How to exclude a directory in find . command - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="todo-how-to-find-file-with-time-used">TODO: how to find file with time used<a class="hash-link" href="#todo-how-to-find-file-with-time-used" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_rB0w" id="tip-find-efficiency-comparison">tip: find efficiency comparison<a class="hash-link" href="#tip-find-efficiency-comparison" title="标题的直接链接">​</a></h3><p>Use a specified directory is the best and fastest;</p><p>If not, limit the <code>maxdepth</code> to a number small enough is also ok;</p><p>And then consider the directory prune.</p><p>Finally bared run is the worst.</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find .imgs  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find .imgs -name   0.00s user 0.00s system 52% cpu 0.005 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find . -maxdepth 3  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -maxdepth 3 -name   0.01s user 0.05s system 70% cpu 0.079 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find . -maxdepth 4  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -maxdepth 4 -name   0.06s user 0.69s system 87% cpu 0.854 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find . -maxdepth 5  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -maxdepth 5 -name   0.14s user 1.86s system 93% cpu 2.137 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find . -maxdepth 6  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -maxdepth 6 -name   0.26s user 3.21s system 94% cpu 3.683 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find .  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -name   0.44s user 5.85s system 51% cpu 12.172 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find . -path &#x27;./.imgs/*&#x27;  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -path &#x27;./.imgs/*&#x27; -name   0.46s user 5.93s system 51% cpu 12.299 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  hjxh_express_match git:(main) time find . -path &#x27;./.imgs/*&#x27;  ! -path &quot;**/node_modules/*&quot;  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -path &#x27;./.imgs/*&#x27; ! -path &quot;**/node_modules/*&quot; -name   0.46s user 5.91s system 51% cpu 12.268 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandgrep">command:grep<a class="hash-link" href="#commandgrep" title="标题的直接链接">​</a></h2><p>!!!tip 1. use <code>grep -n</code> rather than <code>grep</code> to get line number always! 2. the zsh/bash has done an alias for grep adding the <code>--color-auto</code> option</p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="only-display-file-name">only display file name<a class="hash-link" href="#only-display-file-name" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">grep -l</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/6637882/how-can-i-use-grep-to-show-just-filenames-on-linux" target="_blank" rel="noopener noreferrer">How can I use grep to show just filenames on Linux? - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="display-lines-before-or-after-or-surround-specific-lines">display lines before or after or surround specific lines<a class="hash-link" href="#display-lines-before-or-after-or-surround-specific-lines" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># A: after</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -A 3 XXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># B: before</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -B 3 XXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># C: context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -C 3 XXX</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/" target="_blank" rel="noopener noreferrer">15 Practical Grep Command Examples In Linux / UNIX</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="skip-binary-files">skip binary files<a class="hash-link" href="#skip-binary-files" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">grep -I</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>see: - <a href="https://stackoverflow.com/questions/25853722/how-to-suppress-binary-file-matching-results-in-grep" target="_blank" rel="noopener noreferrer">linux - How to suppress binary file matching results in grep - Stack Overflow</a></p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="good-articles-of-grep-relative">good articles of grep relative<a class="hash-link" href="#good-articles-of-grep-relative" title="标题的直接链接">​</a></h3><blockquote><p>ref</p></blockquote><ul><li><a href="https://queirozf.com/entries/grep-usage-examples#search-for-raw-string" target="_blank" rel="noopener noreferrer">Grep usage examples</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-match-raw-string">how to match raw string<a class="hash-link" href="#how-to-match-raw-string" title="标题的直接链接">​</a></h3><p>use <code>-F</code>.</p><p>!!!warning But if the raw string begins with <code>-</code>, then we need to use <code>-e</code> to force <code>grep</code> recognizing the following string as a pattern otherwise it would catch errors.</p><div class="codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">sample:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -F &quot;xxx&quot; &lt;&lt;&lt; &quot;xxxyyy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -F -e &quot;-xxx&quot; &lt;&lt;&lt; &quot;-xxxxyyy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -F &quot;-xxx&quot; &lt;&lt;&lt; &quot;-xxxx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://stackoverflow.com/questions/11856054/is-there-an-easy-way-to-pass-a-raw-string-to-grep" target="_blank" rel="noopener noreferrer">bash - Is there an easy way to pass a &quot;raw&quot; string to grep? - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-combine-grep-with-if">how to combine <code>grep</code> with <code>if</code><a class="hash-link" href="#how-to-combine-grep-with-if" title="标题的直接链接">​</a></h3><p>using <code>-q</code>.</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">if  grep -q hello a.txt ; then echo yes;else echo no; fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if grep -q word a.txt; then echo yes; else echo no; fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># no</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://blog.csdn.net/leoufung/article/details/48971557" target="_blank" rel="noopener noreferrer">grep -q 用于 if 逻辑判断<!-- -->_<!-- -->六六哥的博客-CSDN 博客<!-- -->_<!-- -->grep if</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-exclude-pattern">how to exclude pattern<a class="hash-link" href="#how-to-exclude-pattern" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># `-v`: `--invert-match`, not match/contain specific string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -v XXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># `-w`: word</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># `-wv`: not match specific word</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -wv XXX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># `-E`: extended regular script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -Ewv &quot;AAA|BBB&quot;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li>very good: <a href="https://linuxize.com/post/grep-exclude/" target="_blank" rel="noopener noreferrer">How to Exclude in Grep | Linuxize</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-exclude-dir---exclude-dirdir">how to exclude dir (<code>--exclude-dir=dir</code>)<a class="hash-link" href="#how-to-exclude-dir---exclude-dirdir" title="标题的直接链接">​</a></h3><p>Recent versions of GNU Grep (&gt;= 2.5.2) provide:</p><p><code>--exclude-dir=dir</code></p><p>which excludes directories matching the pattern dir from recursive directory searches.</p><p>So you can do:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># exclude one dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -R --exclude-dir=node_modules &#x27;some pattern&#x27; /path/to/search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># exclude multi dirs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -R --exclude-dir={AAA,BBB,CCC}  xxxx</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/6565471/how-can-i-exclude-directories-from-grep-r" target="_blank" rel="noopener noreferrer">linux - How can I exclude directories from grep -R? - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-limit-depth--maxdepth">how to limit depth (<code>-maxdepth</code>)<a class="hash-link" href="#how-to-limit-depth--maxdepth" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">find . -maxdepth 4 -type f -exec grep &quot;11.0.0_r1&quot; {}  \;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://unix.stackexchange.com/questions/111722/how-to-do-max-depth-search-in-ack-and-grep" target="_blank" rel="noopener noreferrer">How to do max-depth search in ack and grep? - Unix &amp; Linux Stack Exchange</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output">tip: grep by lines context is MUCH FASTER than grep by words context, and even better for output<a class="hash-link" href="#tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  erb git:(main) ✗ time (cat release/build/mac/皇家小虎快递分析系统.app/Contents/Resources/app/dist/main/main.js | tr &quot;;&quot; &quot;\n&quot; | grep --context=3 &#x27;fake-database&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># var n=this&amp;&amp;this.__importDefault||function(e){return e&amp;&amp;e.__esModule?e:{default:e}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Object.defineProperty(t,&quot;__esModule&quot;,{value:!0}),t.isDbFinished=t.initDbUpdateResult=t.initDbInsertResult=t.DB_UPDATE_DECLINED=t.DB_UPDATED=t.DB_INSERT_DUPLICATED=t.DB_INSERT_SUCCESS=t.DB_UNKNOWN=t.DB_TIMEOUT=t.DB_TABLE_NOT_EXISTED=t.prisma=void 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># const i=r(72298),a=`file:${n(r(71017)).default.join(i.app.getPath(&quot;userData&quot;),&quot;express_match.sqlite.db&quot;)}?connection_limit=1`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># process.env.DATABASE_URL=a,console.log({__dirname,rawDBPath:&quot;file:dev.db?connection_limit=1&quot;,newDBPath:a}),t.prisma={erp:{create:()=&gt;{console.log(&quot;fake-database: creating one&quot;)},findMany:()=&gt;{console.log(&quot;fake-database: finding many&quot;)},upsert:()=&gt;{console.log(&quot;fake-database: upserting one&quot;)}}},t.DB_TABLE_NOT_EXISTED=&quot;DB_TABLE_NOT_EXISTED&quot;,t.DB_TIMEOUT=&quot;DB_TIMEOUT&quot;,t.DB_UNKNOWN=&quot;DB_UNKNOWN&quot;,t.DB_INSERT_SUCCESS=&quot;DB_INSERT_SUCCESS&quot;,t.DB_INSERT_DUPLICATED=&quot;DB_INSERT_DUPLICATED&quot;,t.DB_UPDATED=&quot;DB_UPDATED&quot;,t.DB_UPDATE_DECLINED=&quot;DB_UPDATE_DECLINED&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># t.initDbInsertResult=()=&gt;({nTotal:0,nInserted:0,nDuplicated:0,nTimeout:0,nUnknown:0,nTableNotExist:0})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># t.initDbUpdateResult=()=&gt;({nTotal:0,nUpdated:0,nDropped:0,nTimeout:0,nUnknown:0,nTableNotExist:0})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># t.isDbFinished=e=&gt;{let t=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">( cat  | tr &quot;;&quot; &quot;\n&quot; | grep --color=auto  --context=3 &#x27;fake-database&#x27;; )  0.20s user 0.01s system 121% cpu 0.169 total</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  erb git:(main) ✗ time ( grep -iEo &#x27;.{255}fake-database.{255}&#x27; release/build/mac/皇家小虎快递分析系统.app/Contents/Resources/app/dist/main/main.js | tr &#x27;;&#x27; &#x27;\n&#x27; )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =`file:${n(r(71017)).default.join(i.app.getPath(&quot;userData&quot;),&quot;express_match.sqlite.db&quot;)}?connection_limit=1`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># process.env.DATABASE_URL=a,console.log({__dirname,rawDBPath:&quot;file:dev.db?connection_limit=1&quot;,newDBPath:a}),t.prisma={erp:{create:()=&gt;{console.log(&quot;fake-database: creating one&quot;)},findMany:()=&gt;{console.log(&quot;fake-database: finding many&quot;)},upsert:()=&gt;{console.log(&quot;fake-database: upserting one&quot;)}}},t.DB_TABLE_NOT_EXISTED=&quot;DB_TABLE_NOT_EXISTED&quot;,t.DB_TIMEOUT=&quot;DB_TIMEOUT&quot;,t.DB_UNKNOWN=&quot;DB_UNKNOWN&quot;,t.DB_INSERT_SUCCESS=&quot;D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">( grep --color=auto --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,.tox} -iEo  t)  3.27s user 0.01s system 99% cpu 3.279 total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="tip-grep-by-negative-captured-group-needs-to-use-ggrep">tip: grep by negative captured group needs to use <code>ggrep</code><a class="hash-link" href="#tip-grep-by-negative-captured-group-needs-to-use-ggrep" title="标题的直接链接">​</a></h3><p>Examples Given the string foobarbarfoo:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">bar(?=bar)     # finds the 1st bar (&quot;bar&quot; which has &quot;bar&quot; after it)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bar(?!bar)     # finds the 2nd bar (&quot;bar&quot; which does not have &quot;bar&quot; after it)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(?&lt;=foo)bar    # finds the 1st bar (&quot;bar&quot; which has &quot;foo&quot; before it)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(?&lt;!foo)bar    # finds the 2nd bar (&quot;bar&quot; which does not have &quot;foo&quot; before it)</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also combine them:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># finds the 1st bar (&quot;bar&quot; with &quot;foo&quot; before it and &quot;bar&quot; after it)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(?&lt;=foo)bar(?=bar)</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/2973436/regex-lookahead-lookbehind-and-atomic-groups" target="_blank" rel="noopener noreferrer">lookaround - Regex lookahead, lookbehind and atomic groups - Stack Overflow</a></li></ul><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">grep -Pio &#x27;(?&lt;=heads\/)(.*?)(?=\n)&#x27; text.txt # P option instead of E</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref: <a href="https://stackoverflow.com/a/45534127/9422455" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/a/45534127/9422455</a></p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="grep-filter-inout-files-via-l--v--l">grep filter in/out files via <code>l | v | L</code><a class="hash-link" href="#grep-filter-inout-files-via-l--v--l" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643974557449-75508ca3181f85ec0044b1cc5810b346cc73251e03d00d384a911833bd4584c9.png" alt="picture 3" class="img_vXGZ"></p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643974532913-692eec2dec71c671c3321546be18bc319276d95bc71edde0fc99401c1d54b833.png" alt="picture 2" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><a href="https://unix.stackexchange.com/questions/339619/is-grep-v-l-equivalent-to-grep-l" target="_blank" rel="noopener noreferrer">Is &#x27;grep -v -l&#x27; equivalent to &#x27;grep -L&#x27;? - Unix &amp; Linux Stack Exchange</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandtree">command:tree<a class="hash-link" href="#commandtree" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="筛选文件">筛选文件<a class="hash-link" href="#筛选文件" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_rB0w" id="法一标准做法是使用--prune--p-pattern">法一：标准做法是使用<code>--prune -P PATTERN</code><a class="hash-link" href="#法一标准做法是使用--prune--p-pattern" title="标题的直接链接">​</a></h4><p>!!! warning 注意这里的 PATTERN 不是标准的正则，具体可以见<code>man tree</code>内关于<code>-P</code>的说明： <code>text -P pattern List only those files that match the wild-card pattern. You may have multiple -P options. Note: you must use the -a option to also consider those files beginning with a dot `.&#x27; for matching. Valid wildcard operators are `*&#x27; (any zero or more characters), `**` (any zero or more characters as well as null /&#x27;s, i.e. /**/ may match a single /), `?&#x27; (any single character), `[...]&#x27; (any single character listed between brackets (optional - (dash) for character range may be used: ex: [A-Z]), and `[^...]&#x27; (any single character not listed in brackets) and `|&#x27; separates alternate patterns. A &#x27;/&#x27; at the end of the pattern matches directories, but not files. </code></p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">2022/07/04 11:55:46 (base) ➜  2.0b4.0.9 git:(master) ✗ tree --prune -P &quot;*.db&quot; | head -n 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── 1d35a41b3adb8b335cc59362ad55ee88</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Beta.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ChatSync</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_rB0w" id="法二基于-grep">法二：基于 grep<a class="hash-link" href="#法二基于-grep" title="标题的直接链接">​</a></h4><p>可以使用<code>tree -f</code>打印完整路径再使用 grep：</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">2022/07/04 11:59:24 (base) ➜  2.0b4.0.9 git:(master) ✗ tree -f | grep -E &quot;\.db$&quot; | head -n 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── ./1d35a41b3adb8b335cc59362ad55ee88/Account/Beta.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── ./1d35a41b3adb8b335cc59362ad55ee88/ChatSync/ChatSync.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── ./1d35a41b3adb8b335cc59362ad55ee88/Contact/wccontact_new2.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── ./1d35a41b3adb8b335cc59362ad55ee88/Favorites/favorites.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── ./1d35a41b3adb8b335cc59362ad55ee88/FileStateSync/filestatesync.db</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可以使用<code>find</code>打印完整路径再使用 grep:</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">2022/07/04 11:59:31 (base) ➜  2.0b4.0.9 git:(master) ✗ find . | grep -E &quot;\.db$&quot; | head -n 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./KeyValue/1d35a41b3adb8b335cc59362ad55ee88/KeyValue.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Backup/1d35a41b3adb8b335cc59362ad55ee88/A2158f8233bc48b5/Backup.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Backup/1d35a41b3adb8b335cc59362ad55ee88/F10A43B8-5032-4E21-A627-F26663F39304/Backup.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./1d35a41b3adb8b335cc59362ad55ee88/solitaire/solitaire_chat.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./1d35a41b3adb8b335cc59362ad55ee88/Stickers/stickers.db</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可以直接摆烂，不打印路径，从而呈现一定的文件夹结构：</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">2022/07/04 12:00:04 (base) ➜  2.0b4.0.9 git:(master) ✗ tree | grep -E &quot;\.db$&quot; | head -n 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Beta.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── ChatSync.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── wccontact_new2.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── favorites.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── filestatesync.db</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>总体来看，这三者都不如法一。</p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-display-chinese--n">how to display chinese (<code>-N</code>)<a class="hash-link" href="#how-to-display-chinese--n" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">tree -N</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://blog.csdn.net/cxrsdn/article/details/100006348" target="_blank" rel="noopener noreferrer">(23 条消息) linux 下 tree 命令中文字符乱码解决方案<!-- -->_<!-- -->cxrsdn 的博客-CSDN 博客<!-- -->_<!-- -->linux tree 中文</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-exclude-dir-i">how to exclude dir(<code>-I</code>)<a class="hash-link" href="#how-to-exclude-dir-i" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># use `|` to split choices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># exclude</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tree -I &quot;XXX|YYY&quot;   # maybe it means &#x27;ignore&#x27;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://unix.stackexchange.com/questions/61074/tree-command-for-multiple-includes-and-excludes" target="_blank" rel="noopener noreferrer">tree command for multiple includes and excludes - Unix &amp; Linux Stack Exchange</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-change-default-char-style">how to change default char style<a class="hash-link" href="#how-to-change-default-char-style" title="标题的直接链接">​</a></h3><p>see: - <a href="https://unix.stackexchange.com/questions/127063/tree-command-output-with-pure-7-bit-ascii-output" target="_blank" rel="noopener noreferrer">&quot;tree&quot; command output with &quot;pure&quot; (7-bit) ASCII output - Unix &amp; Linux Stack Exchange</a></p><p>使用 <code>--charset</code> 选项：</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- default --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2022/07/04 11:52:36 (base) ➜  2.0b4.0.9 git:(master) ✗ tree --prune -P &quot;*.db&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── 1d35a41b3adb8b335cc59362ad55ee88</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Beta.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ChatSync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── ChatSync.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- ascii --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2022/07/04 11:53:14 (base) ➜  2.0b4.0.9 git:(master) ✗ tree --prune -P &quot;*.db&quot; --charset ascii</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|-- 1d35a41b3adb8b335cc59362ad55ee88</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- Account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   `-- Beta.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |-- ChatSync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">|   |   `-- ChatSync.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandheadtail">command:head/tail<a class="hash-link" href="#commandheadtail" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="head-basic-usage">head basic usage<a class="hash-link" href="#head-basic-usage" title="标题的直接链接">​</a></h3><p>head 这个命令行其实没有什么要讲的，用法非常简单。</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># output the first 5 lines (default)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">head FILE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># output the first N lines (replace &quot;N&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">head -n &quot;N&quot; FILES</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="best-practice-skip-lines">BEST-PRACTICE: skip lines<a class="hash-link" href="#best-practice-skip-lines" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># limit 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| head -n 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># skip 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| tail -n -5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># skip 5 and limit 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| tail -n -5 | head -n 5</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>sample</p></blockquote><p>I used this to perform a page switch action.</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644169940990-2f5bc57e556e4ce8c297fd7ce371dd96c2e5965e908e102d802da75fc52fe457.png" alt="picture 6" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><p><a href="https://stackoverflow.com/questions/604864/print-a-file-skipping-the-first-x-lines-in-bash" target="_blank" rel="noopener noreferrer">linux - Print a file, skipping the first X lines, in Bash - Stack Overflow</a></p></li><li><p><a href="https://stackoverflow.com/questions/14562423/is-there-a-way-to-ignore-header-lines-in-a-unix-sort" target="_blank" rel="noopener noreferrer">sorting - Is there a way to ignore header lines in a UNIX sort? - Stack Overflow</a></p></li><li><p><a href="https://fabianlee.org/2020/01/18/bash-skipping-lines-at-the-top-or-bottom-of-a-stream/" target="_blank" rel="noopener noreferrer">Bash: Skipping lines at the top or bottom of a stream – Fabian Lee : Software Engineer</a></p></li><li><p><a href="https://stackoverflow.com/questions/40120747/how-to-skip-first-line-of-a-file-and-read-the-remaining-lines-as-input-of-a-c-pr" target="_blank" rel="noopener noreferrer">linux - How to skip first line of a file and read the remaining lines as input of a C program? - Stack Overflow</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-exclude-the-last-k-rows">how to exclude the last k rows<a class="hash-link" href="#how-to-exclude-the-last-k-rows" title="标题的直接链接">​</a></h3><p>但是今天 2022-01-26 碰到了一个问题，就是要获取前 n-1 行，然后试了 stackoverflow 上的方案好像都不对。</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">head -n -1 FILE</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>后来才知道，是因为 mac 的原因，要用<code>ghead</code>才行……</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">brew install coreutils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ghead -n -4 main.m</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>而 <code>ghead</code> 是在 <code>coreutils</code> 里面，这个名字一看我就有，所以也不用装了。</p><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/16206507/head-command-to-skip-last-few-lines-of-file-on-mac-osx" target="_blank" rel="noopener noreferrer">shell - head command to skip last few lines of file on MAC OSX - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="discuss-use-head-or-sed">discuss: use <code>head</code> or <code>sed</code><a class="hash-link" href="#discuss-use-head-or-sed" title="标题的直接链接">​</a></h3><p>今天之所以用到 head 其实是因为我想对一个流做 sed 处理，但略去最后一行。</p><p>我一开始想用 sed 里的范围标识（地址），但一直没试出来。</p><p>后来我把地址标识换成最简单的<code>1,4s/find/replace/</code>之后才意识到，我的思路是不对的。</p><p><code>1,4</code>是一个确实被处理的范围选择，但结果就是，N 行中，前四行都被 sed 替换了，但是后面的行尽管没替换依旧会打印出来，而这正是 sed 的默认行为，它是一个流转换器。</p><p>那如果纯粹基于 sed，进行转换，并且去掉最后一行，就要用到<code>-o</code>结合好像是<code>/p</code>的 identifier，具体我也记不大清了。意思就是输出所有被匹配的行，但如果这样的话被匹配的行就会输出两遍了（两遍不必相同（NOT-SURE），一个是转换前，一个是转换后），所以另一个标识符就是阻止原内容的输出，这样就只输出匹配的行的处理结果。</p><p>所以，这个思路其实有问题，它可以对，也可以不对，它如果保证匹配 n-1 行，则对；否则就不满足需求了，我们的需求是处理前 n-1 行，并且不管匹配不匹配，都要输出，尽管实际上是都匹配的。</p><p>总之，理解到这层后，既可以用纯 sed 的方案，也可以用 head+sed 的方案，一个负责改，一个负责删即可，至于先后，结果都一样，也许 head 在前效率会更高一些。</p><p>所以，还是挺有意思的，这个。</p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandtop">command:top<a class="hash-link" href="#commandtop" title="标题的直接链接">​</a></h2><p>Today(2022-01-27) I finally understood how to use the command of <code>top</code> (though <code>htop</code> is better for display but possibly more costly).</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643248016619-b1ac7d3bcd2a9eb546a53a0e5da199d11d573f85a61a9317d679d002d98012fa.png" alt="picture 88" class="img_vXGZ"></p><p>I can switch the display format of memory usage when <code>top</code> has gone to the interactive interface.</p><p>The first option I can use is <code>E</code>, which allows to switch memory unit between <code>KiB | MiB | GiB | TiB</code>.</p><p>And the second option I can use is <code>m</code>, which switches the memory display type between pure text, columns graph and block graph.</p><blockquote><p>⚠️</p><ol><li>不可以在命令行中直接用 <code>top -M</code> （显示以<code>MB</code>为单位的内存使用量），因为<code>top -h</code>的帮助中写的很清楚，只支持部分选项。在 stackoverflow 上有 <code>top -M</code> 的建议(see: <a href="https://unix.stackexchange.com/questions/105908/how-to-display-meminfo-in-megabytes-in-top" target="_blank" rel="noopener noreferrer">linux - How to display meminfo in megabytes in top? - Unix &amp; Linux Stack Exchange</a>)，但可能我的版本（Ubuntu 18）不支持。正确的做法，是先进入<code>top</code>交互界面，然后按<code>E</code>，这样就会切换单位，比如按两次切换到<code>GB</code>单位。另外，独立的，还可以按<code>m</code>去切换内存的显示样式，比如像<code>htop</code>那种竖条状！</li><li>以上只在 ubuntu 上测试通过，在 mac 上我刚试了，不行！所以到底怎么用命令，还得根据平台自身！</li><li>具体的，可以通过 <code>COMMAND -h</code>去看简洁版的帮助页面，或者<code>man COMMAND</code> (e.g. <a href="https://manpages.ubuntu.com/manpages/bionic/en/man1/top.1.html" target="_blank" rel="noopener noreferrer">Ubuntu Manpage: top - display Linux processes</a>) 去看完整版的帮助页面！</li></ol></blockquote><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandcattac">command:cat|tac<a class="hash-link" href="#commandcattac" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="reverse-order-of-lines">reverse order of lines<a class="hash-link" href="#reverse-order-of-lines" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">| tac</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://www.baeldung.com/linux/reverse-order-of-file-lines" target="_blank" rel="noopener noreferrer">How to Reverse the Order of Lines in a File in Linux | Baeldung on Linux</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-write-raw-string-into-file-using-cat">how to write raw string into file using <code>cat</code><a class="hash-link" href="#how-to-write-raw-string-into-file-using-cat" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOPATH=$HOME/my-go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt;EOF &gt;&gt; ~/.profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export GOPATH=$GOPATH</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/2500436/how-does-cat-eof-work-in-bash" target="_blank" rel="noopener noreferrer">linux - How does &quot;cat \&lt;\&lt; EOF&quot; work in bash? - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="usage-how-to-know-whats-the-bash-string">usage: how to know what&#x27;s the bash string<a class="hash-link" href="#usage-how-to-know-whats-the-bash-string" title="标题的直接链接">​</a></h3><p>When using <code>bash</code> or <code>zsh</code>, we are supposed to use the function of <code>bindKey</code>.</p><p>However, the key we typed are always hard to remember, e.g. what&#x27;s the <code>ctrl</code> key?</p><p>Luckily, there&#x27;s a super easy (and also interactive) way for us to know it via <code>cat</code>, just to type <code>cat</code> followed by <code>enter</code> in terminal, and then the terminal would display what the character would be when we typing them.</p><p>E.g. here is what&#x27;s the result when we combine <code>control | option | command</code> with arrow left and arrow right would be:</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643287045491-0d652ec4cf50fd00bdfe265d1bcbc4df4482ffc562e30624d26218fd2d841adf.png" alt="picture 114" class="img_vXGZ"></p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandzipunzipgunzip">command:zip|unzip|gunzip<a class="hash-link" href="#commandzipunzipgunzip" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="gunzip-a-gzip-file">(g)unzip a gzip file<a class="hash-link" href="#gunzip-a-gzip-file" title="标题的直接链接">​</a></h3><p>failed to unzip a gzip file(empty):</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644230005139-8ec53f8ed3f2ba873c2fdafb30ed57003d97f7440148f4722db8935cc41bae2b.png" alt="picture 6" class="img_vXGZ"></p><p>successfully (g)unzipped a gzip file(empty):</p><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644230034864-05ea639250d3fa8366d3a5663bb7e8bcb6b1be8a62d0ceb6343b2dc46bf8428a.png" alt="picture 7" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><a href="https://itectec.com/unixlinux/bash-how-to-check-if-a-gzipped-file-is-empty/" target="_blank" rel="noopener noreferrer">Bash – How to check if a gzipped file is empty – iTecTec</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-unzip-to-specific-directory">how to unzip to specific directory<a class="hash-link" href="#how-to-unzip-to-specific-directory" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">unzip file.zip -d TARGET_DIR</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://askubuntu.com/questions/994611/how-to-unzip-into-a-given-directory" target="_blank" rel="noopener noreferrer">bash - How to unzip into a given directory - Ask Ubuntu</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandkill">command:kill<a class="hash-link" href="#commandkill" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"> ps aux  |  grep -i  electron |  awk &#x27;{print $2}&#x27;  |  xargs sudo kill -9</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><p><a href="https://stackoverflow.com/a/30486159/9422455" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/a/30486159/9422455</a></p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandscp">command:scp<a class="hash-link" href="#commandscp" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R USER_NAME REMOTE_FOLDER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 777 REMOTE_FOLDER</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>the <code>-R</code> means &quot;recursively&quot; since there may be file deeply in the target folder that won&#x27;t allow you to write.</p><p>Hence, you can know, you can specifically claim your authority on the file or directory, since it would not automatically transfer.</p><p>Thus, a flexible approach is that just add a <code>-R</code> flag.</p><p>reference: <a href="https://unix.stackexchange.com/a/347412" target="_blank" rel="noopener noreferrer">https://unix.stackexchange.com/a/347412</a></p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandlsof">command:lsof<a class="hash-link" href="#commandlsof" title="标题的直接链接">​</a></h2><p>check status of port occupation</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">lsof -i:8888</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandufw">command:ufw<a class="hash-link" href="#commandufw" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># check status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># white list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw allow 9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://blog.csdn.net/jiaochiwuzui/article/details/80907521" target="_blank" rel="noopener noreferrer">(20 条消息) Ubuntu 防火墙的开启，关闭，端口的打开，查看<!-- -->_<!-- -->jiaochiwuzui 的博客-CSDN 博客<!-- -->_<!-- -->ubuntu 查看防火墙开启的端口</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandtime">command:time<a class="hash-link" href="#commandtime" title="标题的直接链接">​</a></h2><p>I can directly using <code>time ( COMMAND_1 | COMMAND_2 )</code>, so that it can calculate the final time of this pipe.</p><p>However, time calculation is a little more sophisticated than what would I have thought, refer more to: <a href="https://unix.stackexchange.com/questions/364156/how-can-i-time-a-pipe/364157" target="_blank" rel="noopener noreferrer">bash - How can I time a pipe? - Unix &amp; Linux Stack Exchange</a></p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandtr">command:tr<a class="hash-link" href="#commandtr" title="标题的直接链接">​</a></h2><p>It&#x27;s useful to split line to lines.</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">$ echo &quot;111;222;333&quot; | tr &#x27;;&#x27; &#x27;\n&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">111</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">222</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">333</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># use `nl` to add the line number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat main.js | tr &#x27;;&#x27; &#x27;\n&#x27; | nl -ba | head -6</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandcd">command:cd<a class="hash-link" href="#commandcd" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="usage-a-superb-scene-using-cd-">usage: a superb scene using <code>cd .</code><a class="hash-link" href="#usage-a-superb-scene-using-cd-" title="标题的直接链接">​</a></h3><img loading="lazy" alt="picture 10" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-howto-1641284537356-d66d64fc07918dc1e98e62dd2dd70454a9ff16b2b2cc6da39fe18cbc6a5b07a1.png" width="480" class="img_vXGZ"><p>ref:</p><ul><li><a href="https://superuser.com/questions/702402/how-do-i-refresh-directory-in-bash" target="_blank" rel="noopener noreferrer">linux - How do I refresh directory in BASH? - Super User</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandsed">command:sed<a class="hash-link" href="#commandsed" title="标题的直接链接">​</a></h2><blockquote><p>ref</p></blockquote><ul><li><p><a href="https://www.gnu.org/software/sed/manual/sed.html" target="_blank" rel="noopener noreferrer">✨✨✨ sed, a stream editor✨✨✨</a></p></li><li><p><a href="https://www.grymoire.com/Unix/Sed.html" target="_blank" rel="noopener noreferrer">Sed - An Introduction and Tutorial</a></p></li><li><p><a href="https://www.mankier.com/1/sed" target="_blank" rel="noopener noreferrer">sed man page - General Commands | ManKier</a></p></li></ul><p>a good start:</p><ul><li><a href="https://www.geeksforgeeks.org/sed-command-in-linux-unix-with-examples/" target="_blank" rel="noopener noreferrer">Sed Command in Linux/Unix with examples - GeeksforGeeks</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-replace-a-couple-of-files">how to replace a couple of files<a class="hash-link" href="#how-to-replace-a-couple-of-files" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">SED_COMMAND `PIPED_FILES`</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>sample: replace all the files under a specific folder</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sed -i &quot;s/find/replace/g&quot; `grep -rl find folder`</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>see:</p><ul><li><a href="https://www.cnblogs.com/sucretan2010/p/11898107.html" target="_blank" rel="noopener noreferrer">linux sed 批量查找并替换文件夹下所有文件的内容 - sucre_tan - 博客园</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-ignore-case-in-sed">how to ignore case in sed<a class="hash-link" href="#how-to-ignore-case-in-sed" title="标题的直接链接">​</a></h3><p><code>/i</code></p><p>see: - <a href="https://www.cyberciti.biz/faq/unixlinux-sed-case-insensitive-search-replace-matching/" target="_blank" rel="noopener noreferrer">sed Case Insensitive Search Matching and Replacement - nixCraft</a></p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-print-only-matched-lines">how to print only matched lines<a class="hash-link" href="#how-to-print-only-matched-lines" title="标题的直接链接">​</a></h3><ol><li><code>-n</code> means &quot;No automatically print the each line&quot;</li><li><code>/p</code> means &quot;Print the processed line&quot;</li></ol><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># print only the matched lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sed -n &quot;s|find|replace|p&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># don&#x27;t print any line (so useless)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sed -n &quot;s|find|replace|&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># print all the line each, with matched line again(twice, and it&#x27;s the same)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sed &quot;s|find|replace|p&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># TODO: print the processed, and apply function on it.</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://stackoverflow.com/questions/17511639/sed-print-only-matching-group" target="_blank" rel="noopener noreferrer">regex - sed: print only matching group - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="-how-to-increment-version-number">✨ how to increment version number<a class="hash-link" href="#-how-to-increment-version-number" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_rB0w" id="resolution-1-use-echo-based-on-e">resolution 1: use <code>echo</code> based on <code>//e</code><a class="hash-link" href="#resolution-1-use-echo-based-on-e" title="标题的直接链接">​</a></h4><p>special thanks to: <a href="https://stackoverflow.com/a/14348899/9422455" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/a/14348899/9422455</a></p><h4 class="anchor anchorWithStickyNavbar_rB0w" id="resolution-2-answer">resolution 2: answer<a class="hash-link" href="#resolution-2-answer" title="标题的直接链接">​</a></h4><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">gsed -i -E &#x27;s|(.*)&quot;version&quot;: &quot;([0-9]+)\.([0-9]+)\.([0-9]+)&quot;|echo &quot;\1\\&quot;version\\&quot;: \\&quot;\2.\3.$((\4+1))\\&quot;&quot;|e&#x27; package.json</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>test what happened using <code>//pe</code></p></blockquote><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  erb_sqlite git:(main) head -3 release/app/package.json                                                                                                                                           [7-01-22 | 4:18:17]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;mark.hjxh.express_match&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;version&quot;: &quot;0.2.2&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  erb_sqlite git:(main) gsed -E &#x27;s|(.*)&quot;version&quot;: &quot;([0-9]+)\.([0-9]+)\.([0-9]+)&quot;|echo &quot;\1\\&quot;version\\&quot;: \\&quot;\2.\3.$((\4+1))\\&quot;&quot;|pe&#x27; release/app/package.json                                        [7-01-22 | 4:08:57]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;mark.hjxh.express_match&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;  \&quot;version\&quot;: \&quot;0.2.$((2+1))\&quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;version&quot;: &quot;0.2.3&quot;,</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>explanation</p></blockquote><p>In fact, the <code> &quot;version&quot;: &quot;0.2.2&quot;,</code> is changed into <code>echo &quot; \&quot;version\&quot;: \&quot;0.2.$((2+1))\&quot;&quot;,</code>.</p><p>And then the <code>e</code> syntax indicates run this sequency string as a command, so that it finally turns into <code> &quot;version&quot;: &quot;0.2.3&quot;,</code></p><blockquote><p>attention</p></blockquote><ol><li>the <code>&quot;</code> needs to be escaped, and to escape <code>&quot;</code>, we need to use a <code>\</code>, and to let the <code>\</code> work in the <code>echo</code> function, we need to escape it again, that is to be <code>\\&quot;</code></li><li><code>sed</code> will match all line (including the leading space), and the <code>e</code> would execute all line. So if I just replace the version number part into <code>echo &quot;\\&quot;0.2.3\\&quot;&quot;</code>, then all the line would turns into <code> &quot;version&quot;: echo &quot;\\&quot;0.2.3\\&quot;&quot;</code>, which is certainly unwanted and deserves reflection.</li></ol><blockquote><p>core ref</p></blockquote><p><a href="https://stackoverflow.com/questions/14348432/how-to-find-replace-and-increment-a-matched-number-with-sed-awk" target="_blank" rel="noopener noreferrer">bash - How to find/replace and increment a matched number with sed/awk? - Stack Overflow</a></p><p><code>perl | awk</code> alternative</p><ul><li><a href="https://stackoverflow.com/questions/8653126/how-to-increment-version-number-in-a-shell-script" target="_blank" rel="noopener noreferrer">bash - How to increment version number in a shell script? - Stack Overflow</a></li></ul><blockquote><p>official hack way (but I failed)</p></blockquote><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">#!/usr/bin/sed -f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/[^0-9]/ d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># replace all trailing 9s by _ (any other character except digits, could</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># be used)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/9\(_*\)$/_\1/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">td</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># incr last digit only.  The first line adds a most-significant</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># digit of 1 if we have to add a digit.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/^\(_*\)$/1\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/8\(_*\)$/9\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/7\(_*\)$/8\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/6\(_*\)$/7\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/5\(_*\)$/6\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/4\(_*\)$/5\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/3\(_*\)$/4\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/2\(_*\)$/3\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/1\(_*\)$/2\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">s/0\(_*\)$/1\1/; tn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y/_/0/</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://www.gnu.org/software/sed/manual/sed.html#Increment-a-number" target="_blank" rel="noopener noreferrer">sed, a stream editor</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-match-digits-0-9-or-digit">how to match digits (<code>[0-9]</code> or <code>:digit:</code>)<a class="hash-link" href="#how-to-match-digits-0-9-or-digit" title="标题的直接链接">​</a></h3><blockquote><p>ref:</p></blockquote><p>thanks for the direction to sed official documentation in this post.</p><ul><li><a href="https://stackoverflow.com/questions/14671293/why-doesnt-d-work-in-regular-expressions-in-sed" target="_blank" rel="noopener noreferrer">regex - Why doesn&#x27;t <code>\d</code> work in regular expressions in sed? - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-insert-text-before-first-line-of-file">how to insert text before first line of file<a class="hash-link" href="#how-to-insert-text-before-first-line-of-file" title="标题的直接链接">​</a></h3><p>suppose the text is:</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">@tailwind base;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@tailwind components;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@tailwind utilities;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and the file is <code>public/style.css</code></p><p>first, export this variable for better understanding of commands:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">T=&#x27;@tailwind base;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@tailwind components;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@tailwind utilities;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F=&#x27;public/style.css&#x27;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and copy file as a backup:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">cp $F ${F}_</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>then the reset command is:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">cp ${F}_ $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_rB0w" id="resolution-1-use-cat-and-">resolution 1: use <code>cat</code> and <code>;</code><a class="hash-link" href="#resolution-1-use-cat-and-" title="标题的直接链接">​</a></h4><p>The <code>cat</code> approach meets our intuition, but needs a temp file.</p><p>First, we dump the <code>T</code> into <code>temp</code> file, then append <code>F</code> into temp, finally replace <code>F</code> with temp, that is:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">echo $T &gt; temp; cat $F &gt;&gt; temp; mv temp $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Be careful about the second operator of <code>&gt;&gt;</code> since it means <code>append</code> otherwise the <code>$T</code> would be flushed, then <code>$F</code> keeps unchanged.</p><p>refer:</p><ul><li><a href="https://unix.stackexchange.com/questions/159513/what-are-the-shells-control-and-redirection-operators" target="_blank" rel="noopener noreferrer">What are the shell&#x27;s control and redirection operators? - Unix &amp; Linux Stack Exchange</a></li></ul><h4 class="anchor anchorWithStickyNavbar_rB0w" id="resolution-2-use-cat-and-">resolution 2: use <code>cat</code> and <code>|</code><a class="hash-link" href="#resolution-2-use-cat-and-" title="标题的直接链接">​</a></h4><p>In last solution, we used 2 &#x27;;&#x27;, and there is an easy way to change it to just 1 &#x27;;&#x27;.</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | cat - $F &gt; temp; mv temp $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this solution, the <code>$T</code> echoed into second pipe, and <code>cat</code> used <code>-</code> to capture it then joined with <code>$F</code> and dumped into temp, which surely is faster.</p><p>refer:</p><ul><li><p><a href="https://superuser.com/questions/1388584/what-does-the-last-hyphen-mean-in-options-of-bash" target="_blank" rel="noopener noreferrer">linux - What does the last &quot;-&quot; (hyphen) mean in options of <code>bash</code>? - Super User</a></p></li><li><p><a href="https://unix.stackexchange.com/questions/16357/usage-of-dash-in-place-of-a-filename" target="_blank" rel="noopener noreferrer">shell - Usage of dash (-) in place of a filename - Unix &amp; Linux Stack Exchange</a></p></li></ul><h4 class="anchor anchorWithStickyNavbar_rB0w" id="resolution-3-use-sed-s-command">resolution 3: use sed s-command<a class="hash-link" href="#resolution-3-use-sed-s-command" title="标题的直接链接">​</a></h4><p>In the above 2 solutions, we both need an IO, i.e. first saving into a &#x27;temp&#x27; file and move to override the raw file, which could be low-efficiently and not elegant.</p><p>There&#x27;s a way allowing us to finish the &#x27;join&#x27; action just in the pipe and finally leads to inplace-modify target file. That is &quot;sed&#x27;s s-command&quot;.</p><img loading="lazy" alt="picture 24" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379168300-linux-howto-90b435ef191284a35f21cb8cac698769b8548bfe2b3f90db2be5ea988a56c636.png" width="480" class="img_vXGZ"><img loading="lazy" alt="picture 25" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379622241-linux-howto-e51b228ec26d453924d9731bc86f94185eccbc8ea4d43954698c4217845ca262.png" width="480" class="img_vXGZ"><p>When using <code>s-command</code>, we can easily apply regex grammar to achieve what we want.</p><img loading="lazy" alt="picture 26" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379819166-linux-howto-c717ac5a605fb416fa2f472e202a74949ed8b34c3556d06ca6b70c8202d70901.png" width="480" class="img_vXGZ"><p>Like this, we can easily insert text in front of a sequency of text based on regex of &#x27;^&#x27;, which means the beginning of text.</p><p>And then, since the basic grammar of how to insert text before specific line of an input file in <code>sed</code> is <code>sed -i &#x27;Ni TEXT&#x27; $F</code> , the problem then converts to how to join &#x27;1i&#x27; with $T. That is what we just learned can be put into practice:</p><img loading="lazy" alt="picture 27" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640380337394-linux-howto-d8bfb544ab1b2db098a1fd9138401997b9b11814af6cbf639243453526a91c02.png" width="480" class="img_vXGZ"><p>You see, now all the commands have nothing to do with the io, and the principle behind this command chain is straightforward: join into <code>1i $T</code> then use it as <code>sed -i</code>’s parameter (via <code>-f-</code> which is the former pipe).</p><h4 class="anchor anchorWithStickyNavbar_rB0w" id="resolution-4-use-sed-e-command">resolution 4: use sed e-command<a class="hash-link" href="#resolution-4-use-sed-e-command" title="标题的直接链接">​</a></h4><img loading="lazy" alt="picture 16" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375147417-linux-howto-e0475887ff34e4a4a0be217c3596e054d2bdfa01f28f360f2459123e0b2175f7.png" width="480" class="img_vXGZ"><img loading="lazy" alt="picture 17" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375169955-linux-howto-57609e425971259dd89c05c571047e701cb2c44dcc4deac43b0724a7295d8f44.png" width="480" class="img_vXGZ"><p>I&#x27;d think the e-command is quite confusing, but does good job.</p><p>I made some tests on the e-command to help myself understand.</p><p>In the above introduction, it indicates that if &#x27;without parameters, the e command executes the command that is found in space and replace the pattern space with the output&#x27;.</p><p>suppose we have <code>a=&#x27;aaa\necho &quot;bbb&quot; \nccc&#x27;</code>, then if we runs <code>echo $a | gsed &#x27;2e&#x27;</code>, that&#x27;s to say run the second line as a command and let others stay as what they are: <img loading="lazy" alt="picture 18" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375663511-linux-howto-18fd2906bf27a739476740fbe2c713a3c42b40de5865cebd14c08e696ed0b39a.png" width="480" class="img_vXGZ"></p><p>However, &#x27;if a parameter is specified, instead, the e command interprets it as a command and sends its output to the output stream.&#x27;</p><p>I made an example which may help us to understand what&#x27;s the mechanism of <code>gsed &#x27;ne xxx</code>, in which <code>xxx</code> is the so-called &#x27;parameter&#x27;.</p><img loading="lazy" alt="picture 19" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640376208972-linux-howto-5309698b6833082cf93b3b0f69cda3616678ad00d3e5141895bcec14b8684f57.png" width="480" class="img_vXGZ"><p>You can see, as the following shows, since a is a three-line text and sent into the pipe as stream, so first line shows &#x27;aaa&#x27;, and second line shows &#x27;echo &quot;bbb&quot;&#x27;, as what we preset.</p><p>The most notable point is that since <code>gsed</code> sets a <code>3e</code> command which means &#x27;it will execute following commands at 3rd row of stream&#x27;. Thus, the following commands <code>xxx\n echo &quot;yyy&quot;...</code> are executed as separate commands split by lines.</p><p>Obviously, neither <code>xxx</code> nor <code>zzz</code> is a valid command and turned into an error. Plus, since the level of error usually is a bit higher than normal output, the error of <code>zzz</code> came before <code>yyy</code> and then is <code>AAA</code>.</p><p>Finally, when all the commands were executed, the next stream in pipe came, i.e. <code>ccc</code>, and all the sequences came into end.</p><p>ref:</p><p><a href="https://www.gnu.org/software/sed/manual/sed.html#:~:text=by%20standard%20seds.-,e%20%5Bcommand%5D,-This%20command%20allows" target="_blank" rel="noopener noreferrer">sed e-command</a></p><p>Still, we had other topics to talk about.</p><img loading="lazy" alt="picture 20" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377292421-linux-howto-27ab701a1d1cca335a1476e71b742a60b9f6817b5d08521c70c766bfae21290d.png" width="480" class="img_vXGZ"><img loading="lazy" alt="picture 22" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377315692-linux-howto-ea510349e79dd47d4ca01d17200defcf7e8b8b8ebda0b0785c1833ba932c625d.png" width="480" class="img_vXGZ"><p>We can know the classic usage of <code>sed</code> is <code>sed SCRIPT INPUTFILE</code>, and if <code>-e</code> option is used to specify a script, with all non-option parameters taken as input files.</p><p>So what would happen when we combine the <code>-e</code> and an input file.</p><p>Back to what we covered the above, we can move a step further now.</p><img loading="lazy" alt="picture 23" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377647537-linux-howto-8099c8c4212b90dd4f7fa22449dc22ef8135c485c97674a561b87769121c750b.png" width="480" class="img_vXGZ"><p>In this example, we can see that <code>gsed</code> first read one line from <code>../temp</code> file which is <code>AAA</code>, and then paused since the <code>2e</code> flag to execute <code>cat -</code> command which shows all the input stream from <code>echo $a</code>, and finally continued to read the remaining rows of <code>BBB</code> and <code>CCC</code>.</p><p>So what about if we specify a <code>-i</code> option, which means <code>change in position</code>?</p><p>It&#x27;s easy to understand, that is all the output would be sent into <code>../temp</code>, so that <code>../temp</code> changes to the output just like the result in this example shows.</p><p>Hence, we can derive from our conclusion: if we use the following command:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | gsed -i &#x27;1e cat -&#x27;  $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>then the goal of inserting text before first line can be achieved just on the fly~</p><p>How amazing and beautiful it is!</p><p>ref:</p><ul><li><a href="https://www.gnu.org/software/sed/manual/sed.html#:~:text=sed%20%C2%A0%20%5BContents%5D%5BIndex%5D-,2.1%20overview,-Normally%20sed%20is" target="_blank" rel="noopener noreferrer">gsed overview</a></li></ul><blockquote><p>conclusion</p></blockquote><p>G1. To insert lines at the beginning of one file:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. dump, dump, and move</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T &gt; temp; cat $F &gt;&gt; temp; mv temp $F;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. join, dump, and move</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | cat - $F &gt; temp; mv temp $F;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. [sed s-command] concat-string, inplace-insert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | gsed &#x27;1s/^/1i /&#x27; | gsed -i -f- $F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. [sed e-command] ... hard to conclude</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | gsed -i &#x27;1e cat -&#x27; $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>G2. To insert lines at specific line:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. if text is single line, refer: https://stackoverflow.com/a/6537587/9422455</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gsed -i &#x27;Ni $T&#x27; $F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. if text is multi lines, refer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | gsed -i &#x27;Ne cat -&#x27; $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>FIXME: (failed) G3. To insert content after matched position:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. [sed r-command]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | gsed -i &#x27;$P/r -&#x27; $F #  the &#x27;-&#x27; is same for &#x27;/dev/stdin&#x27;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>G4. To insert multi lines manually:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1, when lines are already multiplied, just add `\` after each line, refer: https://askubuntu.com/a/702693</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2, when lines are in one, using `\n`, refer: https://askubuntu.com/a/702690</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>G5. To insert lines after matched line with the same leading space format:</p><blockquote><p>⚠️ 嵌套 sed 正则注意事项</p><ol><li>输入的文本不能与分隔符相同，否则需要转义。比如本次为了在代码中加入注释<code>//</code>，就不方便用<code>/</code>当分隔符</li><li>嵌套正则的时候，为了能分清一级与二级，可以应用不同的分隔符，比如本次更新用了<code>|</code>作为一级，<code>_</code>作为二级</li></ol></blockquote><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. [sed s-command] leading space align with $P</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># failed at 2022-01-25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># echo $T | gsed &#x27;s/^.*$/s\/(^.*?)($P.*$)\/\\1\\2\\n\0\//&#x27; | gsed -E -f- $F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># updated at 2022-01-25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo $T | gsed &#x27;s|^.*$|s_^(.*?)(&#x27;$P&#x27;.*)$_\\1\\2\\n\\1\0_|&#x27; | gsed -E -f- $F | grep --context=3 $T</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># FIXME: (failed) 2. [sed s-command with named-pipe] [more straightforward]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;(echo -n &quot;s/(^.*?)($P.*?$)/\1\2\\\\n\1&quot; &amp; echo -n $T &amp; echo -n &quot;/&quot;) | gsed -E -f- $F</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><img loading="lazy" alt="picture 29" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640385997938-linux-howto-41e634caf1122f991d08d485202adfb56ab71cdfdb7d5ad76ad4f57ca751cbaa.png" width="480" class="img_vXGZ"><p>ref:</p><ul><li><a href="https://serverfault.com/questions/171095/how-do-i-join-two-named-pipes-into-single-input-stream-in-linux" target="_blank" rel="noopener noreferrer">shell - How do I join two named pipes into single input stream in linux - Server Fault</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-replace-multi-lines">how to replace multi-lines<a class="hash-link" href="#how-to-replace-multi-lines" title="标题的直接链接">​</a></h3><p>use <code>perl</code>!</p><p>see: <a href="#how-to-use-perl-to-replace-multi-lines">how to use perl to replace multi-lines</a></p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-trim-line">how to trim line<a class="hash-link" href="#how-to-trim-line" title="标题的直接链接">​</a></h3><blockquote><p>mark: There is no <code>trim</code> command in linux, and it can be pretty easy/clear to be finished via <code>sed</code>.</p></blockquote><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">| gsed -r &#x27;s/\s*(.*?)\s*$/\1/&#x27;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://stackoverflow.com/questions/4422491/how-do-i-trim-lines-read-from-standard-input-on-bash" target="_blank" rel="noopener noreferrer">How do I trim lines read from standard input on bash? - Stack Overflow</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandperl">command:perl<a class="hash-link" href="#commandperl" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="only-print-matched-lines">only print matched lines<a class="hash-link" href="#only-print-matched-lines" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. `-n`: not print all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. `print if `: print conditional lines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perl -ne &#x27;print if s/.*?((\d{1,3}\.){3}\d{1,3}).*/\1/&#x27;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://stackoverflow.com/questions/5098884/only-print-matching-lines-in-perl-from-the-command-line/5103270" target="_blank" rel="noopener noreferrer">Only print matching lines in perl from the command line - Stack Overflow</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-use-perl-to-replace-multi-lines">how to use perl to replace multi-lines<a class="hash-link" href="#how-to-use-perl-to-replace-multi-lines" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">perl -0pe &#x27;s/search/replace/gms&#x27; file</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><code>-0</code>: without the <code>-0</code> argument, Perl processes data line-by-line, which causes multiline searches to fail.</li><li><code>-p</code>: loop over all the lines of a file</li><li><code>-e</code>: execute the following arg as a perl script</li><li><code>/s</code>: changes the behavior of the dot metacharacter <code>.</code> so that it matches any character at all. Normally it matches anything except a newline &quot;\n&quot;, and so treats the string as a single line even if it contains newlines.</li><li><code>/m</code>: modifies the caret <code>^</code> and dollar <code>$</code> metacharacters so that they match at newlines within the string, treating it as a multi-line string. Normally they will match only at the beginning and end of the string.</li><li><code>/g</code>: global replace(not sure)</li></ol><p>ref:</p><ul><li><p>explaining <code>-0</code>: <a href="https://stackoverflow.com/questions/1030787/multiline-search-replace-with-perl" target="_blank" rel="noopener noreferrer">Multiline search replace with Perl - Stack Overflow</a></p></li><li><p>explaining <code>/m | /s</code>: <a href="https://stackoverflow.com/questions/22962588/understanding-perl-regular-expression-modifers-m-and-s" target="_blank" rel="noopener noreferrer">regex - Understanding Perl regular expression modifers /m and /s - Stack Overflow</a></p></li></ul><p>special thanks to: <a href="https://unix.stackexchange.com/a/378991" target="_blank" rel="noopener noreferrer">Not sure if you know, but sed has a great feature where you do not need to use a / as the separator.</a></p><ul><li><p><a href="https://www.mankier.com/1/perl#Description" target="_blank" rel="noopener noreferrer">perl man page - perl-interpreter - General Commands</a></p></li><li><p><a href="https://unix.stackexchange.com/questions/555948/replace-multi-line-string-with-multi-line-string-without-escaping-by-hand" target="_blank" rel="noopener noreferrer">perl - Replace multi line string with multi line string without escaping by hand - Unix &amp; Linux Stack Exchange</a></p></li><li><p><a href="https://www.runoob.com/perl/perl-regular-expressions.html" target="_blank" rel="noopener noreferrer">Perl 正则表达式 | 菜鸟教程</a></p></li><li><p><a href="https://unix.stackexchange.com/questions/378990/find-and-replace-with-sed-with-slash-in-find-and-replace-string" target="_blank" rel="noopener noreferrer">quoting - find and replace with sed with slash in find and replace string - Unix &amp; Linux Stack Exchange</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandxargs">command:xargs<a class="hash-link" href="#commandxargs" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="xargs-for-cp-to-copy-from-stdin"><code>xargs</code> for <code>cp</code> to copy from stdin<a class="hash-link" href="#xargs-for-cp-to-copy-from-stdin" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">( $SH_GEN_FILES; $SH_GEN_DIR ) | xargs cp</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://stackoverflow.com/questions/1610089/how-to-use-cp-from-stdin" target="_blank" rel="noopener noreferrer">cygwin - How to use cp from stdin? - Stack Overflow</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandhistory">command:history<a class="hash-link" href="#commandhistory" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="how-to-not-display-the-number-of-history-output">how to not display the number of <code>history</code> output<a class="hash-link" href="#how-to-not-display-the-number-of-history-output" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># resolution 1. combine with `cut`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">history | cut -c 8-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># FAILED: resolution 2. using `-w`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># it failed on my MacOS, the problem maybe corresponds with GNU version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">history -w /dev/stdout</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://ostechnix.com/how-to-display-bash-history-without-line-numbers/" target="_blank" rel="noopener noreferrer">How To Display Bash History Without Line Numbers - OSTechNix</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandcut">command:cut<a class="hash-link" href="#commandcut" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="cut-column-of-list-from-xx-to-yy">cut column of list from XX to YY<a class="hash-link" href="#cut-column-of-list-from-xx-to-yy" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;a/b/c/d/e/f/g/&quot; | cut -d &quot;/&quot; -f 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;a/b/c/d/e/f/g/&quot; | cut -d &quot;/&quot; -f -3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># a/b/c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;a/b/c/d/e/f/g/&quot; | cut -d &quot;/&quot; -f 3-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># c/d/e/f/g/</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://stackoverflow.com/questions/19437199/cut-from-column-to-end-of-line" target="_blank" rel="noopener noreferrer">bash - Cut from column to end of line - Stack Overflow</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandsortuniq">command:sort/uniq<a class="hash-link" href="#commandsortuniq" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_rB0w" id="sort-by-columnkey">sort by column/key<a class="hash-link" href="#sort-by-columnkey" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">sort -k X</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1645714473713-4a87e8b7dcc8276eb690d0ad89957bea50f32c2d7ce1ca0e981f301d7ebb39f4.png" alt="picture 39" class="img_vXGZ"></p><p>ref:</p><ul><li><a href="https://unix.stackexchange.com/questions/104525/sort-based-on-the-third-column" target="_blank" rel="noopener noreferrer">files - Sort based on the third column - Unix &amp; Linux Stack Exchange</a></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="drop-duplicated">drop duplicated<a class="hash-link" href="#drop-duplicated" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">PIPE-LINES | sort | uniq</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>ref</p></blockquote><ul><li><a href="https://unix.stackexchange.com/questions/76049/what-is-the-difference-between-sort-u-and-sort-uniq" target="_blank" rel="noopener noreferrer">bash - What is the difference between &quot;sort -u&quot; and &quot;sort | uniq&quot;? - Unix &amp; Linux Stack Exchange</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandnl">command:nl<a class="hash-link" href="#commandnl" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># add line number for each line of output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| nl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># format with dot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| nl -w2 -s&quot;. &quot;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>sample</p></blockquote><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644084555960-a0d240a985b2cb12697f1d43febc4d85fdc2a98148ddfa816f71d446bcc2c74f.png" alt="picture 58" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><p><a href="https://www.geeksforgeeks.org/nl-command-in-linux-with-examples/" target="_blank" rel="noopener noreferrer">nl command in Linux with Examples - GeeksforGeeks</a></p></li><li><p><a href="https://unix.stackexchange.com/questions/222218/how-to-add-line-numbers-in-every-line-using-shell-command" target="_blank" rel="noopener noreferrer">How to add line numbers in every line using shell command? - Unix &amp; Linux Stack Exchange</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="fixme-why-there-is-extra-spaces">FIXME: why there is extra spaces<a class="hash-link" href="#fixme-why-there-is-extra-spaces" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644084903604-20480d2f455d05cb8e22ca9472a1fb64307b0f2fa9514cc21614311beed60d7d.png" alt="picture 60" class="img_vXGZ"></p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="gnucommandrename">gnu:command:rename<a class="hash-link" href="#gnucommandrename" title="标题的直接链接">​</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_O4V7"><div class="admonitionHeading_mM4K"><span class="admonitionIcon_Wsqb"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_wp6k"><ol><li>install it first via <code>brew install rename</code></li><li>it&#x27;s the easiest way to use <code>rename</code>, although the <code>sed</code> and other approaches may also be helpful...</li><li>A more straightforward way is to use <code>for</code> script :::</li></ol><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># rename files of pattern &quot;F0000*&quot; to be &quot;F000*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rename s/0000/000/ F0000*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># rename files, change the `$` to be empty, 注意name和rename都要转义，并且rename里要转义两次（应该是两层正则，就像我以前写的sed的两层正则一样）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find .imgs -name &quot;*\$*&quot; | rename s/\\$//g</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>sample</p></blockquote><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644169348968-2e3b52bed6e0cc8dc6f892576dc934305c1dbc797ddcfce1dd832a8769db28cf.png" alt="picture 5" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><p><a href="https://stackoverflow.com/questions/2372719/using-sed-to-mass-rename-files" target="_blank" rel="noopener noreferrer">bash - Using sed to mass rename files - Stack Overflow</a></p></li><li><p><a href="https://stackoverflow.com/questions/59314595/pipe-xargs-to-sed-and-mv-command" target="_blank" rel="noopener noreferrer">shell - Pipe xargs to sed and mv command - Stack Overflow</a></p></li><li><p><a href="https://stackoverflow.com/questions/5671773/rename-files-using-sed-and-mv" target="_blank" rel="noopener noreferrer">regex - Rename files using sed and mv - Stack Overflow</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="maccommandiostat">mac:command:iostat<a class="hash-link" href="#maccommandiostat" title="标题的直接链接">​</a></h2><blockquote><p>usage</p></blockquote><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644213659674-ed8ee263fd80547d527236a8db9bd49bda9f3ba3c5b05a05e881d7bedd542ece.png" alt="picture 8" class="img_vXGZ"></p><blockquote><p>sample</p></blockquote><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644213617305-07f0fb441c9fca5538d89367ddbcfc4ff75e6954379aec78235ab94bf48e24f4.png" alt="picture 7" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><a href="https://superuser.com/questions/404989/monitor-disk-i-o-for-specific-drive-in-os-x" target="_blank" rel="noopener noreferrer">macos - Monitor disk I/O for specific drive in OS X - Super User</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandlessmoremostvim">command:less|more|most|vim<a class="hash-link" href="#commandlessmoremostvim" title="标题的直接链接">​</a></h2><ol><li><code>most</code> 适合大文本（比如 log），因为它默认不换行</li><li><code>less</code> 有其他几个没有的一个功能: mark，只要按<code>m</code>加某个字母就可以打书签，然后按引号<code>&quot;</code>再按字母就可以回去，非常快</li><li><code>more</code> 很适合翻页浏览，可以敲空格直接翻页</li><li>前三者都可以按<code>v</code>进入<code>nano</code>的编辑博士，我发现竟然有语法高亮</li><li><code>vim</code> 因为我装了各种插件，自然是最屌的了，尤其是语法高亮</li></ol><blockquote><p>ref</p></blockquote><ul><li><a href="https://www.baeldung.com/linux/more-less-most-commands" target="_blank" rel="noopener noreferrer">Differences Between more, less, and most in Linux | Baeldung on Linux</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandechoprintf">command:echo|printf<a class="hash-link" href="#commandechoprintf" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># echo with newline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;------\nhello&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># echo without newline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -n world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># printf without new line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;I have no new line\nhhh&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># printf to re-print current line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;\rThis is one&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;\rThis is two&quot;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644421602875-3f1a65a50a34d7613c9b77bcf8025649e472ae2cd30fe740f5c00f0e0e5371f2.png" alt="picture 47" class="img_vXGZ"></p><blockquote><p>ref</p></blockquote><ul><li><p><a href="https://unix.stackexchange.com/questions/464357/print-something-in-console-in-the-same-place-of-the-previous-echo-with-a-sort-o" target="_blank" rel="noopener noreferrer">linux - Print something in console in the same place of the previous echo, with a sort of negative echo - Unix &amp; Linux Stack Exchange</a></p></li><li><p><a href="https://www.alphr.com/echo-without-newline/#:~:text=In%20the%20case%20of%20Bash,the%20&#x27;%2Dn&#x27;%20option." target="_blank" rel="noopener noreferrer">How To Echo Without Newline</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="commandupdatedblocate">command:updatedb|locate<a class="hash-link" href="#commandupdatedblocate" title="标题的直接链接">​</a></h2><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update &amp;&amp; sudo apt install locate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># usage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo updatedb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">locate eigen3</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><a href="https://www.reddit.com/r/Ubuntu/comments/j71qlv/no_updatedb_or_locate_in_ubuntu_20/" target="_blank" rel="noopener noreferrer">No updatedb or locate in Ubuntu 20. : Ubuntu</a></li></ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/markshawn2020/docusaurus/edit/master/my-documents/docs/coding/OS/Linux/linux-commands.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_IMw_" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_DtqZ"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2024-09-17T09:17:49.000Z">2024年9月17日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/coding/OS/Linux/centos-init-manual"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">centos init manual</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/coding/OS/Linux/linux-debug"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">linux debug</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_RLlU thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#commandzipunzip" class="table-of-contents__link toc-highlight">command:zip/unzip</a><ul><li><a href="#add-file-into-zipped-file" class="table-of-contents__link toc-highlight">add file into zipped file</a></li><li><a href="#list-structure-of-zipped-file" class="table-of-contents__link toc-highlight">list structure of zipped file</a></li></ul></li><li><a href="#commandtar" class="table-of-contents__link toc-highlight">command:tar</a></li><li><a href="#commandfind" class="table-of-contents__link toc-highlight">command:find</a><ul><li><a href="#find-and-show-file-size" class="table-of-contents__link toc-highlight">find and show file size</a></li><li><a href="#how-to-ignore-case-in-find" class="table-of-contents__link toc-highlight">how to ignore case in find</a></li><li><a href="#how-to-specify-search-type" class="table-of-contents__link toc-highlight">how to specify search type</a></li><li><a href="#how-to-exclude-dir" class="table-of-contents__link toc-highlight">how to exclude dir</a></li><li><a href="#todo-how-to-find-file-with-time-used" class="table-of-contents__link toc-highlight">TODO: how to find file with time used</a></li><li><a href="#tip-find-efficiency-comparison" class="table-of-contents__link toc-highlight">tip: find efficiency comparison</a></li></ul></li><li><a href="#commandgrep" class="table-of-contents__link toc-highlight">command:grep</a><ul><li><a href="#only-display-file-name" class="table-of-contents__link toc-highlight">only display file name</a></li><li><a href="#display-lines-before-or-after-or-surround-specific-lines" class="table-of-contents__link toc-highlight">display lines before or after or surround specific lines</a></li><li><a href="#skip-binary-files" class="table-of-contents__link toc-highlight">skip binary files</a></li><li><a href="#good-articles-of-grep-relative" class="table-of-contents__link toc-highlight">good articles of grep relative</a></li><li><a href="#how-to-match-raw-string" class="table-of-contents__link toc-highlight">how to match raw string</a></li><li><a href="#how-to-combine-grep-with-if" class="table-of-contents__link toc-highlight">how to combine <code>grep</code> with <code>if</code></a></li><li><a href="#how-to-exclude-pattern" class="table-of-contents__link toc-highlight">how to exclude pattern</a></li><li><a href="#how-to-exclude-dir---exclude-dirdir" class="table-of-contents__link toc-highlight">how to exclude dir (<code>--exclude-dir=dir</code>)</a></li><li><a href="#how-to-limit-depth--maxdepth" class="table-of-contents__link toc-highlight">how to limit depth (<code>-maxdepth</code>)</a></li><li><a href="#tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output" class="table-of-contents__link toc-highlight">tip: grep by lines context is MUCH FASTER than grep by words context, and even better for output</a></li><li><a href="#tip-grep-by-negative-captured-group-needs-to-use-ggrep" class="table-of-contents__link toc-highlight">tip: grep by negative captured group needs to use <code>ggrep</code></a></li><li><a href="#grep-filter-inout-files-via-l--v--l" class="table-of-contents__link toc-highlight">grep filter in/out files via <code>l | v | L</code></a></li></ul></li><li><a href="#commandtree" class="table-of-contents__link toc-highlight">command:tree</a><ul><li><a href="#筛选文件" class="table-of-contents__link toc-highlight">筛选文件</a></li><li><a href="#how-to-display-chinese--n" class="table-of-contents__link toc-highlight">how to display chinese (<code>-N</code>)</a></li><li><a href="#how-to-exclude-dir-i" class="table-of-contents__link toc-highlight">how to exclude dir(<code>-I</code>)</a></li><li><a href="#how-to-change-default-char-style" class="table-of-contents__link toc-highlight">how to change default char style</a></li></ul></li><li><a href="#commandheadtail" class="table-of-contents__link toc-highlight">command:head/tail</a><ul><li><a href="#head-basic-usage" class="table-of-contents__link toc-highlight">head basic usage</a></li><li><a href="#best-practice-skip-lines" class="table-of-contents__link toc-highlight">BEST-PRACTICE: skip lines</a></li><li><a href="#how-to-exclude-the-last-k-rows" class="table-of-contents__link toc-highlight">how to exclude the last k rows</a></li><li><a href="#discuss-use-head-or-sed" class="table-of-contents__link toc-highlight">discuss: use <code>head</code> or <code>sed</code></a></li></ul></li><li><a href="#commandtop" class="table-of-contents__link toc-highlight">command:top</a></li><li><a href="#commandcattac" class="table-of-contents__link toc-highlight">command:cat|tac</a><ul><li><a href="#reverse-order-of-lines" class="table-of-contents__link toc-highlight">reverse order of lines</a></li><li><a href="#how-to-write-raw-string-into-file-using-cat" class="table-of-contents__link toc-highlight">how to write raw string into file using <code>cat</code></a></li><li><a href="#usage-how-to-know-whats-the-bash-string" class="table-of-contents__link toc-highlight">usage: how to know what&#39;s the bash string</a></li></ul></li><li><a href="#commandzipunzipgunzip" class="table-of-contents__link toc-highlight">command:zip|unzip|gunzip</a><ul><li><a href="#gunzip-a-gzip-file" class="table-of-contents__link toc-highlight">(g)unzip a gzip file</a></li><li><a href="#how-to-unzip-to-specific-directory" class="table-of-contents__link toc-highlight">how to unzip to specific directory</a></li></ul></li><li><a href="#commandkill" class="table-of-contents__link toc-highlight">command:kill</a></li><li><a href="#commandscp" class="table-of-contents__link toc-highlight">command:scp</a></li><li><a href="#commandlsof" class="table-of-contents__link toc-highlight">command:lsof</a></li><li><a href="#commandufw" class="table-of-contents__link toc-highlight">command:ufw</a></li><li><a href="#commandtime" class="table-of-contents__link toc-highlight">command:time</a></li><li><a href="#commandtr" class="table-of-contents__link toc-highlight">command:tr</a></li><li><a href="#commandcd" class="table-of-contents__link toc-highlight">command:cd</a><ul><li><a href="#usage-a-superb-scene-using-cd-" class="table-of-contents__link toc-highlight">usage: a superb scene using <code>cd .</code></a></li></ul></li><li><a href="#commandsed" class="table-of-contents__link toc-highlight">command:sed</a><ul><li><a href="#how-to-replace-a-couple-of-files" class="table-of-contents__link toc-highlight">how to replace a couple of files</a></li><li><a href="#how-to-ignore-case-in-sed" class="table-of-contents__link toc-highlight">how to ignore case in sed</a></li><li><a href="#how-to-print-only-matched-lines" class="table-of-contents__link toc-highlight">how to print only matched lines</a></li><li><a href="#-how-to-increment-version-number" class="table-of-contents__link toc-highlight">✨ how to increment version number</a></li><li><a href="#how-to-match-digits-0-9-or-digit" class="table-of-contents__link toc-highlight">how to match digits (<code>[0-9]</code> or <code>:digit:</code>)</a></li><li><a href="#how-to-insert-text-before-first-line-of-file" class="table-of-contents__link toc-highlight">how to insert text before first line of file</a></li><li><a href="#how-to-replace-multi-lines" class="table-of-contents__link toc-highlight">how to replace multi-lines</a></li><li><a href="#how-to-trim-line" class="table-of-contents__link toc-highlight">how to trim line</a></li></ul></li><li><a href="#commandperl" class="table-of-contents__link toc-highlight">command:perl</a><ul><li><a href="#only-print-matched-lines" class="table-of-contents__link toc-highlight">only print matched lines</a></li><li><a href="#how-to-use-perl-to-replace-multi-lines" class="table-of-contents__link toc-highlight">how to use perl to replace multi-lines</a></li></ul></li><li><a href="#commandxargs" class="table-of-contents__link toc-highlight">command:xargs</a><ul><li><a href="#xargs-for-cp-to-copy-from-stdin" class="table-of-contents__link toc-highlight"><code>xargs</code> for <code>cp</code> to copy from stdin</a></li></ul></li><li><a href="#commandhistory" class="table-of-contents__link toc-highlight">command:history</a><ul><li><a href="#how-to-not-display-the-number-of-history-output" class="table-of-contents__link toc-highlight">how to not display the number of <code>history</code> output</a></li></ul></li><li><a href="#commandcut" class="table-of-contents__link toc-highlight">command:cut</a><ul><li><a href="#cut-column-of-list-from-xx-to-yy" class="table-of-contents__link toc-highlight">cut column of list from XX to YY</a></li></ul></li><li><a href="#commandsortuniq" class="table-of-contents__link toc-highlight">command:sort/uniq</a><ul><li><a href="#sort-by-columnkey" class="table-of-contents__link toc-highlight">sort by column/key</a></li><li><a href="#drop-duplicated" class="table-of-contents__link toc-highlight">drop duplicated</a></li></ul></li><li><a href="#commandnl" class="table-of-contents__link toc-highlight">command:nl</a><ul><li><a href="#fixme-why-there-is-extra-spaces" class="table-of-contents__link toc-highlight">FIXME: why there is extra spaces</a></li></ul></li><li><a href="#gnucommandrename" class="table-of-contents__link toc-highlight">gnu:command:rename</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Core</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docusaurus</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/category/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://joshcena.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Case: Joshua Chen<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vercel.com/markshawn2020/docusaurus/deployments" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vercel Deploy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://analytics.google.com/analytics/web/#/p324822374/reports/reportinghub?params=_u.dateOption%3DthisWeekSatToToday" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Analytics<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ap-east-1.console.aws.amazon.com/ec2/home?region=ap-east-1#InstanceDetails:instanceId=i-02fffe2800e2025e1" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS EC2 Monitor (VPN)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.aacdcb6f.js"></script>
<script src="/assets/js/main.c22735e8.js"></script>
</body>
</html>