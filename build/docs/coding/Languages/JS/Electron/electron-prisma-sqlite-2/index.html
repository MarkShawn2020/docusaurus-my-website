<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-coding/Languages/JS/Electron/electron-prisma-sqlite-2">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-alpha.0">
<title data-rh="true">electron prisma sqlite 2 | 南川笔记</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://markshawn2020.github.io/docs/coding/Languages/JS/Electron/electron-prisma-sqlite-2"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="electron prisma sqlite 2 | 南川笔记"><meta data-rh="true" name="description" content="[toc]"><meta data-rh="true" property="og:description" content="[toc]"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://markshawn2020.github.io/docs/coding/Languages/JS/Electron/electron-prisma-sqlite-2"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/docs/coding/Languages/JS/Electron/electron-prisma-sqlite-2" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://markshawn2020.github.io/docs/coding/Languages/JS/Electron/electron-prisma-sqlite-2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="南川笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="南川笔记 Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QFQ00XLDNZ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QFQ00XLDNZ",{anonymize_ip:!0})</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.b123addb.css">
<link rel="preload" href="/assets/js/runtime~main.aacdcb6f.js" as="script">
<link rel="preload" href="/assets/js/main.c22735e8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_UHvc">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_qLAv themedImage--light_kaXc"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_qLAv themedImage--dark_ONYO"></div><b class="navbar__title text--truncate">南川笔记</b></a><a class="navbar__item navbar__link" href="/blog/archive">My Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">My Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/markshawn2020/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source of Framework<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/markshawn2020/docusaurus-my-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source of Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/markshawn2020/my-documents" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source of Documents<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_bT41 colorModeToggle_UolE"><button class="clean-btn toggleButton_x9TT toggleButtonDisabled_Dj8q" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dnYY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_OBbf"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_CTO4"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_PEsc"><div class="docsWrapper_lLmf"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_PuQw" type="button"></button><div class="docRoot_kBZ6"><aside class="theme-doc-sidebar-container docSidebarContainer_S51O"><div class="sidebar_vtcw"><nav class="menu thin-scrollbar menu_rWGR"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/coding/SLAM/A01-recognizeLights">coding</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/SLAM/A01-recognizeLights">SLAM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/DevOps/certbot ssl 证书">DevOps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/coding/Languages/CPP/cpp-howto">Languages</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/CPP/cpp-howto">CPP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/CSS/css-howto">CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/Go/go-howto">Go</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/HTML/html-howto">HTML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/coding/Languages/JS/CodeQuality_eslint_prettier_jest/eslint-howto">JS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/JS/CodeQuality_eslint_prettier_jest/eslint-howto">CodeQuality_eslint_prettier_jest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/coding/Languages/JS/Electron/electron-bugfix">Electron</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/Electron/electron-bugfix">electron-bugfix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/Electron/electron-howto">electron howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/coding/Languages/JS/Electron/electron-prisma-sqlite-2">electron prisma sqlite 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/Electron/marknote-electron-prisma-sqlite">marknote-electron-prisma-sqlite</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/JS/React/react-howto">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/JS/Vue/vue-howto">Vue</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/database">database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/develop-remark-plugin">develop-remark-plugin</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/JS/es6/acknowledgment">es6</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/js-bugfix">js-bugfix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/js-discuss">js discuss</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/js-howto">js-howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/npm_yarn-bugfix">npm/yarn bugfix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/npm_yarn-howto">npm_yarn-howto</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/JS/redux">redux</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/Java/java-howto">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/Markdown/markdown-howto">Markdown</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/Python/fastapi-howto">Python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/TS/ts-bugfix">TS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/Unity/unity-howto">Unity</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Languages/coding-best-practice">coding best practice</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Languages/regex/regex-howto">regex</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Mac存储清理">Mac存储清理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/OS/Linux/centos-init-manual">OS</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/Poketto Dev Notes">Poketto Dev Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/Software/Adobe/PS/support-for-little-stars/">Software</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/apple">apple</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/clash">clash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/coding-philosophy">coding philosophy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/composite/full-guide_cross-copy-over-ssh-vim-tmux">composite</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/css">css</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/electron">electron</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/coding/hardware/rockchip/rockchip4-flash-manual">hardware</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/init-server">init-server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/moments">moments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/mongodb">mongodb</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/next-i18next">next-i18next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/next-themes">next-themes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/nextjs-best-practice">nextjs-best-practice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/nextjs">nextjs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/poetry">poetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/python">install python 3.11</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/vim">vim</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/websocket">websocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/图形化语言">图形化语言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/微信迁移">微信迁移</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/极客排版微信公众号最佳实践">极客排版微信公众号最佳实践</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/毁灭人生的打包记">毁灭人生的打包记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coding/测试不同风格的toc">测试不同风格的toc</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/文集/2020-06-12-王逸成">education</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/series/NC-PFA/">series</a></div></li></ul></nav></div></aside><main class="docMainContainer_EfwR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_n6xZ"><div class="docItemContainer_RhpI"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Wvrh" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_VLFi"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">coding</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Languages</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">JS</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Electron</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">electron prisma sqlite 2</span><meta itemprop="position" content="5"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：0.17.0+</span><div class="tocCollapsible_BEWm theme-doc-toc-mobile tocMobile_NSfz"><button type="button" class="clean-btn tocCollapsibleButton_IbtT">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>electron prisma sqlite 2</h1><p>[toc]</p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="pass-test-putting-prisma--prismaclient-under-release-packagejson">PASS: test putting <code>prisma | @prisma/client</code> under release package.json<a class="hash-link" href="#pass-test-putting-prisma--prismaclient-under-release-packagejson" title="标题的直接链接">​</a></h2><h2 class="anchor anchorWithStickyNavbar_rB0w" id="-cannot-start-when-integrated-with-sqlite-in-packed-version">✅ cannot start when integrated with sqlite in packed version<a class="hash-link" href="#-cannot-start-when-integrated-with-sqlite-in-packed-version" title="标题的直接链接">​</a></h2><p>suppose:</p><div class="language-yaml codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-yaml codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">APP=release/app</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="step-1-add-dependency-in-apppackagejson">step 1. add dependency in <code>APP/package.json</code><a class="hash-link" href="#step-1-add-dependency-in-apppackagejson" title="标题的直接链接">​</a></h3><div class="language-json codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-json codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// release/app/package.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sqlite3&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^5.0.2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="step-2-rebuild-project">step 2. rebuild project<a class="hash-link" href="#step-2-rebuild-project" title="标题的直接链接">​</a></h3><p>:::warn maybe we should <code>node i -g node-gyp</code> first :::</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">[npm run rebuild] electron-rebuild --parallel --types prod,dev,optional --module-dir $APP</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="step-3-build-and-pack-again">step 3. build and pack again<a class="hash-link" href="#step-3-build-and-pack-again" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[npm run app:dir] electron-builder --dir</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ref:</p><ul><li><p><a href="https://juejin.cn/post/6844903661336788999" target="_blank" rel="noopener noreferrer">在 Electron 中使用 SQLite3 - 掘金</a></p></li><li><p><a href="https://github.com/electron-userland/electron-builder/issues/4852" target="_blank" rel="noopener noreferrer">electron-builder electron (8.2.0) &amp; sqlite3 (4.1.1) · Issue #4852 · electron-userland/electron-builder</a></p></li><li><p><a href="https://github.com/electron/electron-rebuild/pull/327" target="_blank" rel="noopener noreferrer">chore(deps): upgrade node-gyp to ^6.0.1 by malept · Pull Request #327 · electron/electron-rebuild</a></p></li><li><p><a href="https://stackoverflow.com/questions/50991453/electron-packager-with-sqlite3-and-webpack/51256562" target="_blank" rel="noopener noreferrer">sqlite - electron-packager with sqlite3 and webpack - Stack Overflow</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_rB0w" id="step-4-plus-if-we-dont-pack-sqlite3-into-app-then-we-wont-pass-the-webpack-build-process-only-if-we-add-this">step 4. PLUS: if we don&#x27;t pack <code>sqlite3</code> into $APP, then we won&#x27;t pass the webpack build process only if we add this<a class="hash-link" href="#step-4-plus-if-we-dont-pack-sqlite3-into-app-then-we-wont-pass-the-webpack-build-process-only-if-we-add-this" title="标题的直接链接">​</a></h3><div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// .erb/configs/webpack.config.base.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">externals</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">externals </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// for prisma build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// https://github.com/prisma/prisma/issues/6564#issuecomment-899013495</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">_http_common</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;_http_common&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// for sqlite3 build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// https://stackoverflow.com/a/51256562/9422455</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">sqlite3</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;commonjs sqlite3&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="-can-normally-open-if-no-database-connection-in-source-code">✅ can normally open if no database connection in source code<a class="hash-link" href="#-can-normally-open-if-no-database-connection-in-source-code" title="标题的直接链接">​</a></h2><div class="language-ts codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-ts codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// src/main/db.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">FakePrisma</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  erp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    create</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    upsert</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    findMany</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> prisma</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> FakePrisma </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  erp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">create</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fake-database: creating one&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">findMany</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fake-database: finding many&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">upsert</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fake-database: upserting one&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="using-pure-sqlite3-and-the-programme-goes-well-under-prod-then-failed-with-a-popup-suggesting-me-to-integrate-sqlite3">using pure <code>sqlite3</code> and the programme goes well under prod, then failed with a popup suggesting me to integrate sqlite3<a class="hash-link" href="#using-pure-sqlite3-and-the-programme-goes-well-under-prod-then-failed-with-a-popup-suggesting-me-to-integrate-sqlite3" title="标题的直接链接">​</a></h2><img loading="lazy" alt="picture 11" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png" width="480" class="img_vXGZ"><h2 class="anchor anchorWithStickyNavbar_rB0w" id="integrate-prisma-like-sqlite">integrate prisma like sqlite<a class="hash-link" href="#integrate-prisma-like-sqlite" title="标题的直接链接">​</a></h2><p>When add the <code>&quot;@prisma/client&quot;: &quot;^3.7.0&quot;</code> into <code>APP/package.json</code>: <img loading="lazy" alt="picture 12" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641290264413-57cae0d3b39ee3b8783d83a56ea24476ccbfdddc76b12d2c345f9cced752415c.png" width="480" class="img_vXGZ"></p><p>So we then try to add <code>.prisma</code> into it.</p><div class="language-json codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-json codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;@prisma/client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.7.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sqlite3&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^5.0.2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;devDependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;prisma&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.7.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;@prisma/client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.7.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><img loading="lazy" alt="picture 13" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641293795481-b2c1a6b69d6a1b726668058367a514807d2dfdb0800bd355d419b48db85fe557.png" width="480" class="img_vXGZ"><img loading="lazy" alt="picture 14" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641294082849-a16d9878554cebc58aed0ac7ce8b87b32f5ba62f4fe957a7e30b6b13162185c3.png" width="480" class="img_vXGZ"><img loading="lazy" alt="picture 15" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641294185753-c1bf2a6bf3db20c554daeee3b02332667ff24f6542f7da8f85dfb166794e9f5b.png" width="480" class="img_vXGZ"><p>After I moved the <code>libxxxxnode</code> into <code>main</code>, then things are ok, except still too slow!</p><img loading="lazy" alt="picture 16" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641294596528-f65b42bf2bc804b70c7c3f6254eff77d607048906fb64c3ca34f7d81aab9c3b8.png" width="480" class="img_vXGZ"><p>I try to debug as <a href="https://github.com/prisma/prisma/issues/8484" target="_blank" rel="noopener noreferrer">Other packages make Prisma load very slow · Issue #8484 · prisma/prisma</a> did:</p><img loading="lazy" alt="picture 17" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641295180935-1184a4b6fedb71a7de0cc9ef7d529bbeccd822dd3dd370014c3e449ca8965223.png" width="480" class="img_vXGZ"><p>I found this app used my local packages, which maybe the issue behind the load problem.</p><p>So I uninstalled the global prisma:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">npm uninstall -g prisma</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then I run again.</p><img loading="lazy" alt="picture 18" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641295340433-9db9c014cb84a5ee31e8600175343fbaa8465c99c2808a66ef5079202f695a6d.png" width="480" class="img_vXGZ"><p>However, it starts to use the packages in my dev project.</p><p>Finally I do a copy before I run for test:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain"># $erb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># copy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp prisma/schema.prisma $app/Contents/Resources/app/dist/main/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cp node_modules/.prisma/client/libquery_engine-darwin.dylib.node $app/Contents/Resources/app/dist/main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open release/build/mac/皇家小虎快递分析系统.app/Contents/MacOS/皇家小虎快递分析系统</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>✨ maybe it&#x27;s because prisma is searching file location, so that the system runs slow! (since finally it didn&#x27;t search any <code>schema.prisma</code>, which enlightened me!)</p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="i-am-quite-sure-now-the-problem-is-about-package-import-with-prisma">I am quite sure now the problem is about package import with <code>prisma</code><a class="hash-link" href="#i-am-quite-sure-now-the-problem-is-about-package-import-with-prisma" title="标题的直接链接">​</a></h2><p>I added one log just at the entrance of the whole programme.</p><img loading="lazy" alt="picture 20" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641300763719-36feb313c6ae07962b53e5140d909ed3b462de2a8e425f3eefa789746adfe833.png" width="480" class="img_vXGZ"><p>And I am lucky to see it is printed after programme runs in binary, and then wait, which indicates the start of programme is ok, except the packages.</p><img loading="lazy" alt="picture 19" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641300743690-a321e7f6c6325a6210c8c694936e99cb18c76ddba1748061953908cc1d7e2e5f.png" width="480" class="img_vXGZ"><h2 class="anchor anchorWithStickyNavbar_rB0w" id="yeah-thanks-macs-console-i-saw-the-dawn-sparkles">Yeah, thanks Mac&#x27;s console, I saw the dawn ✨✨:sparkles<a class="hash-link" href="#yeah-thanks-macs-console-i-saw-the-dawn-sparkles" title="标题的直接链接">​</a></h2><p>Stupid!</p><p>I found nothing helpful!</p><p>(Since the programme didn&#x27;t cause any system exception, except block)</p><h2 class="anchor anchorWithStickyNavbar_rB0w" id="finally-found-the-problem-its-about-the-block-of-searching-path">Finally found the problem, it&#x27;s about the block of searching path<a class="hash-link" href="#finally-found-the-problem-its-about-the-block-of-searching-path" title="标题的直接链接">​</a></h2><p>Just add these two lines for debug the <code>findSync</code> sentence. <img loading="lazy" alt="picture 24" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641309385635-2c7f27383d90ee8aac8e0e32db1af1556f44c6ce1375e3b8a5e43d220a263a04.png" width="480" class="img_vXGZ"></p><p>Then you would know where does it go wrong. <img loading="lazy" alt="picture 23" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641309113293-e1bedee09b6842acbf3a2b9df051fca3e7612735e584bf70113035b2301a64c7.png" width="480" class="img_vXGZ"></p><p>I located to the source code. <img loading="lazy" alt="picture 25" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641309815216-65fbe7024490017e84223d0a82247e52ddd400994c9a61491476e6abd8b6cbb4.png" width="480" class="img_vXGZ"></p><p>It seems the path generated incorrectly.</p><p>Since this directory is generated via cli, I re-generate it, which looks more normal then.</p><img loading="lazy" alt="picture 26" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641309960859-813a4586ebe04ff12d61d4632641f4ee7bfb18a3c2d5171b9c70d26a1db081b1.png" width="480" class="img_vXGZ"><p>And then we pack again.</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run app:dir</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Look into what&#x27;s new in the <code>APP/../main.js</code> <img loading="lazy" alt="picture 27" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641310502054-05ca31db8f32b47a028d463efeb660dbcb3a04f7f5107e48bd230be78afd0dfd.png" width="480" class="img_vXGZ"></p><p>OK, it&#x27;s consistent with the source code after we <code>prisma generate</code>.</p><p>However, there&#x27;s no <code>node_modules</code> neither <code>.prisma</code> under <code>main.js</code> directory now:</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  main git:(main) ✗ ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main.js             main.js.LICENSE.txt preload.js</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It&#x27;s because we didn&#x27;t pack it into <code>app.asar</code> in electron.</p><p>So how to achieve this goal?</p><ol><li>we cannot use <code>externalResources</code> choice since it only pack files into <code>Resources/</code> not <code>app/main/</code></li><li>if we use <code>files</code>, then the files would list in <code>app.asar</code> under <code>app</code> directory, this is what we are looking for.</li><li>if we add the dependencies under <code>app/package.json</code>, then there would be <code>node_modules</code> installed under <code>app</code>. It is also suitable if there would generate a <code>.prisma/client</code>, we can give it a shot only if we add <code>@prisma/client</code> into <code>app/package.json</code>.</li></ol><div class="language-json codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-json codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// release/app/package.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sqlite3&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^5.0.2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;@prisma/client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.7.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>However, I tried but to find there is NO <code>.prisma</code> folder in the target place.</p><p>And I tried locally to find that if I do not use <code>prisma generate</code> then I only got an blank template <code>index.js</code>, which is certainly not I want.</p><img loading="lazy" alt="picture 28" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641311767968-ad39fe926e5eb38bc8bda6d19f8950fd48937490b710e9b4e8b94d732254a453.png" width="480" class="img_vXGZ"><p>So, the answer is clear now: we can&#x27;t put <code>@prisma/client</code> into <code>app/package.json</code>, since it won&#x27;t generate the right sql model unless we use <code>prisma generate</code>. And even the <code>.prisma</code> generated locally, it won&#x27;t be packed into out target application&#x27;s app.asar folder.</p><p>Therefore, the only way best suitable for us is to manually copy the local <code>.prisma</code> folder to <code>app/dist/main/</code> so that can be searched by <code>prisma</code> in the binary application.</p><p>We then use <code>prisma generate</code> to synchronize the <code>node_modules/.prisma/client/index.js</code> with out <code>prisma/schema.prisma</code> file (which would copied into <code>node_modules/.prisma/client/schema.prisma</code>), along with the generated query engine for MacOS: <code>node_modules/.prisma/client/libquery_engine-darwin.dylib.node</code>.<!-- -->[TODO: what should windows user do; maybe copy all the files into app is not ideal for cross platform use. Instead, we should consider about only copy the <code>schema.prisma</code> file, and let all the other work generated by platforms]</p><img loading="lazy" alt="picture 29" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641312184877-79c3520e1b1f69e51de79ffcbf8e380d7312f4a46878b205bc0b17be2600658c.png" width="480" class="img_vXGZ"><h3 class="anchor anchorWithStickyNavbar_rB0w" id="i-finally-understand-why-programme-start-by-double-click-would-be-so-slow">I finally understand why programme start by <code>double click</code> would be so slow<a class="hash-link" href="#i-finally-understand-why-programme-start-by-double-click-would-be-so-slow" title="标题的直接链接">​</a></h3><p>I added log before <code>findSync</code> again, and run by double click of the main programme.</p><img loading="lazy" alt="picture 32" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641313449263-88324bddd0fbb97399caee5b72123ffbbb24e3eab8fb8178a60df72e0561b001.png" width="480" class="img_vXGZ"><p>And it should tell me that the <code>process.cwd()</code> is <code>/</code> that means from my computer root!</p><img loading="lazy" alt="picture 30" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641313359005-aaed92dce777b54143a8dd9e8e0fef9324be40bf97bfc9505008f3ef53c391dd.png" width="480" class="img_vXGZ"><p>As a contrast, I ran it according the electron helper which is within the main programme.</p><p>And the <code>process.cwd()</code> is <code>~</code>, which is much much faster! <img loading="lazy" alt="picture 33" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641313624357-a725375b40e1c762592a7944d97f514f4166824854722db189f5686000b3c66b.png" width="480" class="img_vXGZ"></p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="whats-the-findsync">what&#x27;s the <code>findSync</code><a class="hash-link" href="#whats-the-findsync" title="标题的直接链接">​</a></h3><img loading="lazy" alt="picture 34" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641314504643-a85fb0c38c3b5f5d201cf17469b50cb23e82246ee94e8ae18d06eeeb2042a586.png" width="480" class="img_vXGZ"><p>So, according the source code, the <code>findSync</code> starts from the <code>root</code>, then to search target <code>pattern</code>.</p><img loading="lazy" alt="picture 35" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641314655645-e8a564598b87018e4914e1d0e8b5b1cd3cbd624b4900715e3a4d791cc31bf751.png" width="480" class="img_vXGZ"><p>Thus, from the commands before, we can see, it would search target pattern <code>node_modules/.prisma/client</code> or <code>.prisma/client</code> from <code>process.cwd()</code> (i.e. <code>/</code> when run main programme and <code>~</code> when run in shell)</p><p>What&#x27;s the solution?</p><ol><li><p>directly change the logic into <code>_ = __dirname</code>, and put <code>.prisma/client</code> under the <code>__dirname</code>, i.e. <code>app/main</code></p></li><li><p>perhaps there&#x27;s way (i.e. package or not) to not go this logic, which is so-called best practice? But sadly, I haven&#x27;t found one after many times of hard search in github of prisma. I am looking forward the developers of prisma can give one.</p><ol><li>For example, maybe there is a way allows me to fill some parameters so that to disable the hard search or change the root from?</li></ol></li></ol><img loading="lazy" alt="picture 37" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641323620341-43c3b49ec507dca9a7bfc9907e7a70c40a78f4fafafe4f80f18d6394572e94cb.png" width="480" class="img_vXGZ"><p>ref:</p><ul><li><a href="https://github.com/prisma/prisma/blob/62b91fd9bd32da983f457857411edef6daeecda1/packages/client/src/generation/utils/buildDirname.ts" target="_blank" rel="noopener noreferrer">prisma/buildDirname.ts at 62b91fd9bd32da983f457857411edef6daeecda1 · prisma/prisma</a></li></ul><h2 class="anchor anchorWithStickyNavbar_rB0w" id="current-solution-avoid-findsync">Current Solution: avoid `findSync&#x27;<a class="hash-link" href="#current-solution-avoid-findsync" title="标题的直接链接">​</a></h2><p>avoid any call of <code>findSync</code></p><div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// node_modules/.prisma/client/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// to save the hard search time(maybe from &#x27;/&#x27;), let us directly point out the target prisma client place</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">process_cwd</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> __dirname</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dirname </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.prisma/client&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dirname</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// const { findSync } = require(&#x27;@prisma/client/runtime&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// const dirname = findSync(process.cwd(), [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//     &quot;node_modules/.prisma/client&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//     &quot;.prisma/client&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ], [&#x27;d&#x27;], [&#x27;d&#x27;], 1)[0] || __dirname</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">// main files structure of an packed electron on Mac</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// with `.prisma/client` besides `main.js`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// generate via ` find . ! -path &#x27;*node_modules/*&#x27; ! -path &#x27;*Frameworks/*&#x27; ! -path &#x27;*assets*&#x27; ! -path &#x27;*lproj&#x27;  ! -path &#x27;*svg&#x27;  | tree --fromfile --noreport -aC`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">. // Main Entrance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Contents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── Frameworks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── Info.plist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── MacOS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    │   └── HJXH-DATA-ANALYSIS // Script Entrance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── PkgInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── Resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ├── app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   ├── dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   ├── main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   ├── .prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   │   └── client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   │       ├── index-browser.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   │       ├── index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   │       ├── libquery_engine-darwin.dylib.node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   │       ├── package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   │       └── schema.prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   ├── main.js // Main Runner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   ├── main.js.LICENSE.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   │   └── preload.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │   └── renderer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │       ├── index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │       ├── renderer.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   │       └── renderer.js.LICENSE.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   ├── node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        │   └── package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        └── icon.icns</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="make-binary-can-use-prisma-db-push">make binary can use <code>prisma db push</code><a class="hash-link" href="#make-binary-can-use-prisma-db-push" title="标题的直接链接">​</a></h2><p>The question is to intercept <code>prisma</code> into package use, am I right?(maybe not...)</p><p>Anyway, we&#x27;d better have a try at the first: add <code>prisma</code> as a dependency of app.</p><img loading="lazy" alt="picture 36" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641321785532-83ca4daa59910c730e2bad819c3150024b3ad2ed11442a0b13c32bac10b9803a.png" width="480" class="img_vXGZ"><p>Now, we have <code>prisma</code> in node_modules.</p><p>However, I doesn&#x27;t be positive about running with <code>prisma</code> since it&#x27;s only a dependency not a command.</p><p>There are at least two kinds of commands we can use, one for global, one for those under <code>node_modules/.bin</code>.</p><p>The sad truth is that only when we run <code>npm i prisma</code> in packed app, we can have a <code>prisma</code> under <code>node_modules/.bin</code>, which seems unacceptable. <!-- -->[TODO: so why they cannot generate a <code>prisma</code> under <code>.bin</code> when I have assigned <code>prisma</code> in <code>package.json</code> of released app]</p><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  app git:(main) ✗ npm i prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">added 2 packages, and changed 1 package in 2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 packages are looking for funding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  run `npm fund` for details</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  app git:(main) ✗ ls node_modules/.bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">detect-libc  node-gyp     prisma       rimraf       sshpk-sign   which</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdirp       node-pre-gyp prisma2      semver       sshpk-verify</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">needle       nopt         rc           sshpk-conv   uuid</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So let&#x27;s have a try step by step.</p><p>First, only add <code>prisma</code> in the <code>package.json</code> of release.</p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="若在releasepackagejson里指定了prismaclient则打包里没有prismaclientindexjs">若在<code>release/package.json</code>里指定了<code>@prisma/client</code>，则打包里没有<code>.prisma/client/index.js</code><a class="hash-link" href="#若在releasepackagejson里指定了prismaclient则打包里没有prismaclientindexjs" title="标题的直接链接">​</a></h3><img loading="lazy" alt="picture 38" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641324945482-fa4db7120dea10e4574be593ce72e09deb916861a0dc70ed3013e7be5bb7c7cc.png" width="480" class="img_vXGZ"><h3 class="anchor anchorWithStickyNavbar_rB0w" id="若未指定只指定一个sqlite3则有">若未指定（只指定一个<code>sqlite3</code>），则有<a class="hash-link" href="#若未指定只指定一个sqlite3则有" title="标题的直接链接">​</a></h3><img loading="lazy" alt="picture 39" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641325459183-9c244e08847be8d54907006fe7756d3434c355a2bc0c69ed1590dcb7cbe6b9ae.png" width="480" class="img_vXGZ"><h3 class="anchor anchorWithStickyNavbar_rB0w" id="若直接指定两个2022-01-06-021512则像一个一样还是报错了但是我联想到了rebuild">若直接指定两个（2022-01-06 02:15:12），则像一个一样还是报错了，但是我联想到了<code>rebuild</code><a class="hash-link" href="#若直接指定两个2022-01-06-021512则像一个一样还是报错了但是我联想到了rebuild" title="标题的直接链接">​</a></h3><img loading="lazy" alt="picture 12" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/electron-prisma-sqlite-2-1641406506923-9e06bf919325752ab1192f9da896232020a2cf200f4dfd43ee903abc7ade9cf6.png" class="img_vXGZ"><p>So when I used <code>rebuild</code> (in fact, it&#x27;s <code>npm run post-install</code> instead of <code>npm run rebuild</code>), everything is okay now! (although with a lot of errors...)</p><img loading="lazy" alt="picture 13" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/electron-prisma-sqlite-2-1641406632784-f50b2d9e1a74dd4929dde5b75479ea8a3b459f694c34da06a97ae212df9474b2.png" class="img_vXGZ"><h3 class="anchor anchorWithStickyNavbar_rB0w" id="rebuild-确实是一大解药rebuild完之后还要把prisma移到对应的node_modules目录旁运行一遍prisma-generate目前我一套流程走下来将prisma一步步同步效果还行只不过最后一步还是有问题感觉双击程序启动找不到路径的问题还是存在既然这样步步同步的方式似乎也没啥性价比了"><code>rebuild</code> 确实是一大解药，<code>rebuild</code>完之后还要把<code>prisma</code>移到对应的<code>node_modules</code>目录旁，运行一遍<code>prisma generate</code>，目前我一套流程走下来，将<code>prisma</code>一步步同步，效果还行；只不过最后一步还是有问题，感觉双击程序启动找不到路径的问题还是存在。既然这样，步步同步的方式似乎也没啥性价比了<a class="hash-link" href="#rebuild-确实是一大解药rebuild完之后还要把prisma移到对应的node_modules目录旁运行一遍prisma-generate目前我一套流程走下来将prisma一步步同步效果还行只不过最后一步还是有问题感觉双击程序启动找不到路径的问题还是存在既然这样步步同步的方式似乎也没啥性价比了" title="标题的直接链接">​</a></h3><h3 class="anchor anchorWithStickyNavbar_rB0w" id="再测试一下步步同步的方式是否可以装-windows如果也不行我就直接放弃-prisma-了">再测试一下步步同步的方式是否可以装 windows，如果也不行，我就直接放弃 prisma 了<a class="hash-link" href="#再测试一下步步同步的方式是否可以装-windows如果也不行我就直接放弃-prisma-了" title="标题的直接链接">​</a></h3><p>确实不行，只有<code>darwin</code>，没有看到给<code>win</code>用的 query-engine.</p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="在-binary-里需要用npm-i-prisma安装脚本">在 binary 里需要用<code>npm i prisma</code>安装脚本<a class="hash-link" href="#在-binary-里需要用npm-i-prisma安装脚本" title="标题的直接链接">​</a></h3><div class="language-sh codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-sh codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  app git:(main) ✗ ls node_modules/.bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">detect-libc  needle       node-pre-gyp rc           semver       sshpk-sign   uuid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdirp       node-gyp     nopt         rimraf       sshpk-conv   sshpk-verify which</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  app git:(main) ✗ npm i prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">added 2 packages in 2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 packages are looking for funding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  run `npm fund` for details</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  app git:(main) ✗ ls node_modules/.bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">detect-libc  needle       node-pre-gyp prisma       rc           semver       sshpk-sign   uuid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdirp       node-gyp     nopt         prisma2      rimraf       sshpk-conv   sshpk-verify which</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">➜  app git:(main) ✗ which prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prisma not found</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>但尽管如此，在程序中依旧是不可以直接用<code>prisma</code>的 cli 命令的，因为这个依赖于全局<code>prisma</code>。 <img loading="lazy" alt="picture 40" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641325864607-2eef51948928ecdea5945715cbcc3849ddc26853568fff06053836804a64d967.png" width="480" class="img_vXGZ"></p><p>可以考虑一下指定脚本。</p><img loading="lazy" alt="picture 41" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641326080156-7dc342f49aac66cb4bd0494096f70a72c692f9a64faaf0141bae89788a5701fc.png" width="480" class="img_vXGZ"><p>不过脚本里用相对路径需要格外小心，<code>.|..</code>的拼接，是相对于脚本执行者的路径而言的，而不是脚本文件！</p><div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> absDir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;../../node_modules/.bin/prisma&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>比如这句话，在我使用<code>open ./MacOS/HJXH-DATA-ANALYSIS</code>打开时，因为脚本执行者是<code>~</code>，即<code>/Users/mark</code>，所以它其实以这个路径为基准，最终转换成了<code>/node_modules/.bin/prisma</code>，这显然是不对的。</p><img loading="lazy" alt="picture 42" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641327264657-175bfcdadaca7a51529cbd8825454b81f68a210316fe55ddff53e5dbde64d1eb.png" width="480" class="img_vXGZ"><p>所以在拼接时要连接上文件路径，像这样就对了。</p><div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> absDir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;path&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;../../node_modules/.bin/prisma&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">database: &quot;prisma db push&quot;, curDir: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">__dirname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">, targetPrisma: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">absDir</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><img loading="lazy" alt="picture 43" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641327334520-499a53220b0945365efd324d7b3b608b7c6f5434cff333074c7eba9734bcc3e2.png" width="480" class="img_vXGZ"><p>不过接下来又报文件找不到了，不过这是小事，马上解决。</p><p>这里总结一下：</p><ol><li>在二进制程序里，用全局命令是不合适的，比较好的是用自己包里的命令，但这不像开发环境那样仿佛天生就有，具体要先<code>npm i prisma</code>安装生成<code>.bin/prisma</code>可执行文件，然后再用绝对路径去引用它，当然，我们既然可以执行命令行，当然也可以导出一个变量。</li><li>PASS: 将 prisma 命令导出，这样，在其他地方都可以用 prisma 了</li></ol><h3 class="anchor anchorWithStickyNavbar_rB0w" id="指定-prisma-文件">指定 prisma 文件<a class="hash-link" href="#指定-prisma-文件" title="标题的直接链接">​</a></h3><p>注意看上面的报错，其实它已经提供了我们方法了，就是将<code>schema.prisma</code>放到指定位置，即<code>prisma/</code>下。</p><p>不过这里也能看出，他们的代码规范不统一，比如<code>prisma.schema</code>在主程序中，被搜索的路径可不止这点，而且貌似还是以<code>schema.</code>优先的，而不是<code>prisma/schema.prisma</code>。</p><p>方法 1. 在<code>package.json</code>中加入<code>prisma.schema</code>字段方法 2. 移动目前的文件（从<code>schema.prisma</code>到<code>prisma/schema.prisma</code>）</p><p>这里就用方法 1 了：</p><div class="language-json codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-json codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// app/package.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;prisma&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain">     </span><span class="token property" style="color:#36acaa">&quot;schema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dist/main/schema.prisma&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然而还是报错了。</p><img loading="lazy" alt="picture 45" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641328243751-1aca13f23cfe42d39a7e6e163f36b408ca1825b281f5c7046af681baf4572ac0.png" width="480" class="img_vXGZ"><p>我验证了一下路径，是没问题的，于是顺着链接去官网看了看，突然就意识到了，这可能又是相对路径的问题。</p><img loading="lazy" alt="picture 44" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641328226861-1929fd1ce321d98fdd99aae4fc2230af695176fa38764dd25687793f3b1ee4d6.png" width="480" class="img_vXGZ"><p>为验证我的想法， copy 一份为<code>prisma/schema.prisma</code>，预期应该还是不行，因为都是相对路径，根据官网的搜索路径<code>./prisma/schema.prisma</code>就变成了<code>~/prisma/schema.prisma</code>，<code>./schema.prisma</code>就变成了<code>~/schema.prisma</code>。</p><p>不出所料，果然！即便我路径里已经包含了两种<code>prisma</code>，它都找不到，就是因为相对路径拼接错误。</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">➜  main git:(main) ✗ tree .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── main.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── main.js.LICENSE.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── preload.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── schema.prisma</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── schema.prisma</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>所以，我们应该自己指定路径了，既然这样，那么在<code>package.json</code>中指定路径也没有意义了，因为绝对路径肯定要基于文件路径拼接的，所以只能在程序中动态拼接。</p><div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> _p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;path&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> schemaExePath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain">     __dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;../../node_modules/.bin/prisma&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> schemaFilePath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;schema.prisma&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">database: &quot;prisma db push&quot;, curDir: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">__dirname</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">, targetPrismaExeP    ath: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">schemaExePath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">, targetPrismaFilePath: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">schemaFilePath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">schemaExePath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> db push --schema </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">schemaFilePath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_rB0w" id="prismaclient"><code>prisma/client</code><a class="hash-link" href="#prismaclient" title="标题的直接链接">​</a></h3><p>OK！用路径拼接转绝对路径的方式，解决了上面的问题【TODO:给 prisma 提一个 pr，考虑一波基于文件的路径拼接，而非 process，要烦死了】，新的问题就是装一下<code>prisma/client</code>，</p><img loading="lazy" alt="picture 46" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641329044401-924bc44ed86e843bbf3d7f95bd397b823454b6390a2bdd8434d17585f4680012.png" width="480" class="img_vXGZ"><p>这个比较简单。不过也有两种办法：</p><ol><li>直接命令行安装：<code>npm i @prisma/client</code></li><li>FAILED:尝试把外部包导入看看是不是就不需要装了</li></ol><p>这里用第一种办法：</p><img loading="lazy" alt="picture 47" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641329276722-1de83c864711b6136a77e6b4d78546bb25b06af805a31f86b886daa26c62ca12.png" width="480" class="img_vXGZ"><p>成了！</p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="最后一个问题query-engine-2022-01-06-020734-update-obviously-not-the-last">最后一个问题，<code>query-engine</code> （2022-01-06 02:07:34 update: obviously not the last）<a class="hash-link" href="#最后一个问题query-engine-2022-01-06-020734-update-obviously-not-the-last" title="标题的直接链接">​</a></h3><p>It seems to place the engine dirctly under th project, would b a nice solution.</p><img loading="lazy" alt="picture 48" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641341198622-23c03a1d8768467ff5da78eea2a3ecf820345938d9dc330e11c6871fce27c874.png" width="480" class="img_vXGZ"><p>A full logo about no query-engine:</p><div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">01:51:49.127 › database: try to insert one iterm into `user`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01:51:49.133 › Error: Query engine library for current platform &quot;darwin&quot; could not be found.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You incorrectly pinned it to darwin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This probably happens, because you built Prisma Client on a different platform.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Prisma Client looked in &quot;/Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/app/dist/main/libquery_engine-darwin.dylib.node&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Searched Locations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/.prisma/client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/node_modules/@prisma/client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/app/dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/app/dist/main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/app/dist/main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /tmp/prisma-engines</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/app/dist/main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To solve this problem, add the platform &quot;darwin&quot; to the &quot;binaryTargets&quot; attribute in the &quot;generator&quot; block in the &quot;schema.prisma&quot; file:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">generator client {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  provider      = &quot;prisma-client-js&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  binaryTargets = [&quot;native&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Then run &quot;prisma generate&quot; for your changes to take effect.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Read more about deploying Prisma Client: https://pris.ly/d/client-generator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    at cb (/Users/mark/Documents/mark_projects/hjxh/hjxh_express_match/erb/release/build/mac/HJXH-DATA-ANALYSIS.app/Contents/Resources/app/dist/main/main.js:2:1130669)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    at processTicksAndRejections (node:internal/process/task_queues:96:5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="query-engine-in-windows-another-not-positive-problem">query-engine in Windows, another not positive problem<a class="hash-link" href="#query-engine-in-windows-another-not-positive-problem" title="标题的直接链接">​</a></h2><img loading="lazy" alt="picture 11" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/electron-prisma-sqlite-2-1641406097880-52fd7d1b52661bbda1bcaaae269428e75a623e465b6113661d46264c107ec00a.png" class="img_vXGZ"><p>PASS: try to use keyword of <code>native</code></p><h3 class="anchor anchorWithStickyNavbar_rB0w" id="极小自动化程序搭建">极小自动化程序搭建<a class="hash-link" href="#极小自动化程序搭建" title="标题的直接链接">​</a></h3><ol><li>prisma init and generate --&gt; in order to generate target table</li><li>change <code>findSync</code> function to fasten speed --&gt; in order to avoid search from pc root, which would cause even minutes wait</li><li>move <code>schema.prisma</code> into <code>release/app/</code> --&gt; easy and default for programme search, which is consistent when in local development since <code>schema.prisma</code> is besides <code>index.js</code> under <code>node_modules/.prisma/client/</code></li><li>use path-merge to generate ABSOLUTE path, both for <code>.bin/prisma</code> and <code>schema.prisma</code> --&gt; in case for the default merge behavior of prisma is wrong when the base path is offered by programme rather then by file.</li><li>install <code>prisma</code>/<code>@prisma/client</code> in binary or try to pre-install</li></ol><h2 class="anchor anchorWithStickyNavbar_rB0w" id="️-prisma-in-binary">☑️ <code>prisma</code> in binary<a class="hash-link" href="#️-prisma-in-binary" title="标题的直接链接">​</a></h2><img loading="lazy" alt="picture 5" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641244081948-ae8a83efcb1be3facf26b469c01373c949ac5290b5992996fd678650b16b2e87.png" width="480" class="img_vXGZ"><p>When I didn&#x27;t install <code>prisma</code> globally, neither had I placed <code>prisma</code> into binary, then the error <code>prisma command not found</code> occurred:</p><img loading="lazy" alt="picture 7" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641245007081-71ea6e315a6d7d980e03a74450dc5e57661ec5497791211443a37785d0e70f98.png" width="480" class="img_vXGZ"><p>When I installed <code>prisma</code> globally, the error then came from <code>prisma file not found</code>.</p><img loading="lazy" alt="picture 6" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641244869137-b8237c6a5828025fe176e7e26acb08823ae96da2413a6cf25cf701e609913f38.png" width="480" class="img_vXGZ"><p>So:</p><p>| install prisma globally | ✅ | ❌ |</p><p>But when I added <code>prisma</code> file in the <code>package.json</code>:</p><div class="language-json codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-json codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// package.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;extraResources&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;./assets/**&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;prisma/schema.prisma&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And it did go to the target application at: <code>build/mac/皇家小虎快递分析系统.app/Contents/Resources/prisma/schema.prisma</code></p><p>The file cannot be found yet in fact.</p><img loading="lazy" alt="picture 8" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641245255584-de651b38a5327b83e309e98e63ef7891f33b30bd48eb015d2f95dd66614b67f5.png" width="480" class="img_vXGZ"><p>I thought of adding into <code>files</code> so that it can go to the <code>app.asar</code>, but in vain:</p><img loading="lazy" alt="picture 9" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/readme-1641245688562-d7a4098c6a0ea4b5e465de2c2186a9c557dfd71b493ed7afdc533d6d0f407c10.png" width="480" class="img_vXGZ"><p>Also failed for (in case it uses the relative path to <code>release/app</code>):</p><div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_vx7S"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#e3116c">&quot;../../prisma/schema.prisma&quot;</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><div class="buttonGroup_cUGO"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_OqsO" aria-hidden="true"><svg class="copyButtonIcon_PgCn" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_bsQG" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_rB0w" id="最大的问题不同启动方式程序运行结果不一样prisma-在可执行程序中找不到">最大的问题，不同启动方式，程序运行结果不一样，prisma 在可执行程序中找不到<a class="hash-link" href="#最大的问题不同启动方式程序运行结果不一样prisma-在可执行程序中找不到" title="标题的直接链接">​</a></h2><img loading="lazy" alt="picture 14" src="https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/electron-prisma-sqlite-2-1641411307188-d2cfa0eb9f1bd80388ace2bf6f77188117e396c52a3ac4e5fa90b1fcd436b1d3.png" class="img_vXGZ"><p>后来把程序移到<code>/Application/</code>里后就变快了，甚至运行其他程序都变快了……因为它们实际用的是<code>/Application/</code>里的那个<code>schema dir</code>。</p><p>prisma 目前的路径设计与机制，真地适合服务端程序，因为路径比较固定，客户端是真地要疯，程序启动的位置千奇百怪，变动也很频繁，导致 prisma 那套依赖文件自动生成的机制变得复杂且难以管理。</p><p>综上，electron 不适合与 prisma 搭配，electron 这种随处运行的程序应该选择机制更灵活的一些库，比如原生的<code>node-sqlite3</code>之类。</p><p>分析到此为止，和 prisma 说拜拜了！</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/markshawn2020/docusaurus/edit/master/my-documents/docs/coding/Languages/JS/Electron/electron-prisma-sqlite-2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_IMw_" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_DtqZ"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2024-09-17T09:17:49.000Z">2024年9月17日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/coding/Languages/JS/Electron/electron-howto"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">electron howto</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/coding/Languages/JS/Electron/marknote-electron-prisma-sqlite"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">marknote-electron-prisma-sqlite</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_RLlU thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pass-test-putting-prisma--prismaclient-under-release-packagejson" class="table-of-contents__link toc-highlight">PASS: test putting <code>prisma | @prisma/client</code> under release package.json</a></li><li><a href="#-cannot-start-when-integrated-with-sqlite-in-packed-version" class="table-of-contents__link toc-highlight">✅ cannot start when integrated with sqlite in packed version</a><ul><li><a href="#step-1-add-dependency-in-apppackagejson" class="table-of-contents__link toc-highlight">step 1. add dependency in <code>APP/package.json</code></a></li><li><a href="#step-2-rebuild-project" class="table-of-contents__link toc-highlight">step 2. rebuild project</a></li><li><a href="#step-3-build-and-pack-again" class="table-of-contents__link toc-highlight">step 3. build and pack again</a></li><li><a href="#step-4-plus-if-we-dont-pack-sqlite3-into-app-then-we-wont-pass-the-webpack-build-process-only-if-we-add-this" class="table-of-contents__link toc-highlight">step 4. PLUS: if we don&#39;t pack <code>sqlite3</code> into $APP, then we won&#39;t pass the webpack build process only if we add this</a></li></ul></li><li><a href="#-can-normally-open-if-no-database-connection-in-source-code" class="table-of-contents__link toc-highlight">✅ can normally open if no database connection in source code</a></li><li><a href="#using-pure-sqlite3-and-the-programme-goes-well-under-prod-then-failed-with-a-popup-suggesting-me-to-integrate-sqlite3" class="table-of-contents__link toc-highlight">using pure <code>sqlite3</code> and the programme goes well under prod, then failed with a popup suggesting me to integrate sqlite3</a></li><li><a href="#integrate-prisma-like-sqlite" class="table-of-contents__link toc-highlight">integrate prisma like sqlite</a></li><li><a href="#i-am-quite-sure-now-the-problem-is-about-package-import-with-prisma" class="table-of-contents__link toc-highlight">I am quite sure now the problem is about package import with <code>prisma</code></a></li><li><a href="#yeah-thanks-macs-console-i-saw-the-dawn-sparkles" class="table-of-contents__link toc-highlight">Yeah, thanks Mac&#39;s console, I saw the dawn ✨✨:sparkles</a></li><li><a href="#finally-found-the-problem-its-about-the-block-of-searching-path" class="table-of-contents__link toc-highlight">Finally found the problem, it&#39;s about the block of searching path</a><ul><li><a href="#i-finally-understand-why-programme-start-by-double-click-would-be-so-slow" class="table-of-contents__link toc-highlight">I finally understand why programme start by <code>double click</code> would be so slow</a></li><li><a href="#whats-the-findsync" class="table-of-contents__link toc-highlight">what&#39;s the <code>findSync</code></a></li></ul></li><li><a href="#current-solution-avoid-findsync" class="table-of-contents__link toc-highlight">Current Solution: avoid `findSync&#39;</a></li><li><a href="#make-binary-can-use-prisma-db-push" class="table-of-contents__link toc-highlight">make binary can use <code>prisma db push</code></a><ul><li><a href="#若在releasepackagejson里指定了prismaclient则打包里没有prismaclientindexjs" class="table-of-contents__link toc-highlight">若在<code>release/package.json</code>里指定了<code>@prisma/client</code>，则打包里没有<code>.prisma/client/index.js</code></a></li><li><a href="#若未指定只指定一个sqlite3则有" class="table-of-contents__link toc-highlight">若未指定（只指定一个<code>sqlite3</code>），则有</a></li><li><a href="#若直接指定两个2022-01-06-021512则像一个一样还是报错了但是我联想到了rebuild" class="table-of-contents__link toc-highlight">若直接指定两个（2022-01-06 02:15:12），则像一个一样还是报错了，但是我联想到了<code>rebuild</code></a></li><li><a href="#rebuild-确实是一大解药rebuild完之后还要把prisma移到对应的node_modules目录旁运行一遍prisma-generate目前我一套流程走下来将prisma一步步同步效果还行只不过最后一步还是有问题感觉双击程序启动找不到路径的问题还是存在既然这样步步同步的方式似乎也没啥性价比了" class="table-of-contents__link toc-highlight"><code>rebuild</code> 确实是一大解药，<code>rebuild</code>完之后还要把<code>prisma</code>移到对应的<code>node_modules</code>目录旁，运行一遍<code>prisma generate</code>，目前我一套流程走下来，将<code>prisma</code>一步步同步，效果还行；只不过最后一步还是有问题，感觉双击程序启动找不到路径的问题还是存在。既然这样，步步同步的方式似乎也没啥性价比了</a></li><li><a href="#再测试一下步步同步的方式是否可以装-windows如果也不行我就直接放弃-prisma-了" class="table-of-contents__link toc-highlight">再测试一下步步同步的方式是否可以装 windows，如果也不行，我就直接放弃 prisma 了</a></li><li><a href="#在-binary-里需要用npm-i-prisma安装脚本" class="table-of-contents__link toc-highlight">在 binary 里需要用<code>npm i prisma</code>安装脚本</a></li><li><a href="#指定-prisma-文件" class="table-of-contents__link toc-highlight">指定 prisma 文件</a></li><li><a href="#prismaclient" class="table-of-contents__link toc-highlight"><code>prisma/client</code></a></li><li><a href="#最后一个问题query-engine-2022-01-06-020734-update-obviously-not-the-last" class="table-of-contents__link toc-highlight">最后一个问题，<code>query-engine</code> （2022-01-06 02:07:34 update: obviously not the last）</a></li></ul></li><li><a href="#query-engine-in-windows-another-not-positive-problem" class="table-of-contents__link toc-highlight">query-engine in Windows, another not positive problem</a><ul><li><a href="#极小自动化程序搭建" class="table-of-contents__link toc-highlight">极小自动化程序搭建</a></li></ul></li><li><a href="#️-prisma-in-binary" class="table-of-contents__link toc-highlight">☑️ <code>prisma</code> in binary</a></li><li><a href="#最大的问题不同启动方式程序运行结果不一样prisma-在可执行程序中找不到" class="table-of-contents__link toc-highlight">最大的问题，不同启动方式，程序运行结果不一样，prisma 在可执行程序中找不到</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Core</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docusaurus</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/docs/category/guides" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://joshcena.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Case: Joshua Chen<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vercel.com/markshawn2020/docusaurus/deployments" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vercel Deploy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://analytics.google.com/analytics/web/#/p324822374/reports/reportinghub?params=_u.dateOption%3DthisWeekSatToToday" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Analytics<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ap-east-1.console.aws.amazon.com/ec2/home?region=ap-east-1#InstanceDetails:instanceId=i-02fffe2800e2025e1" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS EC2 Monitor (VPN)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_Rdzz"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.aacdcb6f.js"></script>
<script src="/assets/js/main.c22735e8.js"></script>
</body>
</html>