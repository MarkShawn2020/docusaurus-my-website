"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[43654],{35318:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(27378);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=a.createContext({}),u=function(e){var t=a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(r.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,r=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,h=d["".concat(r,".").concat(m)]||d[m]||c[m]||o;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=d;var s={};for(var r in t)hasOwnProperty.call(t,r)&&(s[r]=t[r]);s.originalType=e,s.mdxType="string"==typeof e?e:i,l[1]=s;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8660:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>m,default:()=>b,frontMatter:()=>d,metadata:()=>h,toc:()=>f});var a=n(35318),i=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&p(e,n,t[n]);if(s)for(var n of s(t))u.call(t,n)&&p(e,n,t[n]);return e};const d={tags:["\u5f00\u53d1\u7b14\u8bb0","Linux"]},m="\u7f16\u7a0b | Linux \u7b14\u8bb0",h={permalink:"/blog/2022/02/02/dev-linux",editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/my-documents/blog/2022/02-02-dev-linux.md",source:"@site/my-documents/blog/2022/02-02-dev-linux.md",title:"\u7f16\u7a0b | Linux \u7b14\u8bb0",description:"\u5f88\u4e45\u4ee5\u524d\uff0c\u81ea\u6253\u6211\u521a\u5f00\u59cb\u5b66\u8ba1\u7b97\u673a\uff0c\u5c31\u6709\u4e00\u4e2a\u8ba4\u77e5\uff1a\u7cbe\u901a linux \u7684\u4eba\u90fd\u662f\u5927\u795e\u3002",date:"2022-02-02T00:00:00.000Z",formattedDate:"2022/02/02",tags:[{label:"\u5f00\u53d1\u7b14\u8bb0",permalink:"/blog/tags/\u5f00\u53d1\u7b14\u8bb0"},{label:"Linux",permalink:"/blog/tags/linux"}],readingTime:58.95,hasTruncateMarker:!1,authors:[],frontMatter:{tags:["\u5f00\u53d1\u7b14\u8bb0","Linux"]},prevItem:{title:"\u672d\u8bb0 | 2022\uff0c\u6d3b\u7740",permalink:"/blog/2022/02/03/prose-living"},nextItem:{title:"\u672d\u8bb0 | \u5173\u4e8e\u8fd1\u51e0\u5e74\u7684\u4e00\u4e9b\u611f\u609f",permalink:"/blog/2022/02/01/prose-2022-begining"}},k={authorsImageUrls:[]},f=[{value:"\u9996\u5148\uff0clinux \u662f\u4ec0\u4e48",id:"\u9996\u5148linux-\u662f\u4ec0\u4e48",level:2},{value:"\u5176\u6b21\uff0c\u5982\u4f55\u62e5\u6709\u4e00\u53f0 linux",id:"\u5176\u6b21\u5982\u4f55\u62e5\u6709\u4e00\u53f0-linux",level:2},{value:"\u63a5\u7740\uff0c\u5982\u4f55\u767b\u5f55 linux",id:"\u63a5\u7740\u5982\u4f55\u767b\u5f55-linux",level:2},{value:"\u6700\u540e\uff0c\u5982\u4f55\u638c\u63a7 Linux\uff0c\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u90e8\u5206\u7ecf\u9a8c\u7b14\u8bb0",id:"\u6700\u540e\u5982\u4f55\u638c\u63a7-linux\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u90e8\u5206\u7ecf\u9a8c\u7b14\u8bb0",level:2},{value:"-------------------------------------",id:"-------------------------------------",level:2},{value:"BEST-PRACTICE: ubuntu initialization",id:"best-practice-ubuntu-initialization",level:2},{value:"step 0. install",id:"step-0-install",level:3},{value:"step 1. config apt source",id:"step-1-config-apt-source",level:3},{value:"1. change apt source",id:"1-change-apt-source",level:4},{value:"fastest/script way: \u76f4\u63a5\u4fee\u6539<code>/etc/apt/sources.list</code>",id:"fastestscript-way-\u76f4\u63a5\u4fee\u6539etcaptsourceslist",level:5},{value:"robustest/recommend-for-newbie way: \u5728<code>softwares &amp; update</code>\u91cc\u4fee\u6539 server",id:"robustestrecommend-for-newbie-way-\u5728softwares--update\u91cc\u4fee\u6539-server",level:5},{value:"use others way: \u4f7f\u7528\u522b\u4eba\u5199\u597d\u7684 git \u4ed3\u5e93\u8fdb\u884c\u914d\u7f6e",id:"use-others-way-\u4f7f\u7528\u522b\u4eba\u5199\u597d\u7684-git-\u4ed3\u5e93\u8fdb\u884c\u914d\u7f6e",level:5},{value:"2. update apt",id:"2-update-apt",level:4},{value:"step 2. config git",id:"step-2-config-git",level:3},{value:"step 3. config terminal",id:"step-3-config-terminal",level:3},{value:"step 4. config language",id:"step-4-config-language",level:3},{value:"resolution 1: config chinese input source via ibus",id:"resolution-1-config-chinese-input-source-via-ibus",level:4},{value:"FIXME: resolution 2: config chinese input source via sougou",id:"fixme-resolution-2-config-chinese-input-source-via-sougou",level:4},{value:"how to switch language input source",id:"how-to-switch-language-input-source",level:4},{value:"how to change language to english",id:"how-to-change-language-to-english",level:4},{value:"IMPROVE: a script to init ubuntu (may not work)",id:"improve-a-script-to-init-ubuntu-may-not-work",level:3},{value:"BEST-PRACTICE: linux connection (<code>ssh</code>)",id:"best-practice-linux-connection-ssh",level:2},{value:"ssh generate public keys",id:"ssh-generate-public-keys",level:3},{value:"ssh no secret/password",id:"ssh-no-secretpassword",level:3},{value:"Solution 1",id:"solution-1",level:4},{value:"Solution 2",id:"solution-2",level:4},{value:"ssh keep connection alive",id:"ssh-keep-connection-alive",level:3},{value:"BEST-PRACTICE: linux env management",id:"best-practice-linux-env-management",level:2},{value:"how to change apt source",id:"how-to-change-apt-source",level:3},{value:"resolution 1: manual change from the App of <code>Softwares &amp; Updates</code>",id:"resolution-1-manual-change-from-the-app-of-softwares--updates",level:4},{value:"resolution 2: modify the configuration manually from the terminal",id:"resolution-2-modify-the-configuration-manually-from-the-terminal",level:4},{value:"how to know what&#39;s the os platform",id:"how-to-know-whats-the-os-platform",level:3},{value:"how to configure python environment",id:"how-to-configure-python-environment",level:3},{value:"\u2705 cannot use <code>sudo apt-get install xxx</code> to install packages",id:"-cannot-use-sudo-apt-get-install-xxx-to-install-packages",level:3},{value:"BEST-PRACTICE: linux file system management",id:"best-practice-linux-file-system-management",level:2},{value:"mkdir if not exist",id:"mkdir-if-not-exist",level:3},{value:"ls and delete files",id:"ls-and-delete-files",level:3},{value:"fastest delete file",id:"fastest-delete-file",level:3},{value:"how to show absolute path of file from relative",id:"how-to-show-absolute-path-of-file-from-relative",level:3},{value:"how to copy file into clipboard",id:"how-to-copy-file-into-clipboard",level:3},{value:"it&#39;s easy to copy a text file",id:"its-easy-to-copy-a-text-file",level:4},{value:"but it cannot be done for a binary file",id:"but-it-cannot-be-done-for-a-binary-file",level:4},{value:"how to show file size",id:"how-to-show-file-size",level:3},{value:"how to compare between files (<code>diff</code> &amp; <code>vimdiff</code>)",id:"how-to-compare-between-files-diff--vimdiff",level:3},{value:"resolution 1: <code>diff F1 F2</code>",id:"resolution-1-diff-f1-f2",level:4},{value:"resolution 2: <code>diff -y F1 F2</code> or <code>sdiff F1 F2</code>",id:"resolution-2-diff--y-f1-f2-or-sdiff-f1-f2",level:4},{value:"resolution 3: <code>vimdiff F1 F2</code>",id:"resolution-3-vimdiff-f1-f2",level:4},{value:"TODO: resolution 4: git diff",id:"todo-resolution-4-git-diff",level:4},{value:"FIXME: how to copy/move directory files correctly to soft links under target directory without affecting git?",id:"fixme-how-to-copymove-directory-files-correctly-to-soft-links-under-target-directory-without-affecting-git",level:3},{value:"BEST-PRACTICE: linux disk management",id:"best-practice-linux-disk-management",level:2},{value:"<code>ncdu</code>, disk space tui",id:"ncdu-disk-space-tui",level:3},{value:"<code>baobab</code>, disk space gui",id:"baobab-disk-space-gui",level:3},{value:"install problem",id:"install-problem",level:4},{value:"effects",id:"effects",level:4},{value:"BEST-PRACTICE: linux shells management",id:"best-practice-linux-shells-management",level:2},{value:"list all the shells",id:"list-all-the-shells",level:3},{value:"background: <code>sh</code> is different with <code>bash</code>",id:"background-sh-is-different-with-bash",level:3},{value:"see what&#39;s the current Shell",id:"see-whats-the-current-shell",level:3},{value:"switch shell",id:"switch-shell",level:3},{value:"set zsh as the default terminal (need re-login)",id:"set-zsh-as-the-default-terminal-need-re-login",level:3},{value:"BEST-PRACTICE: linux terminal management",id:"best-practice-linux-terminal-management",level:2},{value:"\u2705 the terminal cannot up down after editing",id:"-the-terminal-cannot-up-down-after-editing",level:3},{value:"TODO: bind <code>option + arrow</code> to jump word in zsh on ubuntu vmware on MacOS",id:"todo-bind-option--arrow-to-jump-word-in-zsh-on-ubuntu-vmware-on-macos",level:3},{value:"BEST-PRACTICE: linux commands management",id:"best-practice-linux-commands-management",level:2},{value:"how to auto input in command",id:"how-to-auto-input-in-command",level:3},{value:"auto input password for sudo commands",id:"auto-input-password-for-sudo-commands",level:4},{value:"auto yes for some command (<code>yes | </code>)",id:"auto-yes-for-some-command-yes--",level:4},{value:"auto yes for <code>apt</code> installing packages (<code>-y</code>)",id:"auto-yes-for-apt-installing-packages--y",level:4},{value:"how to search commands by prefix (<code>history-search-backward/forward</code>)",id:"how-to-search-commands-by-prefix-history-search-backwardforward",level:3},{value:"how to repeat command",id:"how-to-repeat-command",level:3},{value:"how to use variable as multi args",id:"how-to-use-variable-as-multi-args",level:3},{value:"how to set an alias",id:"how-to-set-an-alias",level:3},{value:"resolution 1: in terminal",id:"resolution-1-in-terminal",level:4},{value:"resolution 2: write into <code>~/.bash_aliases</code>",id:"resolution-2-write-into-bash_aliases",level:4},{value:"\u2728 resolution 3: use <code>.bash_aliases</code> with <code>zsh</code>",id:"-resolution-3-use-bash_aliases-with-zsh",level:4},{value:"unalias",id:"unalias",level:4},{value:"how to compare between outputs from two commands",id:"how-to-compare-between-outputs-from-two-commands",level:3},{value:"BEST-PRACTICE: linux accounts management",id:"best-practice-linux-accounts-management",level:2},{value:"init user with root config",id:"init-user-with-root-config",level:3},{value:"how to create user",id:"how-to-create-user",level:3},{value:"how to log out",id:"how-to-log-out",level:3},{value:"resolution 1 (11.10 and above)",id:"resolution-1-1110-and-above",level:4},{value:"resolution 2",id:"resolution-2",level:4},{value:"set a shorter password for ubuntu",id:"set-a-shorter-password-for-ubuntu",level:3},{value:"BEST-PRACTICE: linux net management",id:"best-practice-linux-net-management",level:2},{value:"how to know my public ip address",id:"how-to-know-my-public-ip-address",level:3},{value:"how to monitor network traffic",id:"how-to-monitor-network-traffic",level:3},{value:"FIXME: check proxy",id:"fixme-check-proxy",level:3},{value:"BEST-PRACTICE: linux date/time management",id:"best-practice-linux-datetime-management",level:2},{value:"how to format date in terminal",id:"how-to-format-date-in-terminal",level:3},{value:"how to change timezone (and time)",id:"how-to-change-timezone-and-time",level:3},{value:"resolution 1 (conclusion): directly export",id:"resolution-1-conclusion-directly-export",level:4},{value:"resolution 2 (detail): choose following directions",id:"resolution-2-detail-choose-following-directions",level:4},{value:"BEST-PRACTICE: linux system management",id:"best-practice-linux-system-management",level:2},{value:"\u2705 <code>A stop job is running for Session c2 of user ... (1min 30s)</code>",id:"-a-stop-job-is-running-for-session-c2-of-user--1min-30s",level:3},{value:"-----------------------------------",id:"-----------------------------------",level:2},{value:"BEST-PRACTICE: linux common commands",id:"best-practice-linux-common-commands",level:2},{value:"command:tar",id:"commandtar",level:3},{value:"command:perl",id:"commandperl",level:3},{value:"how to use perl to replace multi-lines",id:"how-to-use-perl-to-replace-multi-lines",level:4},{value:"command:find",id:"commandfind",level:3},{value:"how to ignore case",id:"how-to-ignore-case",level:4},{value:"how to specify search type",id:"how-to-specify-search-type",level:4},{value:"how to exclude dir",id:"how-to-exclude-dir",level:4},{value:"TODO: how to find file with time used",id:"todo-how-to-find-file-with-time-used",level:4},{value:"tip: find efficiency comparison",id:"tip-find-efficiency-comparison",level:4},{value:"command:grep",id:"commandgrep",level:3},{value:"how to exclude dir (<code>--exclude-dir=dir</code>)",id:"how-to-exclude-dir---exclude-dirdir",level:4},{value:"how to limit depth (<code>-maxdepth</code>)",id:"how-to-limit-depth--maxdepth",level:4},{value:"tip: grep by lines context is MUCH FASTER than grep by words context, and even better for output",id:"tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output",level:4},{value:"tip: grep by negative captured group needs to use <code>ggrep</code>",id:"tip-grep-by-negative-captured-group-needs-to-use-ggrep",level:4},{value:"command:tree",id:"commandtree",level:3},{value:"how to display chinese (<code>-N</code>)",id:"how-to-display-chinese--n",level:4},{value:"how to exclude dir(<code>-I</code>)",id:"how-to-exclude-dir-i",level:4},{value:"command:head",id:"commandhead",level:3},{value:"head basic usage",id:"head-basic-usage",level:4},{value:"how to exclude the last k rows",id:"how-to-exclude-the-last-k-rows",level:4},{value:"discuss: use <code>head</code> or <code>sed</code>",id:"discuss-use-head-or-sed",level:4},{value:"command:top",id:"commandtop",level:3},{value:"command:cat",id:"commandcat",level:3},{value:"how to write raw string into file using <code>cat</code>",id:"how-to-write-raw-string-into-file-using-cat",level:4},{value:"usage: how to know what&#39;s the bash string",id:"usage-how-to-know-whats-the-bash-string",level:4},{value:"command:Unzip",id:"commandunzip",level:3},{value:"how to unzip to specific directory",id:"how-to-unzip-to-specific-directory",level:4},{value:"command:kill",id:"commandkill",level:3},{value:"command:scp",id:"commandscp",level:3},{value:"command:lsof",id:"commandlsof",level:3},{value:"command:ufw",id:"commandufw",level:3},{value:"command:time",id:"commandtime",level:3},{value:"command:tr",id:"commandtr",level:3},{value:"command:cd",id:"commandcd",level:3},{value:"usage: a superb scene using <code>cd .</code>",id:"usage-a-superb-scene-using-cd-",level:4},{value:"command:sed",id:"commandsed",level:3},{value:"how to print only matched lines",id:"how-to-print-only-matched-lines",level:4},{value:"\u2728 how to increment version number",id:"-how-to-increment-version-number",level:4},{value:"resolution 1: use <code>echo</code> based on <code>//e</code>",id:"resolution-1-use-echo-based-on-e",level:5},{value:"resolution 2: answer",id:"resolution-2-answer",level:5},{value:"resolution 1: use <code>cat</code> and <code>;</code>",id:"resolution-1-use-cat-and-",level:5},{value:"resolution 2: use <code>cat</code> and <code>|</code>",id:"resolution-2-use-cat-and-",level:5},{value:"resolution 3: use sed s-command",id:"resolution-3-use-sed-s-command",level:5},{value:"resolution 4: use sed e-command",id:"resolution-4-use-sed-e-command",level:5}],g={toc:f};function b(e){var t,n=e,{components:i}=n,p=((e,t)=>{var n={};for(var a in e)r.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&s)for(var a of s(e))t.indexOf(a)<0&&u.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=c(c({},g),p),o(t,l({components:i,mdxType:"MDXLayout"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5f88\u4e45\u4ee5\u524d\uff0c\u81ea\u6253\u6211\u521a\u5f00\u59cb\u5b66\u8ba1\u7b97\u673a\uff0c\u5c31\u6709\u4e00\u4e2a\u8ba4\u77e5\uff1a\u7cbe\u901a linux \u7684\u4eba\u90fd\u662f\u5927\u795e\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"\u4f46\uff0c\u6211\u662f\u4e0d\u9700\u8981\u5b66\u7684\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\uff0c\u6211\u90fd\u662f\u8fd9\u4e48\u8ba4\u4e3a\u7684\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"\u76f4\u5230\u8fd9\u4e24\u5e74\uff0c\u6211\u9009\u62e9\u4e86 Mac \u4f5c\u4e3a\u81ea\u5df1\u7684\u4e3b\u529b\u5f00\u53d1\u5de5\u5177\uff0c\u4e24\u5e74\u7684\u6478\u722c\u6eda\u6253\uff0c\u5c24\u5176\u662f\u59cb\u4e8e\u5bf9",(0,a.kt)("inlineCode",{parentName:"p"},"iTerm + zsh + oh-my-zsh"),"\u989c\u503c\u7684\u60ca\u8273\uff0c\u5230\u73b0\u5728\u80fd\u591f\u5728 mac\u3001ubuntu\u3001centos\u3001windows \u7b49\u5404\u5927\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u81ea\u5982\u5207\u6362\uff0c\u5e76\u9010\u6e10\u610f\u8bc6\u5230\u547d\u4ee4\u884c\u7cfb\u7edf\u5bf9\u4e8e\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u7684\u91cd\u8981\u6027\uff0c\u547d\u4ee4\u884c\u719f\u7ec3\u5ea6\u5bf9\u4e8e\u63d0\u5347\u5de5\u4f5c\u6548\u7387\u7684\u91cd\u8981\u6027\uff0c\u6211\u77e5\u9053\uff0c\u6211\u5df2\u7ecf\u8d70\u5411\u4e86\u4e00\u6761\u4e0e\u8ba1\u7b97\u673a\u8d8a\u6765\u8d8a\u8fd1\u7684\u4e0d\u5f52\u8def\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"\u800c\u8fd9\u4e00\u5207\u4e2d\u95f4\u7684\u6865\u6881\uff0c\u6b63\u662f linux\uff0c\u4e8e\u6211\u800c\u8a00\uff0c\u4e0d\u8ba4\u8bc6\u4e0d\u638c\u63e1 linux\uff0c\u4e0d\u53ef\u8c13\u5165\u4e86\u7a0b\u5e8f\u7684\u771f\u6b63\u4e16\u754c\u3002"),(0,a.kt)("p",{parentName:"blockquote"},'\u56e0\u6b64\uff0c\u672c\u7cfb\u5217\u7b2c\u4e00\u7bc7\uff0c\u732e\u7ed9 linux\uff0c\u4e00\u65b9\u9762\u662f\u81f4\u656c\u6211\u5fc3\u4e2d\u66fe\u7ecf\u90a3\u89e6\u4e0d\u53ef\u53ca\u7684\u4fe1\u4ef0\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u662f\u4e3a\u4e86\u80fd\u91cd\u65b0\u8ba4\u8bc6\u5b83\uff0c\u5bf9\u5b83\u8bf4\u4e00\u53e5\u5b83\u53ef\u80fd\u771f\u6b63\u60f3\u542c\u7684\uff1a"hello linux, I\'m mark"\u3002'),(0,a.kt)("p",{parentName:"blockquote"},"\u56e0\u4e3a\u6bcf\u4e00\u4e2a linux \u7684\u5b66\u4e60\u8005\u6700\u540e\u90fd\u4f1a\u53d1\u73b0\uff0clinux \u5e76\u4e0d\u795e\u79d8\uff0c\u800c linux \u771f\u6b63\u542f\u8fea\u4eba\u7684\uff0c\u662f\u5b83\u7684\u8bbe\u8ba1\u54f2\u5b66\uff0c\u4e0e\u5bf9\u4f60\u5de5\u4f5c\u6d41\u7684\u91cd\u5851\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"\u5728\u6b64\uff0c\u6211\u6597\u80c6\u628a python \u4e4b\u7985\u642c\u4e8e\u6b64\uff0c\u56e0\u4e3a\u5728\u6211\u5fc3\u4e2d\uff0c\u5b83\u4e8e linux\uff0c\u662f\u5fc3\u6709\u7075\u7280\uff0c\u540c\u6837\u9002\u7528\uff1a"),(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_core-notes-of-linux-1643723806431-00b5b858aa9372ebc4b9dfc37178554d0d0d4eb62c854edb6cd2385e15333e07.png",alt:"picture 16"})))),(0,a.kt)("h2",c({},{id:"\u9996\u5148linux-\u662f\u4ec0\u4e48"}),"\u9996\u5148\uff0clinux \u662f\u4ec0\u4e48"),(0,a.kt)("p",null,"\u4f5c\u4e3a\u5357\u5ddd\u7684\u6838\u5fc3\u5f00\u53d1\u7b14\u8bb0\uff08\u4ece\u5b9e\u9645\u5de5\u4f5c\u7ecf\u9a8c\u4e2d\u63d0\u70bc\u51fa\u6765\u7684\u7b14\u8bb0\uff09\uff0c\u6211\u65e0\u610f\u8fc7\u591a\u5c55\u5f00\u4e00\u4e9b\u57fa\u672c\u7684\u80cc\u666f\u4ecb\u7ecd\uff0c\u56e0\u6b64\u4e5f\u4e0d\u4f1a\u82b1\u65f6\u95f4\u53bb\u8bb2\u8ff0 linux \u548c unix \u548c mac \u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u8fd9\u4e9b\u8bfb\u8005\u4eec\u90fd\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5728\u4e92\u8054\u7f51\u627e\u5230\u7b54\u6848\u3002"),(0,a.kt)("p",null,"\u6211\u53ea\u7b80\u5355\u5730\u5982\u4e0b\u63cf\u8ff0\uff0c\u76ee\u524d\u7528\u4e8e\u4e2a\u4eba\u4f7f\u7528\u7684\u7535\u8111\u7cfb\u7edf\uff0c\u4e3b\u8981\u5206\u4e3a windows \u548c mac\u3002"),(0,a.kt)("p",null,"windows \u7684\u6700\u5927\u4f18\u70b9\uff0c\u662f\u4ef7\u683c\u76f8\u5bf9\u5e73\u6c11\uff0c\u751f\u6001\u4e30\u5bcc\uff0c\u4ea4\u4e92\u4e60\u60ef\u6700\u7b26\u5408\u4eba\u7c7b\u76f4\u89c9\u3002"),(0,a.kt)("p",null,"mac \u7684\u6700\u5927\u4f18\u70b9\uff0c\u662f\u5ba1\u7f8e\u4e00\u6d41\uff0c\u505a\u5de5\u4e00\u6d41\uff0c\u89e6\u63a7\u677f\u548c\u5c4f\u5e55\u5929\u82b1\u677f\u7684\u5b58\u5728\uff0c\u7136\u540e\u4e8e\u6211\u800c\u8a00\u6700\u5927\u7684\u4f18\u70b9\uff0c\u662f\u5176 unix \u7cfb\u7edf\uff0c\u53ef\u4ee5\u5141\u8bb8\u6211\u50cf linux \u4e00\u6837\u65b9\u4fbf\u5730\u4f7f\u7528\u547d\u4ee4\u884c\u3002"),(0,a.kt)("p",null,"\u6240\u4ee5\uff0c\u6211\u5728\u4f7f\u7528\u4e86\u4e94\u5e74\u7684 windows \u540e\uff0c\u6bc5\u7136\u6295\u5165\u4e86 mac \u7684\u6000\u62b1\uff0c\u800c\u5176\u4e2d\u7684\u76ee\u7684\u4e4b\u4e00\uff0c\u5c31\u662f\u4e3a\u4e86\u66f4\u597d\u5730\u638c\u63e1 linux\u3002"),(0,a.kt)("p",null,"\uff08\u5f53\u7136\uff0c\u7eaf\u7cb9\u4f7f\u7528 linux \u6211\u662f\u4e0d\u4f1a\u63a5\u53d7\u7684\uff0c\u6211\u8fd8\u662f\u89c9\u5f97\u8ffd\u6c42\u5ba1\u7f8e\u4e5f\u662f\u751f\u6d3b\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u4e8e\u662f\u4e4e\uff0c",(0,a.kt)("del",{parentName:"p"},"\u6211\u73b0\u5728\u5df2\u7ecf\u6781\u5176\u6781\u5176\u4e0d\u60f3\u770b\u5230\u4efb\u4f55 windows \u7684\u754c\u9762"),"\uff09"),(0,a.kt)("p",null,"\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u8fd8\u662f\u6ca1\u8bf4 linux \u662f\u4ec0\u4e48\u3002"),(0,a.kt)("p",null,"\u6ca1\u9519\uff0c\u5c31\u5e94\u8be5\u8fd9\u6837\uff0c\u8fd9\u7bc7\u662f\u6838\u5fc3\u5f00\u53d1\u7b14\u8bb0\uff0c\u975e\u6838\u5fc3\u7684\uff0c\u53ef\u4ee5\u51fa\u95e8\u53f3\u8f6c\u67d0\u4e4e\uff0c\u6bd4\u5982\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.zhihu.com/question/434914458/answer/1664277013"}),"(19 \u5c01\u79c1\u4fe1 / 67 \u6761\u6d88\u606f) \u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u4f60\u66f4\u559c\u6b22\u7528 macOS\u3001Linux \u8fd8\u662f Windows \u64cd\u4f5c\u7cfb\u7edf\uff1f\u4e3a\u4ec0\u4e48\uff1f - \u77e5\u4e4e")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.zhihu.com/question/24261540/answer/80418621"}),"(19 \u5c01\u79c1\u4fe1 / 67 \u6761\u6d88\u606f) Linux \u5404\u5927\u53d1\u884c\u7248\u6709\u4ec0\u4e48\u7279\u8272\uff1f - \u77e5\u4e4e"))),(0,a.kt)("p",null,"PS: \u4ee5\u4e0a\u94fe\u63a5\uff0c\u6211\u90fd\u6ca1\u6709\u770b\u8fc7\uff0c\u53ea\u662f\u968f\u624b\u4e00\u641c\u3002\ud83d\ude04"),(0,a.kt)("h2",c({},{id:"\u5176\u6b21\u5982\u4f55\u62e5\u6709\u4e00\u53f0-linux"}),"\u5176\u6b21\uff0c\u5982\u4f55\u62e5\u6709\u4e00\u53f0 linux"),(0,a.kt)("p",null,"\u6709\u5f88\u591a\u79cd\u65b9\u6cd5\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u4f60\u662f windows 10+\u7528\u6237\uff0c\u6700\u65b9\u4fbf\u7684\u65b9\u6cd5\uff0c\u662f\u57fa\u4e8e\u5185\u7f6e\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"wsl"),"\u7cfb\u7edf\uff0c\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\uff1f\u51fa\u95e8\u53f3\u8f6c\u3002"),(0,a.kt)("p",null,"\u81f3\u4e8e\u5185\u7f6e\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"wsl"),"\u4f1a\u4e0d\u4f1a\u6709\u4ec0\u4e48\u9650\u5236\u548c\u6027\u80fd\u635f\u8017\uff1f\u8fd9\u4e2a\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u6211\u4e0d\u7528\uff0c\u5982\u679c\u4f60\u77e5\u9053\uff0c\u6b22\u8fce\u7559\u8a00\uff0c\u6211\u8fd8\u633a\u60f3\u77e5\u9053\u7684\uff0c\u53ea\u8981\u4f60\u613f\u610f\u7559\u6211\u5c31\u613f\u610f\u542c\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u5f71\u54cd\u6211\u63a5\u4e0b\u6765\u7684\u8ba4\u77e5\u3002"),(0,a.kt)("p",null,"\u4f46\u6211\u4e0d\u4f1a\u56e0\u4e3a\u8fd9\u4e2a\u51fa\u95e8\u53f3\u8f6c\uff0c\u6211\u5df2\u7ecf\u4e3a\u4e86\u7ed9\u5927\u5bb6\u793a\u8303\u5982\u4f55\u51fa\u95e8\u53f3\u8f6c\uff0c\u5df2\u7ecf\u51fa\u95e8\u4e00\u6b21\u4e86\uff0c\u5bd2\u51ac\u814a\u6708\uff0c\u602a\u51b7\u7684\u3002"),(0,a.kt)("p",null,"\u8fd9\u662f\u5176\u4e00\u3002"),(0,a.kt)("p",null,"\u5176\u4e8c\uff0c\u88c5\u4e00\u4e2a\u53cc\u7cfb\u7edf\u3002"),(0,a.kt)("p",null,"\u6211\u4e00\u76f4\u60f3\u88c5\u4e2a\u53cc\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c1d\u8bd5\u5230\u4e86\u6700\u540e\u4e00\u6b65\uff0c\u56e0\u4e3a\u5de5\u4f5c\u9700\u8981\u3002\u5f53\u65f6\u6211\u7ed9\u6211\u7684 mac \u88c5 ubuntu \u7684\u53cc\u7cfb\u7edf\uff0c\u7ed3\u679c\u5230\u4e86\u5b89\u88c5\u754c\u9762\uff0c\u9f20\u6807\u548c\u952e\u76d8\u6ca1\u6709\u54cd\u5e94\uff0c\u67e5\u4e86\u67e5\u597d\u50cf\u6211\u7684\u7248\u672c mac 2020 pro \u7684\u9f20\u6807\u548c\u952e\u76d8\u4e0d\u8d70 usb\uff0c\u800c\u662f\u603b\u7ebf\uff1f"),(0,a.kt)("p",null,"\u4e0d\u6e05\u695a\uff0c\u540e\u7eed\u6211\u53ef\u80fd\u4f1a\u7ee7\u7eed\u5c1d\u8bd5\u88c5\u4e2a\u53cc\u7cfb\u7edf\uff0c\u76ee\u524d\u6211\u7528\u7684\u662f\u865a\u62df\u673a\u3002"),(0,a.kt)("p",null,"PS\uff1a\u53cb\u60c5\u63d0\u793a\uff0c\u5c0f\u767d\u4e0d\u8981\u8f7b\u6613\u5c1d\u8bd5\u53cc\u7cfb\u7edf\uff0c\u5bb9\u6613\u7559\u4e0b\u4e0d\u5b66\u65e0\u672f\u540e\u6094\u7684\u6cea\u3002"),(0,a.kt)("p",null,"\u5176\u4e09\uff0c\u88c5\u4e00\u4e2a\u865a\u62df\u673a\uff0c\u6bd4\u5982",(0,a.kt)("inlineCode",{parentName:"p"},"vmware"),"\u6216\u8005",(0,a.kt)("inlineCode",{parentName:"p"},"virtual box"),"\u3002\u4e24\u4e2a\u90fd\u5c1d\u8bd5\u4e0b\u6765\uff0c\u4e2a\u4eba\u6bd4\u8f83\u559c\u6b22",(0,a.kt)("inlineCode",{parentName:"p"},"vmware"),"\u3002"),(0,a.kt)("p",null,"\u81f3\u4e8e\u600e\u4e48\u88c5\uff0c\u600e\u4e48\u914d\u7f6e\uff0c\u51fa\u95e8\u53f3\u8f6c\uff0c\u6216\u8005\u7b49\u6211\u540e\u7eed\u7cfb\u5217\uff0c\u4f1a\u6709\u865a\u62df\u673a/\u53cc\u7cfb\u7edf\u4e13\u520a\u7684\uff0c\u5e94\u8be5\uff08\u5982\u679c\u4e0d\u61d2\u7684\u8bdd\uff09\u3002"),(0,a.kt)("p",null,"\u6211\u76ee\u524d\u7684\u865a\u62df\u673a\uff08\u5185\u90e8\u8fd0\u884c\u7684 ubuntu\uff0c\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff09\u754c\u9762\u5982\u4e0b\uff1a"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_core-notes-of-linux-1643725375163-c76c9d50a6632d532665d3bbbffb45379f7a72060170528ffbba377ad4a0d461.png",alt:"picture 17"}))),(0,a.kt)("p",null,"\u5176\u56db\uff0c\u963f\u91cc\u4e91/\u817e\u8baf\u4e91/\u534e\u4e3a\u4e91/\u4e9a\u9a6c\u900a\u4e91\u2026\u2026\u79df\u4e00\u4e2a linux \u670d\u52a1\u5668\u6216\u8005\u64cd\u4f5c\u7cfb\u7edf\u7b49\u3002\u8fd9\u662f\u4e1a\u754c\u642d\u5efa\u540e\u7aef\u5fc5\u5907\u3002\u6211\u4e4b\u524d\u4e00\u76f4\u7528\u7684\u963f\u91cc\u4e91/\u817e\u8baf\u4e91\uff0c\u56e0\u4e3a\u4ee5\u524d\u505a\u5168\u6808\u591a\u4e00\u4e9b\u3002"),(0,a.kt)("p",null,"\u76ee\u524d\u5e02\u9762\u4e0a\uff0c\u670d\u52a1\u7aef\u5e94\u8be5\u7528 centos \u6bd4\u8f83\u591a\uff0c\u5ba2\u6237\u7aef\u5e94\u8be5\u7528 ubuntu \u6bd4\u8f83\u591a\uff0c\u4e3b\u8981\u539f\u56e0\u53ef\u80fd\u662f centos \u9ed8\u8ba4\u6ca1\u6709\u754c\u9762\uff0c\u7a0b\u5e8f\u8f83\u4e3a\u7a33\u5b9a\uff1bubuntu \u7684\u754c\u9762\u5f88\u597d\u770b\uff0c\u6bd4\u8f83\u9002\u5408\u4e2a\u4eba\u9f13\u6363\u3002"),(0,a.kt)("p",null,"\u6211\u76ee\u524d\u4f7f\u7528\u7684 ubuntu \u754c\u9762\u5982\u4e0b\uff1a"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mark_core-notes-of-linux-1643725414611-b8cc4126f345748e9f692843738ed6d80aa61c82103b1321308468c70443c356.png",alt:"picture 18"}))),(0,a.kt)("p",null,"\u8fd9\u91cc\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6709\u4e00\u4e9b\u4f01\u4e1a\u53ef\u80fd\u8d2d\u7f6e\u4e86\u7c7b\u4f3c\u4e8e windows server \u4e4b\u7c7b\u7684\u670d\u52a1\u7aef\uff0c\u8fd9\u79cd\u672c\u8d28\u4e0a\u8fd8\u662f windows \u7cfb\u7edf\uff0c\u4e0d\u662f linux \u7cfb\u7edf\uff0c\u53ea\u4e0d\u8fc7\u4e00\u76f4\u8dd1\u5728\u516c\u53f8\u7f51\u7edc\u4e0a\u3002"),(0,a.kt)("p",null,"\u6240\u4ee5\u5f53\u6211\u4eec\u8c08\u5230\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u5e76\u4e0d\u4e00\u5b9a\u662f linux \u7cfb\u7edf\uff0c\u8fd9\u662f\u503c\u5f97\u6ce8\u610f\u7684\u3002"),(0,a.kt)("p",null,"\u6211\u4e3a\u5565\u77e5\u9053\u8fd9\u73a9\u610f\u5462\uff0c\u56e0\u4e3a\u4e4b\u524d\u78b0\u5230\u4e00\u4e2a\u9879\u76ee\u662f\u8fd9\u6837\u7684\uff0c\u6211\u672c\u6765\u5199\u597d\u7684 linux \u7684\u540e\u7aef\uff0c\u60f3\u7740\u76f4\u63a5\u79fb\u5230\u76ee\u6807\u516c\u53f8\u7f51\u4e0a\uff0c\u7ed3\u679c\u4e00\u770b\uff0cwindows server\uff0c\u628a\u6211\u7ed9\u6574\u4e0d\u4f1a\u4e86\u3002"),(0,a.kt)("h2",c({},{id:"\u63a5\u7740\u5982\u4f55\u767b\u5f55-linux"}),"\u63a5\u7740\uff0c\u5982\u4f55\u767b\u5f55 linux"),(0,a.kt)("p",null,"\u7406\u8bba\u4e0a\uff0c\u767b\u5f55\u8fd9\u4e2a\u52a8\u4f5c\uff0c\u4e0d\u5e94\u8be5\u662f\u4e2a\u95ee\u9898\uff0c\u4f46\u90a3\u4ec5\u9650\u4e8e\u662f\u767b\u5f55\u81ea\u5df1\u7684\u672c\u5730\u7684\u6bcf\u5929\u90fd\u7528\u7684\u7535\u8111\u3002"),(0,a.kt)("p",null,"linux \u4e00\u822c\u90fd\u662f\u5728\u670d\u52a1\u7aef\u7684\uff0c\u4e00\u822c\u6d89\u53ca\u5230\u8fdc\u7a0b\u8bbf\u95ee\uff0c\u6240\u4ee5\u901a\u7528\u505a\u6cd5\u662f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"ssh"),"\u3002"),(0,a.kt)("p",null,"\u57fa\u672c\u7684 ssh \u7528\u6cd5\u51fa\u95e8\u53f3\u8f6c\u5373\u53ef\uff0c\u672c\u6587\u53ea\u8bb0\u5f55\u5982\u4f55\u514d\u5bc6\u767b\u5f55 ssh\u3002"),(0,a.kt)("p",null,"\u56e0\u4e3a ssh \u9ed8\u8ba4\u6bcf\u6b21\u90fd\u4f1a\u8f93\u5165\u5bc6\u7801\uff0c\u5f88\u4e0d\u7545\u5feb\u3002\u66f4\u4e25\u91cd\u7684\u662f\uff0c\u5982\u679c\u6d89\u53ca\u5230\u5199\u6279\u8fd0\u884c\u811a\u672c\uff0c\u5219\u5bc6\u7801\u8f93\u5165\u4f1a\u6210\u4e3a\u811a\u672c\u6740\u624b\uff0c\u81f3\u5c11\u4f1a\u8ba9\u811a\u672c\u66f4\u96be\u7406\u89e3\uff0c\u51fa\u9519\u6982\u7387\u66f4\u9ad8\u3002"),(0,a.kt)("p",null,"\u5f88\u7b80\u5355\uff0c\u7b2c\u4e00\u6b65\uff0c\u5148",(0,a.kt)("inlineCode",{parentName:"p"},"ssh USERNAME@SERVER"),"\uff0c\u5176\u4e2d",(0,a.kt)("inlineCode",{parentName:"p"},"USERNAME"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"SERVER"),"\u662f\u76ee\u6807\u670d\u52a1\u5668\u7684\u7528\u6237\u540d\u548c IP \u5730\u5740\uff08\u6216\u8005\u57df\u540d\uff0c\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002"),(0,a.kt)("p",null,"\u4e00\u822c\uff0c\u9ed8\u8ba4\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"USERNAME"),"\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"root"),"\uff0c\u5bc6\u7801\u4e5f\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"root"),"\uff0c\u867d\u7136\u8fd9\u5f88\u4e0d\u63a8\u8350\uff0c\u4e0d\u5b89\u5168\uff0c\u4f46\u5bf9\u4e8e\u65b0\u624b\u5374\u662f\u5f88\u53cb\u597d\u3002"),(0,a.kt)("p",null,"\u5c3d\u7ba1\u6211\u7684\u5bc6\u7801\u66f4\u7b80\u5355\uff0c\u7b80\u5355\u5230\u4f60\u4f1a\u62cd\u6848\u60ca\u5947\u3002"),(0,a.kt)("p",null,"\u5f53\u4f60\u7b2c\u4e00\u6b21",(0,a.kt)("inlineCode",{parentName:"p"},"ssh"),"\u4e4b\u540e\uff0c\u4f1a\u5728\u672c\u673a\u7684\u5f53\u524d\u7528\u6237\u6587\u4ef6\u5939\u4e0b\uff08mac \u548c linux \u90fd\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"~"),"\u6587\u4ef6\u5939\uff0cwindows \u662f",(0,a.kt)("inlineCode",{parentName:"p"},"C:\\\\Users\\\\XXX"),"\uff09\u751f\u6210\u4e00\u4e2a",(0,a.kt)("inlineCode",{parentName:"p"},".ssh/id_rsa.pub"),"\uff0c\u8fd9\u662f\u516c\u94a5\u3002"),(0,a.kt)("p",null,"\u8fd9\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u6d89\u53ca\u5230\u4e86 rsa \u7b97\u6cd5\u7b49\u5bc6\u7801\u5b66\u76f8\u5173\u5185\u5bb9\uff0c\u4e0d\u5c55\u5f00\u3002\u800c\u4f60\u8981\u505a\u7684\uff0c\u5c31\u662f\u628a\u91cc\u9762\u7684\u6587\u672c\u590d\u5236\uff0c\u7c98\u8d34\u5230\u76ee\u6807\u670d\u52a1\u5668\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"~/.ssh/authorization_keys"),"\u6587\u4ef6\u5185\uff08\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5219\u65b0\u5efa\uff1b\u5982\u679c\u6587\u4ef6\u5df2\u6709\u5185\u5bb9\uff0c\u5219\u53e6\u8d77\u4e00\u884c\uff0c\u8865\u5728\u540e\u9762\u5373\u53ef\uff09\u3002"),(0,a.kt)("p",null,"\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u952e\u811a\u672c\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'USERNAME="xxx"\nSERVER="xxxxx"\nfile="id_rsa.pub"\n\nscp ~/.ssh/$file $USERNAME@$SERVER:\nssh $USERNAME@$SERVER\ncat $file >> .ssh/authorized_keys\nrm $file\n')),(0,a.kt)("p",null,"\u8fd9\u4e2a\u811a\u672c\u91cc\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"scp"),"\u662f\u5728\u672c\u5730\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u4ea4\u6362\u6587\u4ef6\u7684\u610f\u601d\uff0c\u6700\u540e\u4e00\u4e2a\u5192\u53f7\u8868\u793a\u5f53\u524d\u6587\u4ef6\u5939\uff0c\u800c",(0,a.kt)("inlineCode",{parentName:"p"},"$USERNAME@SERVER"),"\u5373\u76ee\u6807\u670d\u52a1\u5668\u7684\u7528\u6237\u6587\u4ef6\u5939\uff0c\u8fd9\u5c31\u5bf9\u4e0a\u4e86\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"cat"),"\u662f\u8bfb\u53d6\u6240\u6709\u6587\u672c\u5185\u5bb9\u5230\u8f93\u51fa\u6d41\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},">>"),"\u662f\u628a\u8f93\u51fa\u6d41\u5185\u5bb9\u6dfb\u52a0\u5230\u76ee\u6807\u6587\u4ef6\u7684\u672b\u5c3e\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rm"),"\u662f\u5220\u9664\uff0c\u8fd9\u91cc\u4ee3\u8868\u4f20\u9001\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"file"),"\u662f\u4e00\u4e2a\u4e2d\u8f6c\u6587\u4ef6\u7684\u610f\u601d\uff0c\u4e3a\u5565\u8981\u4e2d\u8f6c\uff0c\u4f60\u731c\u3002"),(0,a.kt)("p",null,"\u6700\u540e\uff0c\u4e3a\u4e86\u9632\u6b62",(0,a.kt)("inlineCode",{parentName:"p"},"ssh"),"\u8d85\u65f6\u65ad\u5f00\uff0c\u53ef\u4ee5\u5728\u672c\u5730\uff08\u5ba2\u6237\u7aef\uff09\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"ssh"),"\u914d\u7f6e\u6587\u4ef6\u4e2d\u8865\u4e00\u4e0b\u4ee5\u4e0b\u914d\u7f6e\uff0c\u8fd9\u6837\u6bcf\u5206\u949f\u53d1\u9001\u4e00\u6b21\u6d88\u606f\u7ed9\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u5c31\u4e0d\u4f1a\u4e3b\u52a8\u6e05\u7406\u5ba2\u6237\u7aef\u4e86\u3002\u76f8\u4fe1\u6211\uff0c\u5982\u679c\u4e0d\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u540e\u7eed\u4f60\u4f1a\u5f88\u5934\u75bc\u7684\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-yaml"}),"# /etc/ssh/ssh_config\nHOST: *\n    ServerAliveInterval 60\n")),(0,a.kt)("h2",c({},{id:"\u6700\u540e\u5982\u4f55\u638c\u63a7-linux\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u90e8\u5206\u7ecf\u9a8c\u7b14\u8bb0"}),"\u6700\u540e\uff0c\u5982\u4f55\u638c\u63a7 Linux\uff0c\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u90e8\u5206\u7ecf\u9a8c\u7b14\u8bb0"),(0,a.kt)("h2",c({},{id:"-------------------------------------"}),"-------------------------------------"),(0,a.kt)("h2",c({},{id:"best-practice-ubuntu-initialization"}),"BEST-PRACTICE: ubuntu initialization"),(0,a.kt)("h3",c({},{id:"step-0-install"}),"step 0. install"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://releases.ubuntu.com/18.04/"}),"Ubuntu 18.04.6 LTS (Bionic Beaver)"))),(0,a.kt)("h3",c({},{id:"step-1-config-apt-source"}),"step 1. config apt source"),(0,a.kt)("h4",c({},{id:"1-change-apt-source"}),"1. change apt source"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://zhuanlan.zhihu.com/p/61228593"}),"\u3010Ubuntu\u3011Ubuntu 18.04 LTS \u66f4\u6362\u56fd\u5185\u6e90\u2014\u2014\u89e3\u51b3\u7ec8\u7aef\u4e0b\u8f7d\u901f\u5ea6\u6162\u7684\u95ee\u9898 - \u77e5\u4e4e"))),(0,a.kt)("h5",c({},{id:"fastestscript-way-\u76f4\u63a5\u4fee\u6539etcaptsourceslist"}),"fastest/script way: \u76f4\u63a5\u4fee\u6539",(0,a.kt)("inlineCode",{parentName:"h5"},"/etc/apt/sources.list")),(0,a.kt)("p",null,(0,a.kt)("del",{parentName:"p"},"\u5176\u4e2d\uff0c\u7b2c\u4e00\u79cd\u65b9\u6848\u867d\u7136\u53ef\u884c\uff0c\u4f46\u662f\u6709\u4e24\u4e2a\u7f3a\u70b9\uff0c\u4e00\u4e2a\u662f\u4fb5\u5165\u6027\u9ad8\uff0c\u6240\u4ee5\u4e00\u822c\u90fd\u4f1a\u5148\u5907\u4efd\u4e00\u4e0b\u539f\u6587\u4ef6\uff0c\u7136\u540e\u4f7f\u7528\u66ff\u6362\u547d\u4ee4\u3002")),(0,a.kt)("p",null,"Update 2022-01-24\uff1a\u5b9e\u9645\u4e0a\u6240\u6709\u65b9\u5f0f\u5e95\u5c42\u90fd\u662f\u901a\u8fc7\u4fee\u6539 apt sources.list \u6587\u4ef6\u914d\u7f6e\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u4ec0\u4e48\u4fb5\u5165\u6027\u4e00\u8bf4\uff0c\u90fd\u4f1a\u5148\u505a\u5907\u4efd\u3002"),(0,a.kt)("p",null,"GUI \u7248\uff08\u4e5f\u5c31\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"softwares & update")," app \u91cc\u4f1a\u63d0\u4f9b\u6d4b\u8bd5\uff0c\u81ea\u52a8\u4fee\u6539\uff0c\u6539\u5b8c\u4e4b\u540e\u89e6\u53d1\u66f4\u65b0\u64cd\u4f5c\uff0c\u800c\u8fd9\u4e9b\u5176\u5b9e\u53ef\u4ee5\u81ea\u5df1\u7528\u811a\u672c\u5b8c\u6210\uff0c\u54cd\u5e94\u4e5f\u66f4\u5feb\uff01"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# backup source file\nAPT_SOURCES_LIST_FILE=/etc/apt/sources.list\ncp $APT_SOURCES_LIST_FILE $APT_SOURCES_LIST_FILE.bak\n\n# change source\nAPT_SOURCE="http://mirrors.yun-idc.com/ubuntu/"\nsudo sed -i  "s|deb \\S+|deb $APT_SOURCE|g" $APT_SOURCES_LIST_FILE\n\n# update source\nsudo apt update\n')),(0,a.kt)("p",null,"\u53e6\u4e00\u4e2a\u5c31\u662f\uff0c\u53ea\u80fd\u586b\u5165\u81ea\u5df1\u60f3\u586b\u7684\u6e90\uff0c\u4f46\u5f88\u53ef\u80fd\u4e0d\u662f\u6700\u597d\u7684\u6e90\u3002\u6bd4\u5982\u6211\u4e00\u76f4\u4ee5\u4e3a\u963f\u91cc\u4e91\u7684\u6e90\u5f88\u597d\uff0c\u7ed3\u679c\u8fd9\u6b21\u53d1\u73b0\uff0c\u6781\u5176\u5730\u6162\uff0c\u6211\u786e\u8ba4\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"update"),"\u65f6\u8d70\u7684\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"cn.xxx"),"\uff0c\u4f46\u4f9d\u65e7\u53ea\u6709\u5341\u51e0 k\u3002"),(0,a.kt)("h5",c({},{id:"robustestrecommend-for-newbie-way-\u5728softwares--update\u91cc\u4fee\u6539-server"}),"robustest/recommend-for-newbie way: \u5728",(0,a.kt)("inlineCode",{parentName:"h5"},"softwares & update"),"\u91cc\u4fee\u6539 server"),(0,a.kt)("p",null,"\u7b2c\u4e8c\u79cd\u529e\u6cd5\u5c31\u662f\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"softwares & update"),"\u91cc\u81ea\u52a8\u6d4b\u8bd5\u6700\u597d\u7684\u670d\u52a1\u5668\uff0c\u7136\u540e\u9009\u62e9\u5b83\u3002\u6211\u6d4b\u51fa\u6765\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"yun-idc"),"\u6700\u597d\uff0c\u4f46\u662f\u56e0\u4e3a\u6211\u6ca1\u7528\u8fc7\uff0c\u6240\u4ee5\u5f53\u65f6\u6ca1\u8003\u8651\u5b83\uff0c\u540e\u6765\u88ab\u963f\u91cc\u4e91\u6298\u78e8\u7684\u4e0d\u884c\u4e86\uff0c\u5c31\u8bd5\u4e86\u5b83\uff0c\u7ed3\u679c\u98de\u5feb\uff0c\u5341\u5146\u6bcf\u79d2\uff01"),(0,a.kt)("h5",c({},{id:"use-others-way-\u4f7f\u7528\u522b\u4eba\u5199\u597d\u7684-git-\u4ed3\u5e93\u8fdb\u884c\u914d\u7f6e"}),"use others way: \u4f7f\u7528\u522b\u4eba\u5199\u597d\u7684 git \u4ed3\u5e93\u8fdb\u884c\u914d\u7f6e"),(0,a.kt)("p",null,"\u7b2c\u4e09\u79cd\u529e\u6cd5\uff0c\u7531\u4e8e\u6211\u8fd8\u6ca1\u914d\u597d\u6e90\uff0c\u6240\u4ee5\u4e5f\u6ca1 git\uff0c\u800c\u6b64\u65f6\u4e0b\u8f7d git \u53c8\u4f1a\u6781\u5176\u5730\u6162\uff0c\u6240\u4ee5\u4e5f\u4e0d\u8003\u8651\u3002"),(0,a.kt)("h4",c({},{id:"2-update-apt"}),"2. update apt"),(0,a.kt)("p",null,"!!!tip If the following commands warn that files are locked, then wait for some minutes, or use ",(0,a.kt)("inlineCode",{parentName:"p"},"lsof FILE")," to have a check, more refer to: - ",(0,a.kt)("a",c({parentName:"p"},{href:"https://zhuanlan.zhihu.com/p/126538251"}),"\u89e3\u51b3 apt-get /var/lib/dpkg/lock-frontend \u95ee\u9898 - \u77e5\u4e4e")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo apt get update\nsudo apt get upgrade\n")),(0,a.kt)("h3",c({},{id:"step-2-config-git"}),"step 2. config git"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo apt get git\ngit config --global user.name YOUR_NAME\ngit config --global user.email YOUR_EMAIL\n")),(0,a.kt)("h3",c({},{id:"step-3-config-terminal"}),"step 3. config terminal"),(0,a.kt)("h3",c({},{id:"step-4-config-language"}),"step 4. config language"),(0,a.kt)("h4",c({},{id:"resolution-1-config-chinese-input-source-via-ibus"}),"resolution 1: config chinese input source via ibus"),(0,a.kt)("p",null,"ibus \u8f93\u5165\u65b9\u5f0f\u548c\u641c\u72d7\u8f93\u5165\u6cd5\u4e4b\u95f4\u4e0d\u662f\u5f88\u517c\u5bb9\uff0c\u5982\u679c\u51fa\u73b0\u4e24\u8005\u90fd\u65e0\u6cd5\u8f93\u5165\u4e2d\u6587\u7684\u60c5\u51b5\uff0c\u5efa\u8bae\u6839\u636e",(0,a.kt)("a",c({parentName:"p"},{href:"https://www.jianshu.com/p/c04a4b03d30f"}),"Ubuntu 18.04LTS \u5b89\u88c5\u4e2d\u6587\u8f93\u5165\u6cd5\u4ee5\u53ca\u5feb\u6377\u952e\u8bbe\u7f6e - \u7b80\u4e66"),"\u5148\u5378\u8f7d\u641c\u72d7\u8f93\u5165\u6cd5\uff0c\u786e\u8ba4 ibus \u662f\u53ef\u4ee5\u7528\u7684\uff0c\u5177\u4f53\u5c31\u662f\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"sudo apt-get remove fcitx*")),(0,a.kt)("p",null,"\u786e\u8ba4\u4ee5\u4e0b\u914d\u7f6e\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u8bbe\u7f6e - \u5730\u533a\u4e0e\u8bed\u8a00 - \u8f93\u5165\u6cd5\uff0c\u4e2d\u8981\u6dfb\u52a0\u5305\u542b\u667a\u80fd\u62fc\u97f3\uff1a")),(0,a.kt)("img",{alt:"picture 5",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/notes-1642268594063-def6bf87b276425161475a3ce55fbb05d8bb305b913ae5b39cc6e9708a6e32ae.png"}),(0,a.kt)("ol",c({},{start:2}),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u8bed\u8a00\u652f\u6301\u4e2d\uff0c\u8981\u542f\u7528 ibus \u65b9\u6848"),(0,a.kt)("img",{alt:"picture 7",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/notes-1642268691854-043dc8408c8326d13213bc92302c26f2d85b2be6a2892dbc58cf3d3349c9c8bc.png"}),(0,a.kt)("p",{parentName:"li"},"\u6ce8\u9500\u8d26\u53f7\u91cd\u65b0\u767b\u5f55\u5373\u53ef\u3002")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\u5982\u679c\u6ce8\u9500\u8d26\u53f7\u8fd8\u4e0d\u884c\uff0c \u5c31\u8981\u5c1d\u8bd5",(0,a.kt)("inlineCode",{parentName:"p"},"sudo reboot"),"\u4e00\u4e0b\u3002"))),(0,a.kt)("h4",c({},{id:"fixme-resolution-2-config-chinese-input-source-via-sougou"}),"FIXME: resolution 2: config chinese input source via sougou"),(0,a.kt)("p",null,"\u867d\u7136\u6309\u7167\u5b98\u7f51\u8d70\u4e86\u597d\u51e0\u904d\uff0c\u4f46\u59cb\u7ec8\u8fd8\u662f\u6ca1\u6709\u914d\u6210\u8fd9\u5957\u65b9\u6848\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\u4ec0\u4e48\u539f\u56e0\u3002"),(0,a.kt)("p",null,"\u800c\u4e14 ibus \u65b9\u6848\u4e5f\u5fc5\u987b\u5728 fcitx \u5378\u8f7d\u4e4b\u540e\u624d\u80fd\u6b63\u5e38\u4f7f\u7528\u3002"),(0,a.kt)("p",null,"\u53c2\u8003\u5b98\u7f51\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://pinyin.sogou.com/linux/"}),"\u641c\u72d7\u8f93\u5165\u6cd5 for linux"))),(0,a.kt)("p",null,"\u66f4\u65b0\uff1a\u786e\u4fdd\uff1a"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u8f93\u5165\u6e90\u4e2d\u53ea\u6709\u4e00\u4e2a\u82f1\u6587\uff08\u4e0d\u8981\u6709 ibus \u7684\u4e2d\u6587\uff0c\u5426\u5219\u4f1a\u5e72\u6270\uff09")),(0,a.kt)("img",{alt:"picture 8",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/notes-1642273187873-a0b1b31105b8e9fdea3ea0c576bc3e81e15cd6dec9c1dfb55a43d3a64ece559d.png"}),(0,a.kt)("ol",c({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"\u8f93\u5165\u7cfb\u7edf\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"fcitx"))),(0,a.kt)("img",{alt:"picture 9",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/notes-1642273215269-68b870e74dbe7fecdac78268144d73dc987602eddc24098c4e10763b540eb6bb.png"}),(0,a.kt)("p",null,"\u518d\u66f4\u65b0\uff1a\u7b97\u4e86\u5427\uff0c\u6211\u4e2a\u4eba\u89c9\u5f97\u641c\u8fc7 ubuntu \u7684 bug \u662f\u771f\u5730\u591a\uff0c\u4e00\u4f1a\u80fd\u7528\u4e00\u4f1a\u4e0d\u80fd\u7528\uff0c\u5c24\u5176\u662f\u6211\u5728\u8c03\u6210\u4e2d\u6587\u7248\u80fd\u7528\u540e\u53c8\u8c03\u6210\u82f1\u6587\u7248\uff0c\u7136\u540e\u7528\u4e0d\u4e86\u4e86\uff0c\u63a5\u7740\u518d\u600e\u4e48\u8c03\u4e2d\u6587\u7248\u90fd\u7528\u4e0d\u4e86\u4e86\uff0c\u975e\u5e38\u86cb\u75bc\u3002"),(0,a.kt)("h4",c({},{id:"how-to-switch-language-input-source"}),"how to switch language input source"),(0,a.kt)("p",null,"The best way is to directly install the Chinese version of ubuntu, since the Chinese feature is built-in."),(0,a.kt)("p",null,"However, what we download directly from the official ubuntu website, may not support chinese choice natively. So it highly depends on what distribution version of ubuntu we download."),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/qq_31290747/article/details/94555163"}),"(20 \u6761\u6d88\u606f) ubuntu \u5207\u6362\u4e2d\u6587\u8f93\u5165\u6cd5","_",(0,a.kt)("em",{parentName:"a"},"g_y"),"\u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","ubuntu \u5207\u6362\u4e2d\u6587\u8f93\u5165\u6cd5"))),(0,a.kt)("h4",c({},{id:"how-to-change-language-to-english"}),"how to change language to english"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo export LANGUAGE=en_US.UTF-8 |  sudo tee -a ~/.bashrc\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/133318/how-do-i-change-the-language-via-a-terminal"}),"command line - How do I change the language via a terminal? - Ask Ubuntu"))),(0,a.kt)("h3",c({},{id:"improve-a-script-to-init-ubuntu-may-not-work"}),"IMPROVE: a script to init ubuntu (may not work)"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'"\nversion: 0.0.3\nfeatures:\n    1. disable sudo password so running commands faster\n    2. disable apt password so installing packages faster\n    3. enable arrow up/down to backward/forward search prefix command\n    4. auto change deb(apt) source\n    5. auto install zsh, config oh-my-zsh, set as the default shell, you may need to switch to bash when build android in case of errors, it\'s easy just to input `bash` in terminal\n    6. re-login to make these changes work\n"\n\n# !IMPORTANT: config global variables\nPASSWORD=" "\n\n# --- step 1 ---\n# write password variable into bash_profile\necho "export PASSWORD=$PASSWORD" >> ~/.bash_profile\nsource ~/.bash_profile\n\n# disable sudo password, ref: https://askubuntu.com/a/878705\necho "$USER ALL=(ALL:ALL) NOPASSWD: ALL" | sudo tee -a /etc/sudoers.d/$USER\n\n# --- step 1.5 ---\n# enable backward/forward prefix commands search\necho \'"\\e[A": history-search-backward\n"\\e[B": history-search-forward\' >> ~/.inputrc\nbind -f ~/.inputrc\n\n# --- step 1.7 ---\n\n# change timezone, so that time display ok\necho "export TZ=\'Asia/Shanghai\'" >> ~/.profile # need relogin\n\n# --- step 2 ---\n# update apt and install packages\n\n# change apt source\nAPT_SOURCE="http://mirrors.yun-idc.com/ubuntu/"\nAPT_SOURCES_LIST_FILE=/etc/apt/sources.list\nsudo sed -i.bak -r  "s|deb \\S+|deb $APT_SOURCE|g" $APT_SOURCES_LIST_FILE\n\necho "Y" | sudo apt update # need confirm but skipped since configured\necho "Y" | sudo apt upgrade\n\nINSTALLED_PACKAGES="vim git htop zsh terminator"\necho $INSTALLED_PACKAGES | xargs sudo apt install -y\n\n# --- step 3 ---\n# modify timezone (need relogin)\n\nexport "TZ=Asia/Shanghai\'\\n" >> ~/.profile\n\n# --- step 4 ---\n# configure zsh (installed in \\$INSTALLED_PACKAGES) / oh-my-zsh\n\n# install oh-my-zsh (built-in backward search)\n# ref: https://ohmyz.sh/#install\nsh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"\n\n# --- step 5 ---\n# diy zsh based on \'oh-my-zsh\'\n\n# add dynamical time display\necho \'PROMPT="%{$fg[yellow]%}%D{%Y/%m/%d} %D{%H:%M:%S} %{$fg[default]%}"$PROMPT\' >> ~/.zshrc\n\n# set zsh as the default terminal (need relogin!)\nsudo chsh -s $(which zsh) # after configed sudo, no need to input password\n\n# enable zsh changes\nexec zsh\n\n# --- step 6 ---\n# re-login\nsudo pkill -u $USER\n')),(0,a.kt)("h2",c({},{id:"best-practice-linux-connection-ssh"}),"BEST-PRACTICE: linux connection (",(0,a.kt)("inlineCode",{parentName:"h2"},"ssh"),")"),(0,a.kt)("h3",c({},{id:"ssh-generate-public-keys"}),"ssh generate public keys"),(0,a.kt)("p",null,"ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key"}),"https://git-scm.com/book/en/v2/Git-on-the-Server-Generating-Your-SSH-Public-Key")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"mkdir -p ~/.ssh\ncd ~/.ssh\nssh-keygen -o\n")),(0,a.kt)("h3",c({},{id:"ssh-no-secretpassword"}),"ssh no secret/password"),(0,a.kt)("admonition",c({},{type:"tip"}),(0,a.kt)("p",{parentName:"admonition"},"\u6700\u8fd1\u9047\u5230\u4e86\u53d1\u73b0\u5373\u4f7f\u52a0\u4e86 authorization_keys \u8fd8\u662f\u4e0d\u884c\uff0c\u641c\u4e86\u5f88\u591a\u5e16\u5b50\uff0c\u5927\u81f4\u7406\u51fa\u4e86\u89e3\u51b3\u529e\u6cd5"),(0,a.kt)("p",{parentName:"admonition"},"\u9996\u5148\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"/usr/sbin/sshd -d -p 2222")," \u5f00\u542fsshd\u8c03\u8bd5\uff0c\u7136\u540e\u5728client\u4e0a\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"ssh -vv xxx@xxx")," \u8fdb\u884c\u8c03\u8bd5\uff0c\u4e3b\u8981\u770b\u670d\u52a1\u7aef\u62a5\u4ec0\u4e48\u9519\uff0c\u4f8b\u5982\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"esca"),"\u7b97\u6cd5\u4e0d\u652f\u6301\u5565\u7684\uff0c\u7136\u540e\u5c31\u610f\u8bc6\u5230\u4e86\u662f ssh \u7248\u672c\u592a\u4f4e\uff0c\u8981\u5347\u7ea7\u3002"),(0,a.kt)("p",{parentName:"admonition"},"\u4e0d\u8fc7\u7531\u4e8e ssh-client \u4f9d\u8d56\u4e8e ssh-server\uff0c\u6240\u4ee5\u4e5f\u53ef\u80fd\u8fd8\u6bd4\u8f83\u96be\u5347\uff0c\u5177\u4f53\u7684\u529e\u6cd5\u53ef\u4ee5\u7528\uff1a"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo apt purge openssh-server\nsudo apt-get install openssh-client\nsudo apt-get install openssh-server\nsudo systemctl restart sshd\nsudo systemctl restart ssh\n"))),(0,a.kt)("p",null,"It's easy that if only you generate a ",(0,a.kt)("inlineCode",{parentName:"p"},"id_rsa.pub")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"scp")," to your ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.ssh/authorization_keys")," then things all done."),(0,a.kt)("h4",c({},{id:"solution-1"}),"Solution 1"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'username="xxx"\nserver="xxxxx"\nfile="~/.ssh/id_rsa.pub"\ncat $file | ssh $username@$server "cat - >> ~/.ssh/authorized_keys"\n\n# sample\ncat $file | ssh aosp@192.168.1.242 "cat - >> ~/.ssh/authorized_keys"\n')),(0,a.kt)("h4",c({},{id:"solution-2"}),"Solution 2"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'username="xxx"\nserver="xxxxx"\nfile="~/.ssh/id_rsa.pub"\n\nscp $file $username@$server:\nssh $username@$server\ncat $file >> .ssh/authorized_keys\nrm $file\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://alvinalexander.com/linux-unix/how-use-scp-without-password-backups-copy/"}),"How to use the Linux \u2018scp\u2019 command without a password to make remote backups | alvinalexander.com"))),(0,a.kt)("h3",c({},{id:"ssh-keep-connection-alive"}),"ssh keep connection alive"),(0,a.kt)("p",null,"the simplest way is to force the client to keep sending ","[a null]"," message(packet) to the server, in case that the server closed the connection beyond the time limitation, and what you need to do is just to modify 2 lines in your ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/ssh/ssh_config")," file."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo vim /etc/ssh/ssh_config\n")),(0,a.kt)("p",null,"change into these:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-yaml"}),"HOST: *\n    ServerAliveInterval 60\n")),(0,a.kt)("p",null,"finally, maybe you should restart your client. If you use the mac, you can:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# restart-ssh, reference: https://gist.github.com/influx6/46c39709a67f09908cc7542ca444fca2\nsudo launchctl stop com.openssh.sshd\nsudo launchctl start com.openssh.sshd\n")),(0,a.kt)("h2",c({},{id:"best-practice-linux-env-management"}),"BEST-PRACTICE: linux env management"),(0,a.kt)("h3",c({},{id:"how-to-change-apt-source"}),"how to change apt source"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/104695/how-do-i-change-mirrors-in-ubuntu-server-from-regional-to-main"}),"command line - How do I change mirrors in Ubuntu Server from regional to main? - Ask Ubuntu"))),(0,a.kt)("h4",c({},{id:"resolution-1-manual-change-from-the-app-of-softwares--updates"}),"resolution 1: manual change from the App of ",(0,a.kt)("inlineCode",{parentName:"h4"},"Softwares & Updates")),(0,a.kt)("h4",c({},{id:"resolution-2-modify-the-configuration-manually-from-the-terminal"}),"resolution 2: modify the configuration manually from the terminal"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"CONCLUSION")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'MIRROR_FROM="us.archive.ubuntu.com"\nMIRROR_TO="mirrors.tuna.tsinghua.edu.cn"\nAPT_FILE="/etc/apt/sources.list"\nsudo sed -i "s|${MIRROR_FROM}|${MIRROR_TO}|g" ${APT_FILE}\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"DETAIL")),(0,a.kt)("p",null,"There are a few mirror servers can be used in China:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"mirrors.tuna.tsinghua.edu.cn"),(0,a.kt)("li",{parentName:"ul"},"ftp.sjtu.edu.cn"),(0,a.kt)("li",{parentName:"ul"},"mirrors.aliyun.com"),(0,a.kt)("li",{parentName:"ul"},"mirrors.huaweicloud.com"),(0,a.kt)("li",{parentName:"ul"},"mirrors.yun-idc.com"),(0,a.kt)("li",{parentName:"ul"},"...")),(0,a.kt)("p",null,"The format of these mirrors may be as ",(0,a.kt)("inlineCode",{parentName:"p"},"http://${MIRROR_URL}/ubuntu/")),(0,a.kt)("p",null,"And the default configuration of ubuntu servers are at ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/apt/sources.list"),", with a copy of backup at ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/apt/sources.list.save"),"."),(0,a.kt)("p",null,"Here is what the ",(0,a.kt)("inlineCode",{parentName:"p"},"save")," contents are:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-yaml"}),"// /etc/apt/sources.list.save\n#deb cdrom:[Ubuntu 18.04.6 LTS _Bionic Beaver_ - Release amd64 (20210915)]/ bionic main restricted\n\n# See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to\n# newer versions of the distribution.\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic main restricted\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic main restricted\n\n## Major bug fix updates produced after the final release of the\n## distribution.\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic-updates main restricted\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-updates main restricted\n\n## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu\n## team. Also, please note that software in universe WILL NOT receive any\n## review or updates from the Ubuntu security team.\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic universe\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic universe\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic-updates universe\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-updates universe\n\n## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu\n## team, and may not be under a free licence. Please satisfy yourself as to\n## your rights to use the software. Also, please note that software in\n## multiverse WILL NOT receive any review or updates from the Ubuntu\n## security team.\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic multiverse\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic multiverse\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic-updates multiverse\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-updates multiverse\n\n## N.B. software from this repository may not have been tested as\n## extensively as that contained in the main release, although it includes\n## newer versions of some series which may provide useful features.\n## Also, please note that software in backports WILL NOT receive any review\n## or updates from the Ubuntu security team.\ndeb http://us.archive.ubuntu.com/ubuntu/ bionic-backports main restricted universe multiverse\n# deb-src http://us.archive.ubuntu.com/ubuntu/ bionic-backports main restricted universe multiverse\n\n## Uncomment the following two lines to add software from Canonical's\n## 'partner' repository.\n## This software is not part of Ubuntu, but is offered by Canonical and the\n## respective vendors as a service to Ubuntu users.\n# deb http://archive.canonical.com/ubuntu bionic partner\n# deb-src http://archive.canonical.com/ubuntu bionic partner\n\ndeb http://security.ubuntu.com/ubuntu bionic-security main restricted\n# deb-src http://security.ubuntu.com/ubuntu bionic-security main restricted\ndeb http://security.ubuntu.com/ubuntu bionic-security universe\n# deb-src http://security.ubuntu.com/ubuntu bionic-security universe\ndeb http://security.ubuntu.com/ubuntu bionic-security multiverse\n# deb-src http://security.ubuntu.com/ubuntu bionic-security multiverse\n")),(0,a.kt)("h3",c({},{id:"how-to-know-whats-the-os-platform"}),"how to know what's the os platform"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# mac: Darwin\nuname\n\n# if platform is mac\nif [[ $(uname) == Darwin ]];\nthen XXX;\nelse YYY;\nfi;\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/3466166/how-to-check-if-running-in-cygwin-mac-or-linux"}),"bash - How to check if running in Cygwin, Mac or Linux? - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"how-to-configure-python-environment"}),"how to configure python environment"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"install the python on the server, the version of which would better correspond with the one of the local in case of unexpected error caused by version difference"),(0,a.kt)("li",{parentName:"ol"},"use ",(0,a.kt)("inlineCode",{parentName:"li"},"virtualenv")," to create an env based on this python version named ",(0,a.kt)("inlineCode",{parentName:"li"},"venv_py")," under this working directory"),(0,a.kt)("li",{parentName:"ol"},"activate this env"),(0,a.kt)("li",{parentName:"ol"},"use ",(0,a.kt)("inlineCode",{parentName:"li"},"pip")," to install the ",(0,a.kt)("inlineCode",{parentName:"li"},"requirements.txt")),(0,a.kt)("li",{parentName:"ol"},"run!")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"PY_VERSION=python3.9\n\n# install the target python version based on its version number\n# if you don't use these two lines, then you would suffer from `wget blablabla...` when you checked what the hell the python repo url is\nsudo apt install software-properties-common -y\nsudo add-apt-repository ppa:deadsnakes/ppa\nsudo apt install ${PY_VERSION}\n\n# use `virtualenv` to create and activate a new python env fast~\nsudo apt install virtualenv\nvirtualenv -p ${PY_VERSION} venv\nsource venv_py/bin/activate\n\n# install all the requirements\n# if you need to dump all the requirements of a python project used, you can use `pip freeze > requirements.txt` so that a file named of `requirements.txt` would be generated under the current directory\npip install -r requirements.txt\n\n# run our backend of `fastapi`\npython main.py\n")),(0,a.kt)("h3",c({},{id:"-cannot-use-sudo-apt-get-install-xxx-to-install-packages"}),"\u2705 cannot use ",(0,a.kt)("inlineCode",{parentName:"h3"},"sudo apt-get install xxx")," to install packages"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cd /var/lib/dpkg/updates\nrm -rf ./*\n\nsudo apt-get update\n\nsudo apt-get disk-upgrade # it may cost a little of time\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("p",null,"I changed the suggestion in this article from ",(0,a.kt)("inlineCode",{parentName:"p"},"rm -r")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"rm -rf"),", otherwise not successful."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.codeprj.com/blog/a352621.html"}),"E:dpkg was interrupted, you must manually run'dpkg \u914d\u7f6e'to correct the problem. - \u7801\u4e0a\u5feb\u4e50"))),(0,a.kt)("p",null,"This discussion seems wonderful but didn't get my problem solved."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/410045/the-package-lists-or-status-file-could-not-be-parsed-or-opened"}),'apt - "The package lists or status file could not be parsed or opened" - Ask Ubuntu'))),(0,a.kt)("h2",c({},{id:"best-practice-linux-file-system-management"}),"BEST-PRACTICE: linux file system management"),(0,a.kt)("h3",c({},{id:"mkdir-if-not-exist"}),"mkdir if not exist"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"mkdir -p DIR\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://pubs.opengroup.org/onlinepubs/009695399/utilities/mkdir.html"}),"mkdir"))),(0,a.kt)("h3",c({},{id:"ls-and-delete-files"}),"ls and delete files"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"ls | grep STR | xargs rm -f\n")),(0,a.kt)("p",null,"WARNING! Since the operation pipeline is silent, ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/20858524/delete-a-list-of-files-with-find-and-grep#:~:text=you%20are%20likely%20to%20remove%20files%20that%20you%20did%20not%20intend%20to%20remove"}),"you are likely to remove files that you did not intend to remove"),"."),(0,a.kt)("p",null,"Hence, you'd better use ",(0,a.kt)("inlineCode",{parentName:"p"},"ls | grep STR")," first to check whether all the files to remove meet your expectation."),(0,a.kt)("h3",c({},{id:"fastest-delete-file"}),"fastest delete file"),(0,a.kt)("p",null,"Don't bother checking if the file exists, just try to remove it."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"rm -f PATH\n\nbrew install dialog\n# or\nrm PATH 2> /dev/null\n\nfind . -name 'test'\n\nif [ \"$BLEG\" != xxx ]; then command; fi\n\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-py"}),'print("hello")\n')),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ts"}),"interface Test {\n  name: string;\n}\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/31318068/shell-script-to-remove-a-file-if-it-already-exist/31318262"}),"shell script to remove a file if it already exist - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"how-to-show-absolute-path-of-file-from-relative"}),"how to show absolute path of file from relative"),(0,a.kt)("p",null,"I cannot use ",(0,a.kt)("inlineCode",{parentName:"p"},"brew install realpath")," like their ",(0,a.kt)("inlineCode",{parentName:"p"},"apt install realpath"),", but I can use ",(0,a.kt)("inlineCode",{parentName:"p"},"realpath"),", which may be pre-built-in."),(0,a.kt)("p",null,"Plus, later I saw that maybe realpath is a submodule of mac package, which is named as ",(0,a.kt)("inlineCode",{parentName:"p"},"findutils"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"realpath FILE\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/4175264/how-to-retrieve-absolute-path-given-relative"}),"bash - How to retrieve absolute path given relative - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"how-to-copy-file-into-clipboard"}),"how to copy file into clipboard"),(0,a.kt)("p",null,"core ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://apple.stackexchange.com/a/15327"}),"https://apple.stackexchange.com/a/15327")),(0,a.kt)("h4",c({},{id:"its-easy-to-copy-a-text-file"}),"it's easy to copy a text file"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# copy\npbcopy < FILE\n\n# paste to command line\npbpaste\n\n# paste to a new file\npbpaste > FILE2\n")),(0,a.kt)("p",null,"But attention, the ",(0,a.kt)("inlineCode",{parentName:"p"},"pbpaste")," would cause corruption when deals with binary file."),(0,a.kt)("h4",c({},{id:"but-it-cannot-be-done-for-a-binary-file"}),"but it cannot be done for a binary file"),(0,a.kt)("p",null,"Since the traditional ",(0,a.kt)("inlineCode",{parentName:"p"},"command + c | command + v")," is just copy the reference of file into clipboard, instead of the content itself, we had no way to use ",(0,a.kt)("inlineCode",{parentName:"p"},"pbcopy")," to copy a file, and then use ",(0,a.kt)("inlineCode",{parentName:"p"},"command + v")," to paste at another place."),(0,a.kt)("p",null,"A solution is to use osascript."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-osascript"}),'#!/usr/bin/osascript\non run args\n  set abs_path to do shell script "/usr/local/bin/greadlink -f -- " & (first item of args)\n  set the clipboard to POSIX file abs_path\nend\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://apple.stackexchange.com/questions/15318/how-to-use-terminal-to-copy-a-file-to-the-clipboard"}),"mac - How to use terminal to copy a file to the clipboard? - Ask Different"))),(0,a.kt)("h3",c({},{id:"how-to-show-file-size"}),"how to show file size"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# -l show detail\n# -h show 'human readable size\nls -lh FILE/DIR\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.tutorialrepublic.com/faq/how-to-make-ls-command-to-show-file-sizes-in-megabytes-in-ubuntu.php"}),"How to Make ls Command to Show File Sizes in Megabytes in Ubuntu"))),(0,a.kt)("h3",c({},{id:"how-to-compare-between-files-diff--vimdiff"}),"how to compare between files (",(0,a.kt)("inlineCode",{parentName:"h3"},"diff")," & ",(0,a.kt)("inlineCode",{parentName:"h3"},"vimdiff"),")"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"see: ",(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/17195308/unix-diff-side-to-side-results"}),"bash - unix diff side-to-side results? - Stack Overflow"))),(0,a.kt)("p",null,"There is a few of ",(0,a.kt)("inlineCode",{parentName:"p"},"diff")," commands for us to choose."),(0,a.kt)("h4",c({},{id:"resolution-1-diff-f1-f2"}),"resolution 1: ",(0,a.kt)("inlineCode",{parentName:"h4"},"diff F1 F2")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-hwoto-1642517649112-cb2bf00d7a0d7d954fdc039c3862869a96a67c75fc4190101616cd5b3ad0495a.png",alt:"picture 9"}))),(0,a.kt)("h4",c({},{id:"resolution-2-diff--y-f1-f2-or-sdiff-f1-f2"}),"resolution 2: ",(0,a.kt)("inlineCode",{parentName:"h4"},"diff -y F1 F2")," or ",(0,a.kt)("inlineCode",{parentName:"h4"},"sdiff F1 F2")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-hwoto-1642517708938-fd8d1056dcc311fca0ff60316445a2fea77f670b4d7353cea9d6034775beb75a.png",alt:"picture 10"}))),(0,a.kt)("h4",c({},{id:"resolution-3-vimdiff-f1-f2"}),"resolution 3: ",(0,a.kt)("inlineCode",{parentName:"h4"},"vimdiff F1 F2")),(0,a.kt)("p",null,"It's awesome! Isn't it?"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-hwoto-1642517738027-4beec462aa9bda3ff2127c563de64a20d8703edc7774603372fce03807992a96.png",alt:"picture 12"}))),(0,a.kt)("h4",c({},{id:"todo-resolution-4-git-diff"}),"TODO: resolution 4: git diff"),(0,a.kt)("h3",c({},{id:"fixme-how-to-copymove-directory-files-correctly-to-soft-links-under-target-directory-without-affecting-git"}),"FIXME: how to copy/move directory files correctly to soft links under target directory without affecting git?"),(0,a.kt)("p",null,"example:"),(0,a.kt)("p",null,"When I zipped one modified ",(0,a.kt)("inlineCode",{parentName:"p"},"frameworks/native")," directory to be e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"RAW"),", and then reset the ",(0,a.kt)("inlineCode",{parentName:"p"},"frameworks/native")," to be the init."),(0,a.kt)("p",null,"Then I move all the files under ",(0,a.kt)("inlineCode",{parentName:"p"},"RAW")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"frameworks/native")," with the command:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cp -r RAW/* TARGET/frameworks/native/\n")),(0,a.kt)("p",null,"The error arose up since there are soft links under ",(0,a.kt)("inlineCode",{parentName:"p"},"frameworks/native"),", such as ",(0,a.kt)("inlineCode",{parentName:"p"},"libs/ui")," which is indeed ",(0,a.kt)("inlineCode",{parentName:"p"},"libs/ui -> XXX/ui"),"."),(0,a.kt)("p",null,"However, in my zipped file of ",(0,a.kt)("inlineCode",{parentName:"p"},"RAW"),", the links seemingly have turned to be the real files/dirs, which introduced the problem ",(0,a.kt)("inlineCode",{parentName:"p"},"directory --\x3e non-directory"),"."),(0,a.kt)("p",null,"The wanted effect is copying/moving all the files under conflicted directory to where they should be."),(0,a.kt)("p",null,"However, the git marked those files as ",(0,a.kt)("inlineCode",{parentName:"p"},"TypeChange"),"..."),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://superuser.com/questions/1395407/cp-cannot-overwrite-directory-with-non-directory/1395410"}),"linux - cp: cannot overwrite directory with non-directory - Super User"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/555985/cp-recursively-into-a-directory-that-symlinks-to-dirs-of-same-name-as-in-source"}),"cp recursively into a directory that symlinks to dirs of same name as in source - Unix & Linux Stack Exchange")))),(0,a.kt)("h2",c({},{id:"best-practice-linux-disk-management"}),"BEST-PRACTICE: linux disk management"),(0,a.kt)("h3",c({},{id:"ncdu-disk-space-tui"}),(0,a.kt)("inlineCode",{parentName:"h3"},"ncdu"),", disk space tui"),(0,a.kt)("h3",c({},{id:"baobab-disk-space-gui"}),(0,a.kt)("inlineCode",{parentName:"h3"},"baobab"),", disk space gui"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://askubuntu.com/questions/73160/how-do-i-find-the-amount-of-free-space-on-my-hard-drive"}),"disk usage - How do I find the amount of free space on my hard drive? - Ask Ubuntu"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://formulae.brew.sh/formula/baobab"}),"baobab \u2014 Homebrew Formulae")))),(0,a.kt)("h4",c({},{id:"install-problem"}),"install problem"),(0,a.kt)("p",null,"When installing ",(0,a.kt)("inlineCode",{parentName:"p"},"ncdu"),", error ocurred: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/44678437/no-such-file-or-directory-rb-sysopen-ruby"}),"No such file or directory @ rb_sysopen ruby - Stack Overflow")),(0,a.kt)("p",null,"The reason is that some dependency is missing, we can first install it and then install the target."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"brew install librsvg\nbrew install baobab\n")),(0,a.kt)("h4",c({},{id:"effects"}),"effects"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-hwoto-1642600987157-8df330aac5a1fedd7d6c5f6d46f98256fedfcfa18b3f4f3ba05914fc06e19ac4.png",alt:"picture 7"}))),(0,a.kt)("h2",c({},{id:"best-practice-linux-shells-management"}),"BEST-PRACTICE: linux shells management"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("p",null,"this article is enough and recommended:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.cyberciti.biz/faq/how-to-change-shell-to-bash/"}),"How To Change Shell To Bash in Linux / Unix - nixCraft"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/140286/how-to-find-list-of-available-shells-by-command-line"}),"How to find list of available shells by command-line? - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.cyberciti.biz/tips/how-do-i-find-out-what-shell-im-using.html"}),"How do I find out what shell I am using on Linux/Unix? - nixCraft")))),(0,a.kt)("h3",c({},{id:"list-all-the-shells"}),"list all the shells"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"$ cat /etc/shells # list valid login shells\n/bin/sh\n/bin/bash\n/bin/rbash\n/bin/dash\n/bin/zsh\n/usr/bin/zsh\n")),(0,a.kt)("h3",c({},{id:"background-sh-is-different-with-bash"}),"background: ",(0,a.kt)("inlineCode",{parentName:"h3"},"sh")," is different with ",(0,a.kt)("inlineCode",{parentName:"h3"},"bash")),(0,a.kt)("p",null,"When I write ",(0,a.kt)("inlineCode",{parentName:"p"},"source")," in shell script, and run by ",(0,a.kt)("inlineCode",{parentName:"p"},"sh xx.sh"),", then it failed with ",(0,a.kt)("inlineCode",{parentName:"p"},"no permission"),"."),(0,a.kt)("p",null,"However, when I use ",(0,a.kt)("inlineCode",{parentName:"p"},"bash xx.sh"),", then everything runs well."),(0,a.kt)("p",null,"Thus, the ",(0,a.kt)("inlineCode",{parentName:"p"},"sh")," definitely doesn't equal as ",(0,a.kt)("inlineCode",{parentName:"p"},"bash"),", and it seems that function of ",(0,a.kt)("inlineCode",{parentName:"p"},"sh")," is the subset of ",(0,a.kt)("inlineCode",{parentName:"p"},"bash"),"."),(0,a.kt)("p",null,"If so, why I still need to use ",(0,a.kt)("inlineCode",{parentName:"p"},"sh"),"? Just for short?"),(0,a.kt)("img",{alt:"picture 8",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640152196813-linux-howto-84174e9e7dbb6fcc489b015f68e1c88b23fc19874bfcba40c3171f17cc8051a1.png",width:"480"}),(0,a.kt)("p",null,"ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/48785960/9422455"}),"https://stackoverflow.com/a/48785960/9422455")),(0,a.kt)("h3",c({},{id:"see-whats-the-current-shell"}),"see what's the current Shell"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"[1:42:41]:~$ echo $SHELL\n/usr/bin/zsh\n[1:43:25]:~$ echo $0\n/usr/bin/zsh\n[1:43:29]:~$ ps -p $$\n   PID TTY          TIME CMD\n 29657 pts/2    00:00:00 zsh\n")),(0,a.kt)("h3",c({},{id:"switch-shell"}),"switch shell"),(0,a.kt)("p",null,"You can change your default shell using the chsh (\u201cchange shell\u201d ) command as follows."),(0,a.kt)("p",null,"The syntax is:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# usage\nchsh\nchsh -s {shell-name-here}\nchsh -s {shell-name-here} {user-name-here}\n\n# samples\nchsh -s /bin/bash\nchsh -s /bin/bash $USER\n")),(0,a.kt)("h3",c({},{id:"set-zsh-as-the-default-terminal-need-re-login"}),"set zsh as the default terminal (need re-login)"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"chsh -s $(which zsh)\n")),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://askubuntu.com/questions/131823/how-to-make-zsh-the-default-shell"}),"https://askubuntu.com/questions/131823/how-to-make-zsh-the-default-shell")),(0,a.kt)("h2",c({},{id:"best-practice-linux-terminal-management"}),"BEST-PRACTICE: linux terminal management"),(0,a.kt)("h3",c({},{id:"-the-terminal-cannot-up-down-after-editing"}),"\u2705 the terminal cannot up down after editing"),(0,a.kt)("p",null,"This is a problem confused me for a long time."),(0,a.kt)("p",null,"Today, I finally knows what's the hell at: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/18489216/how-to-scroll-up-and-down-in-sliced-screen-terminal"}),'linux - How to scroll up and down in sliced "screen" terminal - Stack Overflow')),(0,a.kt)("p",null,"Anyway, terminal is hard to learn, I just know ",(0,a.kt)("inlineCode",{parentName:"p"},"control + a")," can help me exit the so-called copy mode."),(0,a.kt)("h3",c({},{id:"todo-bind-option--arrow-to-jump-word-in-zsh-on-ubuntu-vmware-on-macos"}),"TODO: bind ",(0,a.kt)("inlineCode",{parentName:"h3"},"option + arrow")," to jump word in zsh on ubuntu vmware on MacOS"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u2728 ",(0,a.kt)("a",c({parentName:"li"},{href:"https://help.ubuntu.com/stable/ubuntu-help/shell-keyboard-shortcuts.html.en"}),"Useful keyboard shortcuts")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.google.com/search?newwindow=1&sxsrf=AOaemvJocqqP64PM0tOaO5QuVGhGgwR1kw%3A1643272448532&lei=AFnyYY_8H8G4mAWLj7C4Cg&q=zsh%20jump%20word&ved=2ahUKEwiP_MD0wtH1AhVBHKYKHYsHDKcQsKwBKAN6BAg-EAQ&biw=1629&bih=945&dpr=2.2"}),"zsh jump word - Google Search")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/427163/altarrow-moving-between-words-in-zsh-and-iterm2"}),"keyboard shortcuts - ALT+arrow moving between words in zsh and iTerm2 - Super User")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://support.apple.com/en-hk/guide/terminal/trmlshtcts/mac"}),"Keyboard shortcuts in Terminal on Mac - Apple Support (HK)")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/349439/how-to-bind-command-key-in-zsh"}),"key binding - How to bind command key in zsh? - Super User")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://gist.github.com/YumaInaura/27bb1f79881a63bed2fb9635cbaed73b"}),"Zsh \u2014 Mac OS option key for bindkey")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.google.com/search?q=what+key+i%27m+pressing&oq=what+key+i+am&aqs=chrome.1.69i57j0i10j0i22i30l8.6503j0j4&sourceid=chrome&ie=UTF-8"}),"what key i'm pressing - Google Search")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://en.key-test.ru/"}),'"Key-Test" - keyboard test online')),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/58870/ctrl-left-right-arrow-keys-issue"}),"zsh - Ctrl + left/right arrow keys issue - Unix & Linux Stack Exchange")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/12382499/looking-for-altleftarrowkey-solution-in-zsh"}),"shell - Looking for ALT+LeftArrowKey solution in zsh - Stack Overflow")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/94331/how-can-i-delete-a-word-backward-at-the-command-line-bash-and-zsh"}),"keyboard shortcuts - How can I delete a word backward at the command line (bash and zsh)? - Unix & Linux Stack Exchange")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/1017287/how-to-delete-words-in-the-terminal-with-ctrl-backspace-like-in-the-rest-of-ubun"}),"command line - How to delete words in the terminal with Ctrl-Backspace like in the rest of Ubuntu? - Ask Ubuntu")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/162247/why-does-ctrl-left-arrow-not-skip-words"}),"12.04 - Why does ctrl + left arrow not skip words? - Ask Ubuntu"))),(0,a.kt)("h2",c({},{id:"best-practice-linux-commands-management"}),"BEST-PRACTICE: linux commands management"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"be careful to use `","`","` in terminal / shell since it's would be treated as executable commands: ",(0,a.kt)("img",{alt:"picture 9",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-hwoto-1641501462043-6790c46051fa5db1246b560e795c5b1737d5e508faf7a9247b1c52e1ce4abdbc.png"}),(0,a.kt)("br",{parentName:"li"}),"see: ",(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/Luckiers/article/details/103501168"}),"(20 \u6761\u6d88\u606f) shell \u57fa\u7840\u77e5\u8bc6-echo \u53ca\u5355\u5f15\u53f7\u3001\u53cd\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\u8be6\u89e3","_","Luckiers \u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","echo \u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7")))),(0,a.kt)("h3",c({},{id:"how-to-auto-input-in-command"}),"how to auto input in command"),(0,a.kt)("h4",c({},{id:"auto-input-password-for-sudo-commands"}),"auto input password for sudo commands"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"sparkles: Use ",(0,a.kt)("inlineCode",{parentName:"p"},"sudo -S")," to read input from stdin.")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# sample\necho "$USER ALL=(ALL:ALL) NOPASSWD: ALL" | sudo tee -a /etc/sudoers.d/$USER\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/67765/sudo-with-password-in-one-command-line"}),"shell - sudo with password in one command line? - Super User"))),(0,a.kt)("h4",c({},{id:"auto-yes-for-some-command-yes--"}),"auto yes for some command (",(0,a.kt)("inlineCode",{parentName:"h4"},"yes | "),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# usage\nyes | COMMAND\n\n# example\nyes | sh ./install.sh # install oh-my-zsh\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/7642674/how-do-i-script-a-yes-response-for-installing-programs/34176780"}),'linux - How do I script a "yes" response for installing programs? - Stack Overflow'))),(0,a.kt)("h4",c({},{id:"auto-yes-for-apt-installing-packages--y"}),"auto yes for ",(0,a.kt)("inlineCode",{parentName:"h4"},"apt")," installing packages (",(0,a.kt)("inlineCode",{parentName:"h4"},"-y"),")"),(0,a.kt)("p",null,"Just add a ",(0,a.kt)("inlineCode",{parentName:"p"},"-y")," in the command."),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo apt install -y htop\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/448358/apt-get-install-with-assume-yes-is-still-prompting-me-to-install-dependencies"}),"apt-get install with --assume-yes is still prompting me to install dependencies - Ask Ubuntu"))),(0,a.kt)("h3",c({},{id:"how-to-search-commands-by-prefix-history-search-backwardforward"}),"how to search commands by prefix (",(0,a.kt)("inlineCode",{parentName:"h3"},"history-search-backward/forward"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-yaml"}),'# ~/.inputrc\n\n# Respect default shortcuts.\n$include /etc/inputrc\n\n# choice 1: recommended\n"\\e[A": history-search-backward     # arrow up      --\x3e backward\n"\\e[B": history-search-forward      # arrow down    --\x3e forward\n\n# choice 2: if prefer to the page up/down\n"\\e[5~": history-search-backward    # page up       --\x3e backward\n"\\e[6~": history-search-forward     # page down     --\x3e forward\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},";warning: you should ",(0,a.kt)("strong",{parentName:"p"},"Close and re-open all terminals for the new behavior to become effective."))),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://askubuntu.com/a/59855"}),"https://askubuntu.com/a/59855"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/231605/search-for-a-previous-command-with-the-prefix-i-just-typed"}),"bash - Search for a previous command with the prefix I just typed - Unix & Linux Stack Exchange")))),(0,a.kt)("h3",c({},{id:"how-to-repeat-command"}),"how to repeat command"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"#  only show the last result\nwatch -n X command # X: X seconds; command may need quotes\n\n# show all the result history\nwhile true; do command; sleep X; done; # command may need quotes\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/430382/repeat-a-command-every-x-interval-of-time-in-terminal"}),"bash - Repeat a command every x interval of time in terminal? - Ask Ubuntu"))),(0,a.kt)("h3",c({},{id:"how-to-use-variable-as-multi-args"}),"how to use variable as multi args"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# when there's only one arg as a variable, it's ok to directly use it, and the following two methods are equal\nPACKAGE_TO_INSTALL=\"vim\"\nPACKAGE_TO_INSTALL=vim\nsudo apt install -y $PACKAGE_TO_INSTALL\n\n# However, if there are multi args as a variable, we need to use [`echo`](https://stackoverflow.com/a/30061925/9422455) to escape the 'hidden quotes' if I didn't understand wrongly. And also, the quotes can't be omitted, or use slashes.\nPACKAGES_TO_INSTALL=\"vim git htop zsh terminator\"\nPACKAGES_TO_INSTALL=vim\\ git\\ htop\\ zsh\\ terminator\nsudo apt install -y $(echo $INSTALLED_PACKAGES)\n\n# Since the `echo` is not safe, another way is to use [`xargs`](https://stackoverflow.com/a/51242645/9422455), which seems more professional\nPACKAGES_TO_INSTALL=\"vim git htop zsh terminator\"\necho $PACKAGE_TO_INSTALL | xargs sudo apt install -y\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/9733338/shell-script-remove-first-and-last-quote-from-a-variable"}),'string - Shell script - remove first and last quote (") from a variable - Stack Overflow'))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/30061682/bash-send-string-argument-as-multiple-arguments"}),"bash send string argument as multiple arguments - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/637496/escaping-quotes-inside-a-quoted-string"}),"shell - Escaping quotes inside a quoted string - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"http://mywiki.wooledge.org/BashFAQ/050"}),"BashFAQ/050 - Greg's Wiki"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/5819423/bash-variables-with-spaces"}),"Bash variables with spaces - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/327784/how-to-assign-a-string-with-multiple-spaces-to-a-variable-in-bash"}),"shell script - How to assign a string with multiple spaces to a variable in bash? - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/7454526/variable-containing-multiple-args-with-quotes-in-bash"}),"Variable containing multiple args with quotes in Bash - Stack Overflow")))),(0,a.kt)("h3",c({},{id:"how-to-set-an-alias"}),"how to set an alias"),(0,a.kt)("h4",c({},{id:"resolution-1-in-terminal"}),"resolution 1: in terminal"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f this solution only works upon the next command, which can work immediately when executed in shell script file")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# don't add any other characters after alias in order to catch bug\nalias sed=gsed\n")),(0,a.kt)("h4",c({},{id:"resolution-2-write-into-bash_aliases"}),"resolution 2: write into ",(0,a.kt)("inlineCode",{parentName:"h4"},"~/.bash_aliases")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# ~/.bash_aliases\nalias update='sudo yum update'\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f this solution needs to ensure the ",(0,a.kt)("inlineCode",{parentName:"p"},".bash_aliases")," enabled in ",(0,a.kt)("inlineCode",{parentName:"p"},".bashrc"))),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-howto-1643117544205-afe713493b26becfe498fda953bdc5c1d098accaf07b4e4b6b5e117b4d3671a1.png",alt:"picture 47"}))),(0,a.kt)("h4",c({},{id:"-resolution-3-use-bash_aliases-with-zsh"}),"\u2728 resolution 3: use ",(0,a.kt)("inlineCode",{parentName:"h4"},".bash_aliases")," with ",(0,a.kt)("inlineCode",{parentName:"h4"},"zsh")),(0,a.kt)("p",null,"Just add one line in ",(0,a.kt)("inlineCode",{parentName:"p"},"~/.zshrc"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# ~/.zshrc\nsource ~/.bash_aliases\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.cyberciti.biz/faq/create-permanent-bash-alias-linux-unix/"}),"How to create a permanent Bash alias on Linux/Unix - nixCraft"))),(0,a.kt)("h4",c({},{id:"unalias"}),"unalias"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# sample\nunalias logout\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.tecmint.com/create-alias-in-linux/"}),"How to Create and Use Alias Command in Linux"))),(0,a.kt)("h3",c({},{id:"how-to-compare-between-outputs-from-two-commands"}),"how to compare between outputs from two commands"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"diff <(ls old) <(ls new)\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/229447/how-do-i-diff-the-output-of-two-commands"}),"How do I diff the output of two commands? - Ask Ubuntu"))),(0,a.kt)("h2",c({},{id:"best-practice-linux-accounts-management"}),"BEST-PRACTICE: linux accounts management"),(0,a.kt)("h3",c({},{id:"init-user-with-root-config"}),"init user with root config"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u811a\u672c\uff1a\n\nUSER_=chuanmx\nHOME_=/home/$USER_\n\n# add user with password and home directory\nsudo useradd -m $USER_\necho "$USER_\\n$USER_" | sudo -S -k passwd $USER_\nsudo usermod -a -G dev $USER_\n\n# enable ssh\nsudo mkdir $HOME_/.ssh\n\n# enable zsh\nsudo cp -rf ~/.oh-my-zsh $HOME_/\nsudo cp  ~/.zshrc $HOME_/\nsudo chsh --shell /bin/zsh $USER_\n\n# enable user grant\nsudo chown -R $USER_:$USER_ $HOME_\n\n# avoid typing password when using sudo command\necho "$USER_  ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/$USER_\n')),(0,a.kt)("h3",c({},{id:"how-to-create-user"}),"how to create user"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# create user with a home directory\nsudo useradd -m $USER_\nls -la /home/$USER_\n\n\n# create user [under root]\nsudo useradd $USER_\n\n# create passwd [under root]\nsudo passwd $USER_\n")),(0,a.kt)("h3",c({},{id:"how-to-log-out"}),"how to log out"),(0,a.kt)("h4",c({},{id:"resolution-1-1110-and-above"}),"resolution 1 (11.10 and above)"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"gnome-session-quit\n")),(0,a.kt)("h4",c({},{id:"resolution-2"}),"resolution 2"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo pkill -u $USER\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/15795/how-can-you-log-out-via-the-terminal"}),"command line - How can you log out via the terminal? - Ask Ubuntu"))),(0,a.kt)("h3",c({},{id:"set-a-shorter-password-for-ubuntu"}),"set a shorter password for ubuntu"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo passwd <USER>\n")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-hwoto-1642479990429-35424184b62d147dc0744f2bcb9bca97f27b9efc9df47373a458c76442b30003.png",alt:"picture 7"}))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"ref:"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/180402/how-to-set-a-short-password-on-ubuntu"}),"https://askubuntu.com/questions/180402/how-to-set-a-short-password-on-ubuntu"))))),(0,a.kt)("h2",c({},{id:"best-practice-linux-net-management"}),"BEST-PRACTICE: linux net management"),(0,a.kt)("h3",c({},{id:"how-to-know-my-public-ip-address"}),"how to know my public ip address"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"resolution 1:")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# https://apple.stackexchange.com/questions/20547/how-do-i-find-my-ip-address-from-the-command-line\ncurl ifconfig.me\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"resolution 2:")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# https://www.digitalocean.com/community/tutorials/how-to-configure-remote-access-for-mongodb-on-ubuntu-20-04#:~:text=curl%20%2D4%20icanhazip.com\ncurl -4 icanhazip.com\n")),(0,a.kt)("h3",c({},{id:"how-to-monitor-network-traffic"}),"how to monitor network traffic"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo apt install nethogs\n\nsudo nethogs\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/368002/network-usage-top-htop-on-linux"}),"networking - Network usage top/htop on Linux - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"fixme-check-proxy"}),"FIXME: check proxy"),(0,a.kt)("p",null,"In ",(0,a.kt)("a",c({parentName:"p"},{href:"https://releases.ubuntu.com/18.04/"}),"Ubuntu 18.04.6 LTS (Bionic Beaver)"),", it introduced two methods to see what/which proxies are we using:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"## approach 1\necho $http_proxy\n\n## approach 2\nenv | grep -i proxy\n")),(0,a.kt)("p",null,"However, when I configured the proxies in ",(0,a.kt)("inlineCode",{parentName:"p"},"Manual Proxy"),", I am surprised to find nothing using either commands in the above, while the ping to ",(0,a.kt)("inlineCode",{parentName:"p"},"google.com")," does work so that I use it as the measure then."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"ping google.com\n")),(0,a.kt)("p",null,"And another wield thing is before the system was restarted, the ",(0,a.kt)("inlineCode",{parentName:"p"},"env | grep -i proxy")," even shows duplicated results and the change in ",(0,a.kt)("inlineCode",{parentName:"p"},"Manual Proxy")," doesn't work, which is quite confusing."),(0,a.kt)("p",null,"Maybe we can do more tests later."),(0,a.kt)("h2",c({},{id:"best-practice-linux-datetime-management"}),"BEST-PRACTICE: linux date/time management"),(0,a.kt)("h3",c({},{id:"how-to-format-date-in-terminal"}),"how to format date in terminal"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"the space in formatter should be using ",(0,a.kt)("inlineCode",{parentName:"li"},"\\ ")," or anything other ways"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"date"),"\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u4e0d\u662f\u53d8\u91cf\uff0c\u53d8\u91cf\u91c7\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"$XX"),"\u6216\u8005",(0,a.kt)("inlineCode",{parentName:"li"},"${XX}"),"\u7684\u5f62\u5f0f\uff0c\u4f46\u662f\u51fd\u6570\u8981\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"$(XX)"),"\uff0c\u5e76\u4e14\u4e0d\u80fd\u5728\u5b57\u7b26\u4e32\u4e2d"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# directly output date\ndate +%Y-%m-%d\\ %H:%M:%S\n\n# output date into variable\nT='the date is '$(date +%Y-%m-%d\\ %H:%M:%S)\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/549415/how-to-concatenate-a-date-variable-and-string-variable-in-unix"}),"shell script - How to concatenate a date variable and string variable in unix? - Unix & Linux Stack Exchange"))),(0,a.kt)("h3",c({},{id:"how-to-change-timezone-and-time"}),"how to change timezone (and time)"),(0,a.kt)("h4",c({},{id:"resolution-1-conclusion-directly-export"}),"resolution 1 (conclusion): directly export"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo \"export TZ='Asia/Shanghai'\\n\" >> ~/.profile\n\nsudo pkill -u $USER --force\n")),(0,a.kt)("h4",c({},{id:"resolution-2-detail-choose-following-directions"}),"resolution 2 (detail): choose following directions"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# check current time, as well as timezone\ndate -R\n\n# if the ending is `+0800`, then it's ok, otherwise you need to change (e.g. `-0800`)\n\n# change timezone (just choose as directed)\ntzselect\n")),(0,a.kt)("p",null,"And finally you will get a command suggestion to write into profile file, that is ",(0,a.kt)("a",c({parentName:"p"},{href:"#solution-1-directly-export"}),"#solution-1-directly-export")),(0,a.kt)("h2",c({},{id:"best-practice-linux-system-management"}),"BEST-PRACTICE: linux system management"),(0,a.kt)("h3",c({},{id:"-a-stop-job-is-running-for-session-c2-of-user--1min-30s"}),"\u2705 ",(0,a.kt)("inlineCode",{parentName:"h3"},"A stop job is running for Session c2 of user ... (1min 30s)")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"resolution")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"restart system"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"journalctl -p5")),(0,a.kt)("li",{parentName:"ol"},"search ",(0,a.kt)("inlineCode",{parentName:"li"},"timed out. Killing")),(0,a.kt)("li",{parentName:"ol"},"analyze the target process of ",(0,a.kt)("inlineCode",{parentName:"li"},"Killing process 1234 (jack_thru) with signal SIGKILL."))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \u6ce8\u610f\uff0c\u4e5f\u6709\u5176\u4ed6\u51e0\u79cd\u89e3\u51b3\u65b9\u6848\uff0c\u6bd4\u5982\u88c5",(0,a.kt)("inlineCode",{parentName:"p"},"watchdog"),"\u548c\u7f29\u77ed",(0,a.kt)("inlineCode",{parentName:"p"},"timeout"),"\u65f6\u95f4\u7684\uff0c\u8fd9\u4e9b\u90fd\u4fb5\u5165\u6027\u592a\u9ad8\u4e86\uff0c\u5e76\u4e14\u4e0d\u662f\u6cbb\u672c\u4e4b\u7b56\uff0c\u6240\u4ee5\u8fd8\u662f\u5f97\u4ece log \u6765\u5206\u6790\u539f\u56e0\u627e\u5bf9\u5e94\u653f\u7b56\u3002\u5c24\u5176\u662f\u88c5",(0,a.kt)("inlineCode",{parentName:"p"},"watchdog"),"\u7684\u65b9\u6848\uff0c\u6211\u7b80\u5355\u770b\u4e86\u4e00\u4e0b\uff0c\u5927\u81f4\u662f\u6bcf\u5206\u949f\u68c0\u67e5\u4e00\u4e0b\u7cfb\u7edf\u7684\u60c5\u51b5\uff0c\u4f46\u95ee\u9898\u662f\uff0c\u4e3a\u4ec0\u4e48\u5f88\u4e45\u4ee5\u524d\u7cfb\u7edf\u5c31\u6ca1\u6709\u8fd9\u79cd\u95ee\u9898\u5462\uff1f\u90a3\u4e2a\u65f6\u5019\u4e5f\u6ca1\u88c5 ",(0,a.kt)("inlineCode",{parentName:"p"},"watchdog")," \u554a\uff0c\u6240\u4ee5\u5bf9\u4e8e\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4e0d\u80fd\u5077\u61d2!")),(0,a.kt)("p",null,"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"result")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-bugfix-1643550947015-7ed703f287400ec8593914f35740044149d43c47e7b97df89135a6ffff3681a5.png",alt:"picture 9"}))),(0,a.kt)("p",null,"It tells me the last one is because of ",(0,a.kt)("inlineCode",{parentName:"p"},"adb"),", since I do open the ",(0,a.kt)("inlineCode",{parentName:"p"},"adb")," and not responding then."),(0,a.kt)("p",null,"And I also checked the last few times when ",(0,a.kt)("inlineCode",{parentName:"p"},"timed out"),", but to find they are different."),(0,a.kt)("p",null,"So I confirmed the timeout error is temporary, since now I am not going to run any ",(0,a.kt)("inlineCode",{parentName:"p"},"adb"),"."),(0,a.kt)("p",null,"I tried to restart again, and the system does well which identified what I think."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/273876/a-stop-job-is-running-for-session-c2-of-user/297318"}),"systemd - A stop job is running for Session c2 of user - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://qastack.cn/unix/273876/a-stop-job-is-running-for-session-c2-of-user"}),"\u7528\u6237\u7684\u4f1a\u8bdd c2 \u6b63\u5728\u8fd0\u884c\u505c\u6b62\u4f5c\u4e1a"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://bbs.archlinux.org/viewtopic.php?id=264233"}),"systemd stop job for Session 2 on shutdown / Newbie Corner / Arch Linux Forums")))),(0,a.kt)("h2",c({},{id:"-----------------------------------"}),"-----------------------------------"),(0,a.kt)("h2",c({},{id:"best-practice-linux-common-commands"}),"BEST-PRACTICE: linux common commands"),(0,a.kt)("h3",c({},{id:"commandtar"}),"command:tar"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# x: extract, f: file\ntar -xf FILE\n\n# v: verbose, logging output, careful when extracting big files, e.g. AOSP\ntar -vxf FILE\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://linuxize.com/post/how-to-extract-unzip-tar-gz-file/"}),"How to Extract (Unzip) Tar Gz File | Linuxize"))),(0,a.kt)("h3",c({},{id:"commandperl"}),"command:perl"),(0,a.kt)("h4",c({},{id:"how-to-use-perl-to-replace-multi-lines"}),"how to use perl to replace multi-lines"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"perl -0pe 's/search/replace/gms' file\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-0"),": without the ",(0,a.kt)("inlineCode",{parentName:"li"},"-0")," argument, Perl processes data line-by-line, which causes multiline searches to fail."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-p"),": loop over all the lines of a file"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-e"),": execute the following arg as a perl script"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/s"),": changes the behavior of the dot metacharacter ",(0,a.kt)("inlineCode",{parentName:"li"},"."),' so that it matches any character at all. Normally it matches anything except a newline "\\n", and so treats the string as a single line even if it contains newlines.'),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/m"),": modifies the caret ",(0,a.kt)("inlineCode",{parentName:"li"},"^")," and dollar ",(0,a.kt)("inlineCode",{parentName:"li"},"$")," metacharacters so that they match at newlines within the string, treating it as a multi-line string. Normally they will match only at the beginning and end of the string."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/g"),": global replace(not sure)")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"explaining ",(0,a.kt)("inlineCode",{parentName:"p"},"-0"),": ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/1030787/multiline-search-replace-with-perl"}),"Multiline search replace with Perl - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"explaining ",(0,a.kt)("inlineCode",{parentName:"p"},"/m | /s"),": ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/22962588/understanding-perl-regular-expression-modifers-m-and-s"}),"regex - Understanding Perl regular expression modifers /m and /s - Stack Overflow")))),(0,a.kt)("p",null,"special thanks to: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/a/378991"}),"Not sure if you know, but sed has a great feature where you do not need to use a / as the separator.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.mankier.com/1/perl#Description"}),"perl man page - perl-interpreter - General Commands"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/555948/replace-multi-line-string-with-multi-line-string-without-escaping-by-hand"}),"perl - Replace multi line string with multi line string without escaping by hand - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.runoob.com/perl/perl-regular-expressions.html"}),"Perl \u6b63\u5219\u8868\u8fbe\u5f0f | \u83dc\u9e1f\u6559\u7a0b"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/378990/find-and-replace-with-sed-with-slash-in-find-and-replace-string"}),"quoting - find and replace with sed with slash in find and replace string - Unix & Linux Stack Exchange")))),(0,a.kt)("h3",c({},{id:"commandfind"}),"command:find"),(0,a.kt)("h4",c({},{id:"how-to-ignore-case"}),"how to ignore case"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"find -iname\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/32155/find-command-how-to-ignore-case"}),"Find command: how to ignore case? - Unix & Linux Stack Exchange"))),(0,a.kt)("h4",c({},{id:"how-to-specify-search-type"}),"how to specify search type"),(0,a.kt)("p",null,"Use ",(0,a.kt)("inlineCode",{parentName:"p"},"-type")," to specify the search type (default is ",(0,a.kt)("inlineCode",{parentName:"p"},"c")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"file"),"), here I used ",(0,a.kt)("inlineCode",{parentName:"p"},"d")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"directory"),", ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://man7.org/linux/man-pages/man1/find.1.html#:~:text=true%20%20Always%20true.-,%2Dtype%20c,-File%20is%20of"}),"find type")),(0,a.kt)("p",null,"And then, when I search directory, it would search all the sub-folders with '/' concatenated, so I need to specify ",(0,a.kt)("inlineCode",{parentName:"p"},"-d 1")," in order to only search the top current directory."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"\u279c  Application Support find . -name '*electron*' -type d -d 1\n./electron-react-boilerplate\n./electron-react-typescript\n\u279c  Application Support rm -rf electron-react-boilerplate\n\u279c  Application Support rm -rf electron-react-typescript\n")),(0,a.kt)("h4",c({},{id:"how-to-exclude-dir"}),"how to exclude dir"),(0,a.kt)("p",null,"TODO: in fact, I really can't catch why ",(0,a.kt)("inlineCode",{parentName:"p"},"-prune")," is combined with ",(0,a.kt)("inlineCode",{parentName:"p"},"-o")," (or)"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. use `-not -path`\nfind -name \"*.js` -not -path \"./directory/*\"\n\n# 2. use `-path xx -prune`\nfind . -path ./misc -prune -o -name '*.txt' -print\n\n# 3. use multiple prune (need to add escaped bracket)\nfind . -type d \\( -path ./dir1 -o -path ./dir2 -o -path ./dir3 \\) -prune -o -name '*.txt' -print\n\n# 4. use regex prune (-name)\nfind . -type d -name node_modules -prune -o -name '*.json' -print\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/4210042/how-to-exclude-a-directory-in-find-command"}),"linux - How to exclude a directory in find . command - Stack Overflow"))),(0,a.kt)("h4",c({},{id:"todo-how-to-find-file-with-time-used"}),"TODO: how to find file with time used"),(0,a.kt)("h4",c({},{id:"tip-find-efficiency-comparison"}),"tip: find efficiency comparison"),(0,a.kt)("p",null,"Use a specified directory is the best and fastest;"),(0,a.kt)("p",null,"If not, limit the ",(0,a.kt)("inlineCode",{parentName:"p"},"maxdepth")," to a number small enough is also ok;"),(0,a.kt)("p",null,"And then consider the directory prune."),(0,a.kt)("p",null,"Finally bared run is the worst."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"\u279c  hjxh_express_match git:(main) time find .imgs  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind .imgs -name   0.00s user 0.00s system 52% cpu 0.005 total\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 3  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 3 -name   0.01s user 0.05s system 70% cpu 0.079 total\n\n---\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 4  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 4 -name   0.06s user 0.69s system 87% cpu 0.854 total\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 5  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 5 -name   0.14s user 1.86s system 93% cpu 2.137 total\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 6  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 6 -name   0.26s user 3.21s system 94% cpu 3.683 total\n\n---\n\n\u279c  hjxh_express_match git:(main) time find .  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -name   0.44s user 5.85s system 51% cpu 12.172 total\n\n\u279c  hjxh_express_match git:(main) time find . -path './.imgs/*'  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -path './.imgs/*' -name   0.46s user 5.93s system 51% cpu 12.299 total\n\n\u279c  hjxh_express_match git:(main) time find . -path './.imgs/*'  ! -path \"**/node_modules/*\"  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -path './.imgs/*' ! -path \"**/node_modules/*\" -name   0.46s user 5.91s system 51% cpu 12.268 total\n\n")),(0,a.kt)("h3",c({},{id:"commandgrep"}),"command:grep"),(0,a.kt)("h4",c({},{id:"how-to-exclude-dir---exclude-dirdir"}),"how to exclude dir (",(0,a.kt)("inlineCode",{parentName:"h4"},"--exclude-dir=dir"),")"),(0,a.kt)("p",null,"Recent versions of GNU Grep (>= 2.5.2) provide:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"--exclude-dir=dir")),(0,a.kt)("p",null,"which excludes directories matching the pattern dir from recursive directory searches."),(0,a.kt)("p",null,"So you can do:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"grep -R --exclude-dir=node_modules 'some pattern' /path/to/search\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/6565471/how-can-i-exclude-directories-from-grep-r"}),"linux - How can I exclude directories from grep -R? - Stack Overflow"))),(0,a.kt)("h4",c({},{id:"how-to-limit-depth--maxdepth"}),"how to limit depth (",(0,a.kt)("inlineCode",{parentName:"h4"},"-maxdepth"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),' find . -maxdepth 4 -type f -exec grep "11.0.0_r1" {}  \\;\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/111722/how-to-do-max-depth-search-in-ack-and-grep"}),"How to do max-depth search in ack and grep? - Unix & Linux Stack Exchange"))),(0,a.kt)("h4",c({},{id:"tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output"}),"tip: grep by lines context is MUCH FASTER than grep by words context, and even better for output"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u279c  erb git:(main) \u2717 time (cat release/build/mac/\u7687\u5bb6\u5c0f\u864e\u5feb\u9012\u5206\u6790\u7cfb\u7edf.app/Contents/Resources/app/dist/main/main.js | tr ";" "\\n" | grep --context=3 \'fake-database\')\n# var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}\n# Object.defineProperty(t,"__esModule",{value:!0}),t.isDbFinished=t.initDbUpdateResult=t.initDbInsertResult=t.DB_UPDATE_DECLINED=t.DB_UPDATED=t.DB_INSERT_DUPLICATED=t.DB_INSERT_SUCCESS=t.DB_UNKNOWN=t.DB_TIMEOUT=t.DB_TABLE_NOT_EXISTED=t.prisma=void 0\n# const i=r(72298),a=`file:${n(r(71017)).default.join(i.app.getPath("userData"),"express_match.sqlite.db")}?connection_limit=1`\n# process.env.DATABASE_URL=a,console.log({__dirname,rawDBPath:"file:dev.db?connection_limit=1",newDBPath:a}),t.prisma={erp:{create:()=>{console.log("fake-database: creating one")},findMany:()=>{console.log("fake-database: finding many")},upsert:()=>{console.log("fake-database: upserting one")}}},t.DB_TABLE_NOT_EXISTED="DB_TABLE_NOT_EXISTED",t.DB_TIMEOUT="DB_TIMEOUT",t.DB_UNKNOWN="DB_UNKNOWN",t.DB_INSERT_SUCCESS="DB_INSERT_SUCCESS",t.DB_INSERT_DUPLICATED="DB_INSERT_DUPLICATED",t.DB_UPDATED="DB_UPDATED",t.DB_UPDATE_DECLINED="DB_UPDATE_DECLINED"\n# t.initDbInsertResult=()=>({nTotal:0,nInserted:0,nDuplicated:0,nTimeout:0,nUnknown:0,nTableNotExist:0})\n# t.initDbUpdateResult=()=>({nTotal:0,nUpdated:0,nDropped:0,nTimeout:0,nUnknown:0,nTableNotExist:0})\n# t.isDbFinished=e=>{let t=0\n( cat  | tr ";" "\\n" | grep --color=auto  --context=3 \'fake-database\'; )  0.20s user 0.01s system 121% cpu 0.169 total\n')),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u279c  erb git:(main) \u2717 time ( grep -iEo \'.{255}fake-database.{255}\' release/build/mac/\u7687\u5bb6\u5c0f\u864e\u5feb\u9012\u5206\u6790\u7cfb\u7edf.app/Contents/Resources/app/dist/main/main.js | tr \';\' \'\\n\' )\n# =`file:${n(r(71017)).default.join(i.app.getPath("userData"),"express_match.sqlite.db")}?connection_limit=1`\n# process.env.DATABASE_URL=a,console.log({__dirname,rawDBPath:"file:dev.db?connection_limit=1",newDBPath:a}),t.prisma={erp:{create:()=>{console.log("fake-database: creating one")},findMany:()=>{console.log("fake-database: finding many")},upsert:()=>{console.log("fake-database: upserting one")}}},t.DB_TABLE_NOT_EXISTED="DB_TABLE_NOT_EXISTED",t.DB_TIMEOUT="DB_TIMEOUT",t.DB_UNKNOWN="DB_UNKNOWN",t.DB_INSERT_SUCCESS="D\n( grep --color=auto --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,.tox} -iEo  t)  3.27s user 0.01s system 99% cpu 3.279 total\n\n')),(0,a.kt)("h4",c({},{id:"tip-grep-by-negative-captured-group-needs-to-use-ggrep"}),"tip: grep by negative captured group needs to use ",(0,a.kt)("inlineCode",{parentName:"h4"},"ggrep")),(0,a.kt)("p",null,"Examples Given the string foobarbarfoo:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'bar(?=bar)     # finds the 1st bar ("bar" which has "bar" after it)\nbar(?!bar)     # finds the 2nd bar ("bar" which does not have "bar" after it)\n(?<=foo)bar    # finds the 1st bar ("bar" which has "foo" before it)\n(?<!foo)bar    # finds the 2nd bar ("bar" which does not have "foo" before it)\n')),(0,a.kt)("p",null,"You can also combine them:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# finds the 1st bar ("bar" with "foo" before it and "bar" after it)\n(?<=foo)bar(?=bar)\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/2973436/regex-lookahead-lookbehind-and-atomic-groups"}),"lookaround - Regex lookahead, lookbehind and atomic groups - Stack Overflow"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"grep -Pio '(?<=heads\\/)(.*?)(?=\\n)' text.txt # P option instead of E\n")),(0,a.kt)("p",null,"ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/45534127/9422455"}),"https://stackoverflow.com/a/45534127/9422455")),(0,a.kt)("h3",c({},{id:"commandtree"}),"command:tree"),(0,a.kt)("h4",c({},{id:"how-to-display-chinese--n"}),"how to display chinese (",(0,a.kt)("inlineCode",{parentName:"h4"},"-N"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"tree -N\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/cxrsdn/article/details/100006348"}),"(23 \u6761\u6d88\u606f) linux \u4e0b tree \u547d\u4ee4\u4e2d\u6587\u5b57\u7b26\u4e71\u7801\u89e3\u51b3\u65b9\u6848","_","cxrsdn \u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","linux tree \u4e2d\u6587"))),(0,a.kt)("h4",c({},{id:"how-to-exclude-dir-i"}),"how to exclude dir(",(0,a.kt)("inlineCode",{parentName:"h4"},"-I"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# use `|` to split choices\n\n# exclude\ntree -I \"XXX|YYY\"   # maybe it means 'ignore'\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/61074/tree-command-for-multiple-includes-and-excludes"}),"tree command for multiple includes and excludes - Unix & Linux Stack Exchange"))),(0,a.kt)("h3",c({},{id:"commandhead"}),"command:head"),(0,a.kt)("h4",c({},{id:"head-basic-usage"}),"head basic usage"),(0,a.kt)("p",null,"head \u8fd9\u4e2a\u547d\u4ee4\u884c\u5176\u5b9e\u6ca1\u6709\u4ec0\u4e48\u8981\u8bb2\u7684\uff0c\u7528\u6cd5\u975e\u5e38\u7b80\u5355\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# output the first 5 lines (default)\nhead FILE\n\n# output the first N lines (replace "N")\nhead -n "N" FILES\n')),(0,a.kt)("h4",c({},{id:"how-to-exclude-the-last-k-rows"}),"how to exclude the last k rows"),(0,a.kt)("p",null,"\u4f46\u662f\u4eca\u5929 2022-01-26 \u78b0\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u8981\u83b7\u53d6\u524d n-1 \u884c\uff0c\u7136\u540e\u8bd5\u4e86 stackoverflow \u4e0a\u7684\u65b9\u6848\u597d\u50cf\u90fd\u4e0d\u5bf9\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"head -n -1 FILE\n")),(0,a.kt)("p",null,"\u540e\u6765\u624d\u77e5\u9053\uff0c\u662f\u56e0\u4e3a mac \u7684\u539f\u56e0\uff0c\u8981\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"ghead"),"\u624d\u884c\u2026\u2026"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"brew install coreutils\nghead -n -4 main.m\n")),(0,a.kt)("p",null,"\u800c ",(0,a.kt)("inlineCode",{parentName:"p"},"ghead")," \u662f\u5728 ",(0,a.kt)("inlineCode",{parentName:"p"},"coreutils")," \u91cc\u9762\uff0c\u8fd9\u4e2a\u540d\u5b57\u4e00\u770b\u6211\u5c31\u6709\uff0c\u6240\u4ee5\u4e5f\u4e0d\u7528\u88c5\u4e86\u3002"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/16206507/head-command-to-skip-last-few-lines-of-file-on-mac-osx"}),"shell - head command to skip last few lines of file on MAC OSX - Stack Overflow"))),(0,a.kt)("h4",c({},{id:"discuss-use-head-or-sed"}),"discuss: use ",(0,a.kt)("inlineCode",{parentName:"h4"},"head")," or ",(0,a.kt)("inlineCode",{parentName:"h4"},"sed")),(0,a.kt)("p",null,"\u4eca\u5929\u4e4b\u6240\u4ee5\u7528\u5230 head \u5176\u5b9e\u662f\u56e0\u4e3a\u6211\u60f3\u5bf9\u4e00\u4e2a\u6d41\u505a sed \u5904\u7406\uff0c\u4f46\u7565\u53bb\u6700\u540e\u4e00\u884c\u3002"),(0,a.kt)("p",null,"\u6211\u4e00\u5f00\u59cb\u60f3\u7528 sed \u91cc\u7684\u8303\u56f4\u6807\u8bc6\uff08\u5730\u5740\uff09\uff0c\u4f46\u4e00\u76f4\u6ca1\u8bd5\u51fa\u6765\u3002"),(0,a.kt)("p",null,"\u540e\u6765\u6211\u628a\u5730\u5740\u6807\u8bc6\u6362\u6210\u6700\u7b80\u5355\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"1,4s/find/replace/"),"\u4e4b\u540e\u624d\u610f\u8bc6\u5230\uff0c\u6211\u7684\u601d\u8def\u662f\u4e0d\u5bf9\u7684\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"1,4"),"\u662f\u4e00\u4e2a\u786e\u5b9e\u88ab\u5904\u7406\u7684\u8303\u56f4\u9009\u62e9\uff0c\u4f46\u7ed3\u679c\u5c31\u662f\uff0cN \u884c\u4e2d\uff0c\u524d\u56db\u884c\u90fd\u88ab sed \u66ff\u6362\u4e86\uff0c\u4f46\u662f\u540e\u9762\u7684\u884c\u5c3d\u7ba1\u6ca1\u66ff\u6362\u4f9d\u65e7\u4f1a\u6253\u5370\u51fa\u6765\uff0c\u800c\u8fd9\u6b63\u662f sed \u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u5b83\u662f\u4e00\u4e2a\u6d41\u8f6c\u6362\u5668\u3002"),(0,a.kt)("p",null,"\u90a3\u5982\u679c\u7eaf\u7cb9\u57fa\u4e8e sed\uff0c\u8fdb\u884c\u8f6c\u6362\uff0c\u5e76\u4e14\u53bb\u6389\u6700\u540e\u4e00\u884c\uff0c\u5c31\u8981\u7528\u5230",(0,a.kt)("inlineCode",{parentName:"p"},"-o"),"\u7ed3\u5408\u597d\u50cf\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"/p"),"\u7684 identifier\uff0c\u5177\u4f53\u6211\u4e5f\u8bb0\u4e0d\u5927\u6e05\u4e86\u3002\u610f\u601d\u5c31\u662f\u8f93\u51fa\u6240\u6709\u88ab\u5339\u914d\u7684\u884c\uff0c\u4f46\u5982\u679c\u8fd9\u6837\u7684\u8bdd\u88ab\u5339\u914d\u7684\u884c\u5c31\u4f1a\u8f93\u51fa\u4e24\u904d\u4e86\uff08\u4e24\u904d\u4e0d\u5fc5\u76f8\u540c\uff08NOT-SURE\uff09\uff0c\u4e00\u4e2a\u662f\u8f6c\u6362\u524d\uff0c\u4e00\u4e2a\u662f\u8f6c\u6362\u540e\uff09\uff0c\u6240\u4ee5\u53e6\u4e00\u4e2a\u6807\u8bc6\u7b26\u5c31\u662f\u963b\u6b62\u539f\u5185\u5bb9\u7684\u8f93\u51fa\uff0c\u8fd9\u6837\u5c31\u53ea\u8f93\u51fa\u5339\u914d\u7684\u884c\u7684\u5904\u7406\u7ed3\u679c\u3002"),(0,a.kt)("p",null,"\u6240\u4ee5\uff0c\u8fd9\u4e2a\u601d\u8def\u5176\u5b9e\u6709\u95ee\u9898\uff0c\u5b83\u53ef\u4ee5\u5bf9\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5bf9\uff0c\u5b83\u5982\u679c\u4fdd\u8bc1\u5339\u914d n-1 \u884c\uff0c\u5219\u5bf9\uff1b\u5426\u5219\u5c31\u4e0d\u6ee1\u8db3\u9700\u6c42\u4e86\uff0c\u6211\u4eec\u7684\u9700\u6c42\u662f\u5904\u7406\u524d n-1 \u884c\uff0c\u5e76\u4e14\u4e0d\u7ba1\u5339\u914d\u4e0d\u5339\u914d\uff0c\u90fd\u8981\u8f93\u51fa\uff0c\u5c3d\u7ba1\u5b9e\u9645\u4e0a\u662f\u90fd\u5339\u914d\u7684\u3002"),(0,a.kt)("p",null,"\u603b\u4e4b\uff0c\u7406\u89e3\u5230\u8fd9\u5c42\u540e\uff0c\u65e2\u53ef\u4ee5\u7528\u7eaf sed \u7684\u65b9\u6848\uff0c\u4e5f\u53ef\u4ee5\u7528 head+sed \u7684\u65b9\u6848\uff0c\u4e00\u4e2a\u8d1f\u8d23\u6539\uff0c\u4e00\u4e2a\u8d1f\u8d23\u5220\u5373\u53ef\uff0c\u81f3\u4e8e\u5148\u540e\uff0c\u7ed3\u679c\u90fd\u4e00\u6837\uff0c\u4e5f\u8bb8 head \u5728\u524d\u6548\u7387\u4f1a\u66f4\u9ad8\u4e00\u4e9b\u3002"),(0,a.kt)("p",null,"\u6240\u4ee5\uff0c\u8fd8\u662f\u633a\u6709\u610f\u601d\u7684\uff0c\u8fd9\u4e2a\u3002"),(0,a.kt)("h3",c({},{id:"commandtop"}),"command:top"),(0,a.kt)("p",null,"Today(2022-01-27) I finally understood how to use the command of ",(0,a.kt)("inlineCode",{parentName:"p"},"top")," (though ",(0,a.kt)("inlineCode",{parentName:"p"},"htop")," is better for display but possibly more costly)."),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643248016619-b1ac7d3bcd2a9eb546a53a0e5da199d11d573f85a61a9317d679d002d98012fa.png",alt:"picture 88"}))),(0,a.kt)("p",null,"I can switch the display format of memory usage when ",(0,a.kt)("inlineCode",{parentName:"p"},"top")," has gone to the interactive interface."),(0,a.kt)("p",null,"The first option I can use is ",(0,a.kt)("inlineCode",{parentName:"p"},"E"),", which allows to switch memory unit between ",(0,a.kt)("inlineCode",{parentName:"p"},"KiB | MiB | GiB | TiB"),"."),(0,a.kt)("p",null,"And the second option I can use is ",(0,a.kt)("inlineCode",{parentName:"p"},"m"),", which switches the memory display type between pure text, columns graph and block graph."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"\u4e0d\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"top -M")," \uff08\u663e\u793a\u4ee5",(0,a.kt)("inlineCode",{parentName:"li"},"MB"),"\u4e3a\u5355\u4f4d\u7684\u5185\u5b58\u4f7f\u7528\u91cf\uff09\uff0c\u56e0\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"top -h"),"\u7684\u5e2e\u52a9\u4e2d\u5199\u7684\u5f88\u6e05\u695a\uff0c\u53ea\u652f\u6301\u90e8\u5206\u9009\u9879\u3002\u5728 stackoverflow \u4e0a\u6709 ",(0,a.kt)("inlineCode",{parentName:"li"},"top -M")," \u7684\u5efa\u8bae(see: ",(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/105908/how-to-display-meminfo-in-megabytes-in-top"}),"linux - How to display meminfo in megabytes in top? - Unix & Linux Stack Exchange"),")\uff0c\u4f46\u53ef\u80fd\u6211\u7684\u7248\u672c\uff08Ubuntu 18\uff09\u4e0d\u652f\u6301\u3002\u6b63\u786e\u7684\u505a\u6cd5\uff0c\u662f\u5148\u8fdb\u5165",(0,a.kt)("inlineCode",{parentName:"li"},"top"),"\u4ea4\u4e92\u754c\u9762\uff0c\u7136\u540e\u6309",(0,a.kt)("inlineCode",{parentName:"li"},"E"),"\uff0c\u8fd9\u6837\u5c31\u4f1a\u5207\u6362\u5355\u4f4d\uff0c\u6bd4\u5982\u6309\u4e24\u6b21\u5207\u6362\u5230",(0,a.kt)("inlineCode",{parentName:"li"},"GB"),"\u5355\u4f4d\u3002\u53e6\u5916\uff0c\u72ec\u7acb\u7684\uff0c\u8fd8\u53ef\u4ee5\u6309",(0,a.kt)("inlineCode",{parentName:"li"},"m"),"\u53bb\u5207\u6362\u5185\u5b58\u7684\u663e\u793a\u6837\u5f0f\uff0c\u6bd4\u5982\u50cf",(0,a.kt)("inlineCode",{parentName:"li"},"htop"),"\u90a3\u79cd\u7ad6\u6761\u72b6\uff01"),(0,a.kt)("li",{parentName:"ol"},"\u4ee5\u4e0a\u53ea\u5728 ubuntu \u4e0a\u6d4b\u8bd5\u901a\u8fc7\uff0c\u5728 mac \u4e0a\u6211\u521a\u8bd5\u4e86\uff0c\u4e0d\u884c\uff01\u6240\u4ee5\u5230\u5e95\u600e\u4e48\u7528\u547d\u4ee4\uff0c\u8fd8\u5f97\u6839\u636e\u5e73\u53f0\u81ea\u8eab\uff01"),(0,a.kt)("li",{parentName:"ol"},"\u5177\u4f53\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,a.kt)("inlineCode",{parentName:"li"},"COMMAND -h"),"\u53bb\u770b\u7b80\u6d01\u7248\u7684\u5e2e\u52a9\u9875\u9762\uff0c\u6216\u8005",(0,a.kt)("inlineCode",{parentName:"li"},"man COMMAND")," (e.g. ",(0,a.kt)("a",c({parentName:"li"},{href:"https://manpages.ubuntu.com/manpages/bionic/en/man1/top.1.html"}),"Ubuntu Manpage: top - display Linux processes"),") \u53bb\u770b\u5b8c\u6574\u7248\u7684\u5e2e\u52a9\u9875\u9762\uff01"))),(0,a.kt)("h3",c({},{id:"commandcat"}),"command:cat"),(0,a.kt)("h4",c({},{id:"how-to-write-raw-string-into-file-using-cat"}),"how to write raw string into file using ",(0,a.kt)("inlineCode",{parentName:"h4"},"cat")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# example\nGOPATH=$HOME/my-go\ncat <<EOF >> ~/.profile\nexport GOPATH=$GOPATH\nexport PATH=$PATH:/usr/local/go/bin:$GOPATH/bin\nEOF\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/2500436/how-does-cat-eof-work-in-bash"}),'linux - How does "cat \\<\\< EOF" work in bash? - Stack Overflow'))),(0,a.kt)("h4",c({},{id:"usage-how-to-know-whats-the-bash-string"}),"usage: how to know what's the bash string"),(0,a.kt)("p",null,"When using ",(0,a.kt)("inlineCode",{parentName:"p"},"bash")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"zsh"),", we are supposed to use the function of ",(0,a.kt)("inlineCode",{parentName:"p"},"bindKey"),"."),(0,a.kt)("p",null,"However, the key we typed are always hard to remember, e.g. what's the ",(0,a.kt)("inlineCode",{parentName:"p"},"ctrl")," key?"),(0,a.kt)("p",null,"Luckily, there's a super easy (and also interactive) way for us to know it via ",(0,a.kt)("inlineCode",{parentName:"p"},"cat"),", just to type ",(0,a.kt)("inlineCode",{parentName:"p"},"cat")," followed by ",(0,a.kt)("inlineCode",{parentName:"p"},"enter")," in terminal, and then the terminal would display what the character would be when we typing them."),(0,a.kt)("p",null,"E.g. here is what's the result when we combine ",(0,a.kt)("inlineCode",{parentName:"p"},"control | option | command")," with arrow left and arrow right would be:"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643287045491-0d652ec4cf50fd00bdfe265d1bcbc4df4482ffc562e30624d26218fd2d841adf.png",alt:"picture 114"}))),(0,a.kt)("h3",c({},{id:"commandunzip"}),"command:Unzip"),(0,a.kt)("h4",c({},{id:"how-to-unzip-to-specific-directory"}),"how to unzip to specific directory"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"unzip file.zip -d TARGET_DIR\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/994611/how-to-unzip-into-a-given-directory"}),"bash - How to unzip into a given directory - Ask Ubuntu"))),(0,a.kt)("h3",c({},{id:"commandkill"}),"command:kill"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"})," ps aux  |  grep -i  electron |  awk '{print $2}'  |  xargs sudo kill -9\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/30486159/9422455"}),"https://stackoverflow.com/a/30486159/9422455")),(0,a.kt)("h3",c({},{id:"commandscp"}),"command:scp"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo chown -R USER_NAME REMOTE_FOLDER\nsudo chmod 777 REMOTE_FOLDER\n")),(0,a.kt)("p",null,"the ",(0,a.kt)("inlineCode",{parentName:"p"},"-R"),' means "recursively" since there may be file deeply in the target folder that won\'t allow you to write.'),(0,a.kt)("p",null,"Hence, you can know, you can specifically claim your authority on the file or directory, since it would not automatically transfer."),(0,a.kt)("p",null,"Thus, a flexible approach is that just add a ",(0,a.kt)("inlineCode",{parentName:"p"},"-R")," flag."),(0,a.kt)("p",null,"reference: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/a/347412"}),"https://unix.stackexchange.com/a/347412")),(0,a.kt)("h3",c({},{id:"commandlsof"}),"command:lsof"),(0,a.kt)("p",null,"check status of port occupation"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"lsof -i:8888\n")),(0,a.kt)("h3",c({},{id:"commandufw"}),"command:ufw"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# check status\nsudo ufw status\n\n# enable\nsudo ufw enable\n\n# white list\nsudo ufw allow 9000\n\n# reload\nsudo ufw reload\n\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/jiaochiwuzui/article/details/80907521"}),"(20 \u6761\u6d88\u606f) Ubuntu \u9632\u706b\u5899\u7684\u5f00\u542f\uff0c\u5173\u95ed\uff0c\u7aef\u53e3\u7684\u6253\u5f00\uff0c\u67e5\u770b","_","jiaochiwuzui \u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","ubuntu \u67e5\u770b\u9632\u706b\u5899\u5f00\u542f\u7684\u7aef\u53e3"))),(0,a.kt)("h3",c({},{id:"commandtime"}),"command:time"),(0,a.kt)("p",null,"I can directly using ",(0,a.kt)("inlineCode",{parentName:"p"},"time ( COMMAND_1 | COMMAND_2 )"),", so that it can calculate the final time of this pipe."),(0,a.kt)("p",null,"However, time calculation is a little more sophisticated than what would I have thought, refer more to: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/364156/how-can-i-time-a-pipe/364157"}),"bash - How can I time a pipe? - Unix & Linux Stack Exchange")),(0,a.kt)("h3",c({},{id:"commandtr"}),"command:tr"),(0,a.kt)("p",null,"It's useful to split line to lines."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"$ echo \"111;222;333\" | tr ';' '\\n'\n111\n222\n333\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# use `nl` to add the line number\ncat main.js | tr ';' '\\n' | nl -ba | head -6\n")),(0,a.kt)("h3",c({},{id:"commandcd"}),"command:cd"),(0,a.kt)("h4",c({},{id:"usage-a-superb-scene-using-cd-"}),"usage: a superb scene using ",(0,a.kt)("inlineCode",{parentName:"h4"},"cd .")),(0,a.kt)("img",{alt:"picture 10",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-howto-1641284537356-d66d64fc07918dc1e98e62dd2dd70454a9ff16b2b2cc6da39fe18cbc6a5b07a1.png",width:"480"}),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/702402/how-do-i-refresh-directory-in-bash"}),"linux - How do I refresh directory in BASH? - Super User"))),(0,a.kt)("h3",c({},{id:"commandsed"}),"command:sed"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.gnu.org/software/sed/manual/sed.html"}),"\u2728\u2728\u2728 sed, a stream editor\u2728\u2728\u2728"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.grymoire.com/Unix/Sed.html"}),"Sed - An Introduction and Tutorial"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.mankier.com/1/sed"}),"sed man page - General Commands | ManKier")))),(0,a.kt)("p",null,"a good start:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.geeksforgeeks.org/sed-command-in-linux-unix-with-examples/"}),"Sed Command in Linux/Unix with examples - GeeksforGeeks"))),(0,a.kt)("h4",c({},{id:"how-to-print-only-matched-lines"}),"how to print only matched lines"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-n"),' means "No automatically print the each line"'),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/p"),' means "Print the processed line"')),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# print only the matched lines\nsed -n "s|find|replace|p"\n\n# don\'t print any line (so useless)\nsed -n "s|find|replace|"\n\n# print all the line each, with matched line again(twice, and it\'s the same)\nsed "s|find|replace|p"\n\n# TODO: print the processed, and apply function on it.\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/17511639/sed-print-only-matching-group"}),"regex - sed: print only matching group - Stack Overflow"))),(0,a.kt)("h4",c({},{id:"-how-to-increment-version-number"}),"\u2728 how to increment version number"),(0,a.kt)("h5",c({},{id:"resolution-1-use-echo-based-on-e"}),"resolution 1: use ",(0,a.kt)("inlineCode",{parentName:"h5"},"echo")," based on ",(0,a.kt)("inlineCode",{parentName:"h5"},"//e")),(0,a.kt)("p",null,"special thanks to: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/14348899/9422455"}),"https://stackoverflow.com/a/14348899/9422455")),(0,a.kt)("h5",c({},{id:"resolution-2-answer"}),"resolution 2: answer"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'gsed -i -E \'s|(.*)"version": "([0-9]+)\\.([0-9]+)\\.([0-9]+)"|echo "\\1\\\\"version\\\\": \\\\"\\2.\\3.$((\\4+1))\\\\""|e\' package.json\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"test what happened using ",(0,a.kt)("inlineCode",{parentName:"p"},"//pe"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u279c  erb_sqlite git:(main) head -3 release/app/package.json                                                                                                                                           [7-01-22 | 4:18:17]\n{\n  "name": "mark.hjxh.express_match",\n  "version": "0.2.2",\n\n\n\u279c  erb_sqlite git:(main) gsed -E \'s|(.*)"version": "([0-9]+)\\.([0-9]+)\\.([0-9]+)"|echo "\\1\\\\"version\\\\": \\\\"\\2.\\3.$((\\4+1))\\\\""|pe\' release/app/package.json                                        [7-01-22 | 4:08:57]\n{\n  "name": "mark.hjxh.express_match",\necho "  \\"version\\": \\"0.2.$((2+1))\\"",\n  "version": "0.2.3",\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"explanation")),(0,a.kt)("p",null,"In fact, the ",(0,a.kt)("inlineCode",{parentName:"p"},' "version": "0.2.2",')," is changed into ",(0,a.kt)("inlineCode",{parentName:"p"},'echo " \\"version\\": \\"0.2.$((2+1))\\"",'),"."),(0,a.kt)("p",null,"And then the ",(0,a.kt)("inlineCode",{parentName:"p"},"e")," syntax indicates run this sequency string as a command, so that it finally turns into ",(0,a.kt)("inlineCode",{parentName:"p"},' "version": "0.2.3",')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"attention")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},'"')," needs to be escaped, and to escape ",(0,a.kt)("inlineCode",{parentName:"li"},'"'),", we need to use a ",(0,a.kt)("inlineCode",{parentName:"li"},"\\"),", and to let the ",(0,a.kt)("inlineCode",{parentName:"li"},"\\")," work in the ",(0,a.kt)("inlineCode",{parentName:"li"},"echo")," function, we need to escape it again, that is to be ",(0,a.kt)("inlineCode",{parentName:"li"},'\\\\"')),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"sed")," will match all line (including the leading space), and the ",(0,a.kt)("inlineCode",{parentName:"li"},"e")," would execute all line. So if I just replace the version number part into ",(0,a.kt)("inlineCode",{parentName:"li"},'echo "\\\\"0.2.3\\\\""'),", then all the line would turns into ",(0,a.kt)("inlineCode",{parentName:"li"},' "version": echo "\\\\"0.2.3\\\\""'),", which is certainly unwanted and deserves reflection.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"core ref")),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/14348432/how-to-find-replace-and-increment-a-matched-number-with-sed-awk"}),"bash - How to find/replace and increment a matched number with sed/awk? - Stack Overflow")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"perl | awk")," alternative"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/8653126/how-to-increment-version-number-in-a-shell-script"}),"bash - How to increment version number in a shell script? - Stack Overflow"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"official hack way (but I failed)")),(0,a.kt)("p",null,"sh #!/usr/bin/sed -f"),(0,a.kt)("p",null,"/",(0,a.kt)("sup",c({parentName:"p"},{id:"fnref-0-9-ccff32"}),(0,a.kt)("a",c({parentName:"sup"},{href:"#fn-0-9-ccff32",className:"footnote-ref"}),"0-9")),"/ d"),(0,a.kt)("h1",c({},{id:"replace-all-trailing-9s-by-_-any-other-character-except-digits-could"}),"replace all trailing 9s by ","_"," (any other character except digits, could"),(0,a.kt)("h1",c({},{id:"be-used"}),"be used)"),(0,a.kt)("p",null,":d s/9","(",(0,a.kt)("em",{parentName:"p"},"*",")","$/"),"\\1/ td"),(0,a.kt)("h1",c({},{id:"incr-last-digit-only-the-first-line-adds-a-most-significant"}),"incr last digit only. The first line adds a most-significant"),(0,a.kt)("h1",c({},{id:"digit-of-1-if-we-have-to-add-a-digit"}),"digit of 1 if we have to add a digit."),(0,a.kt)("p",null,"s/^","(","_","*",")","$/1\\1/; tn s/8","(",(0,a.kt)("strong",{parentName:"p"},")","$/9\\1/; tn s/7","(","_","_",")","$/8\\1/; tn s/6","("),")","$/7\\1/; tn s/5","(","_","*",")","$/6\\1/; tn s/4","(","_","_",")","$/5\\1/; tn s/3","(","_","_",")","$/4\\1/; tn s/2","(","_","_",")","$/3\\1/; tn s/1","(","_","*",")","$/2\\1/; tn s/0","(","_","*",")","$/1\\1/; tn"),(0,a.kt)("p",null,":n y/","_","/0/"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{}),"\n- [sed, a stream editor](https://www.gnu.org/software/sed/manual/sed.html#Increment-a-number)\n\n#### how to match digits (`[0-9]` or `:digit:`)\n\n> ref:\n\nthanks for the direction to sed official documentation in this post.\n\n- [regex - Why doesn't `\\d` work in regular expressions in sed? - Stack Overflow](https://stackoverflow.com/questions/14671293/why-doesnt-d-work-in-regular-expressions-in-sed)\n\n#### how to insert text before first line of file\n\nsuppose the text is:\n\n```text\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n")),(0,a.kt)("p",null,"and the file is ",(0,a.kt)("inlineCode",{parentName:"p"},"public/style.css")),(0,a.kt)("p",null,"first, export this variable for better understanding of commands:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"T='@tailwind base;\n@tailwind components;\n@tailwind utilities;'\nF='public/style.css'\n")),(0,a.kt)("p",null,"and copy file as a backup:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cp $F ${F}_\n")),(0,a.kt)("p",null,"then the reset command is:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cp ${F}_ $F\n")),(0,a.kt)("h5",c({},{id:"resolution-1-use-cat-and-"}),"resolution 1: use ",(0,a.kt)("inlineCode",{parentName:"h5"},"cat")," and ",(0,a.kt)("inlineCode",{parentName:"h5"},";")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"cat")," approach meets our intuition, but needs a temp file."),(0,a.kt)("p",null,"First, we dump the ",(0,a.kt)("inlineCode",{parentName:"p"},"T")," into ",(0,a.kt)("inlineCode",{parentName:"p"},"temp")," file, then append ",(0,a.kt)("inlineCode",{parentName:"p"},"F")," into temp, finally replace ",(0,a.kt)("inlineCode",{parentName:"p"},"F")," with temp, that is:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo $T > temp; cat $F >> temp; mv temp $F\n")),(0,a.kt)("p",null,"Be careful about the second operator of ",(0,a.kt)("inlineCode",{parentName:"p"},">>")," since it means ",(0,a.kt)("inlineCode",{parentName:"p"},"append")," otherwise the ",(0,a.kt)("inlineCode",{parentName:"p"},"$T")," would be flushed, then ",(0,a.kt)("inlineCode",{parentName:"p"},"$F")," keeps unchanged."),(0,a.kt)("p",null,"refer:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/159513/what-are-the-shells-control-and-redirection-operators"}),"What are the shell's control and redirection operators? - Unix & Linux Stack Exchange"))),(0,a.kt)("h5",c({},{id:"resolution-2-use-cat-and-"}),"resolution 2: use ",(0,a.kt)("inlineCode",{parentName:"h5"},"cat")," and ",(0,a.kt)("inlineCode",{parentName:"h5"},"|")),(0,a.kt)("p",null,"In last solution, we used 2 ';', and there is an easy way to change it to just 1 ';'."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo $T | cat - $F > temp; mv temp $F\n")),(0,a.kt)("p",null,"In this solution, the ",(0,a.kt)("inlineCode",{parentName:"p"},"$T")," echoed into second pipe, and ",(0,a.kt)("inlineCode",{parentName:"p"},"cat")," used ",(0,a.kt)("inlineCode",{parentName:"p"},"-")," to capture it then joined with ",(0,a.kt)("inlineCode",{parentName:"p"},"$F")," and dumped into temp, which surely is faster."),(0,a.kt)("p",null,"refer:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://superuser.com/questions/1388584/what-does-the-last-hyphen-mean-in-options-of-bash"}),'linux - What does the last "-" (hyphen) mean in options of ',(0,a.kt)("inlineCode",{parentName:"a"},"bash"),"? - Super User"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/16357/usage-of-dash-in-place-of-a-filename"}),"shell - Usage of dash (-) in place of a filename - Unix & Linux Stack Exchange")))),(0,a.kt)("h5",c({},{id:"resolution-3-use-sed-s-command"}),"resolution 3: use sed s-command"),(0,a.kt)("p",null,"In the above 2 solutions, we both need an IO, i.e. first saving into a 'temp' file and move to override the raw file, which could be low-efficiently and not elegant."),(0,a.kt)("p",null,"There's a way allowing us to finish the 'join' action just in the pipe and finally leads to inplace-modify target file. That is \"sed's s-command\"."),(0,a.kt)("img",{alt:"picture 24",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379168300-linux-howto-90b435ef191284a35f21cb8cac698769b8548bfe2b3f90db2be5ea988a56c636.png",width:"480"}),(0,a.kt)("img",{alt:"picture 25",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379622241-linux-howto-e51b228ec26d453924d9731bc86f94185eccbc8ea4d43954698c4217845ca262.png",width:"480"}),(0,a.kt)("p",null,"When using ",(0,a.kt)("inlineCode",{parentName:"p"},"s-command"),", we can easily apply regex grammar to achieve what we want."),(0,a.kt)("img",{alt:"picture 26",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379819166-linux-howto-c717ac5a605fb416fa2f472e202a74949ed8b34c3556d06ca6b70c8202d70901.png",width:"480"}),(0,a.kt)("p",null,"Like this, we can easily insert text in front of a sequency of text based on regex of '^', which means the beginning of text."),(0,a.kt)("p",null,"And then, since the basic grammar of how to insert text before specific line of an input file in ",(0,a.kt)("inlineCode",{parentName:"p"},"sed")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"sed -i 'Ni TEXT' $F")," , the problem then converts to how to join '1i' with $T. That is what we just learned can be put into practice:"),(0,a.kt)("img",{alt:"picture 27",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640380337394-linux-howto-d8bfb544ab1b2db098a1fd9138401997b9b11814af6cbf639243453526a91c02.png",width:"480"}),(0,a.kt)("p",null,"You see, now all the commands have nothing to do with the io, and the principle behind this command chain is straightforward: join into ",(0,a.kt)("inlineCode",{parentName:"p"},"1i $T")," then use it as ",(0,a.kt)("inlineCode",{parentName:"p"},"sed -i"),"\u2019s parameter (via ",(0,a.kt)("inlineCode",{parentName:"p"},"-f-")," which is the former pipe)."),(0,a.kt)("h5",c({},{id:"resolution-4-use-sed-e-command"}),"resolution 4: use sed e-command"),(0,a.kt)("img",{alt:"picture 16",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375147417-linux-howto-e0475887ff34e4a4a0be217c3596e054d2bdfa01f28f360f2459123e0b2175f7.png",width:"480"}),(0,a.kt)("img",{alt:"picture 17",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375169955-linux-howto-57609e425971259dd89c05c571047e701cb2c44dcc4deac43b0724a7295d8f44.png",width:"480"}),(0,a.kt)("p",null,"I'd think the e-command is quite confusing, but does good job."),(0,a.kt)("p",null,"I made some tests on the e-command to help myself understand."),(0,a.kt)("p",null,"In the above introduction, it indicates that if 'without parameters, the e command executes the command that is found in space and replace the pattern space with the output'."),(0,a.kt)("p",null,"suppose we have ",(0,a.kt)("inlineCode",{parentName:"p"},"a='aaa\\necho \"bbb\" \\nccc'"),", then if we runs ",(0,a.kt)("inlineCode",{parentName:"p"},"echo $a | gsed '2e'"),", that's to say run the second line as a command and let others stay as what they are: ",(0,a.kt)("img",{alt:"picture 18",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375663511-linux-howto-18fd2906bf27a739476740fbe2c713a3c42b40de5865cebd14c08e696ed0b39a.png",width:"480"})),(0,a.kt)("p",null,"However, 'if a parameter is specified, instead, the e command interprets it as a command and sends its output to the output stream.'"),(0,a.kt)("p",null,"I made an example which may help us to understand what's the mechanism of ",(0,a.kt)("inlineCode",{parentName:"p"},"gsed 'ne xxx"),", in which ",(0,a.kt)("inlineCode",{parentName:"p"},"xxx")," is the so-called 'parameter'."),(0,a.kt)("img",{alt:"picture 19",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640376208972-linux-howto-5309698b6833082cf93b3b0f69cda3616678ad00d3e5141895bcec14b8684f57.png",width:"480"}),(0,a.kt)("p",null,"You can see, as the following shows, since a is a three-line text and sent into the pipe as stream, so first line shows 'aaa', and second line shows 'echo \"bbb\"', as what we preset."),(0,a.kt)("p",null,"The most notable point is that since ",(0,a.kt)("inlineCode",{parentName:"p"},"gsed")," sets a ",(0,a.kt)("inlineCode",{parentName:"p"},"3e")," command which means 'it will execute following commands at 3rd row of stream'. Thus, the following commands ",(0,a.kt)("inlineCode",{parentName:"p"},'xxx\\n echo "yyy"...')," are executed as separate commands split by lines."),(0,a.kt)("p",null,"Obviously, neither ",(0,a.kt)("inlineCode",{parentName:"p"},"xxx")," nor ",(0,a.kt)("inlineCode",{parentName:"p"},"zzz")," is a valid command and turned into an error. Plus, since the level of error usually is a bit higher than normal output, the error of ",(0,a.kt)("inlineCode",{parentName:"p"},"zzz")," came before ",(0,a.kt)("inlineCode",{parentName:"p"},"yyy")," and then is ",(0,a.kt)("inlineCode",{parentName:"p"},"AAA"),"."),(0,a.kt)("p",null,"Finally, when all the commands were executed, the next stream in pipe came, i.e. ",(0,a.kt)("inlineCode",{parentName:"p"},"ccc"),", and all the sequences came into end."),(0,a.kt)("p",null,"ref:"),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://www.gnu.org/software/sed/manual/sed.html#:~:text=by%20standard%20seds.-,e%20%5Bcommand%5D,-This%20command%20allows"}),"sed e-command")),(0,a.kt)("p",null,"Still, we had other topics to talk about."),(0,a.kt)("img",{alt:"picture 20",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377292421-linux-howto-27ab701a1d1cca335a1476e71b742a60b9f6817b5d08521c70c766bfae21290d.png",width:"480"}),(0,a.kt)("img",{alt:"picture 22",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377315692-linux-howto-ea510349e79dd47d4ca01d17200defcf7e8b8b8ebda0b0785c1833ba932c625d.png",width:"480"}),(0,a.kt)("p",null,"We can know the classic usage of ",(0,a.kt)("inlineCode",{parentName:"p"},"sed")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"sed SCRIPT INPUTFILE"),", and if ",(0,a.kt)("inlineCode",{parentName:"p"},"-e")," option is used to specify a script, with all non-option parameters taken as input files."),(0,a.kt)("p",null,"So what would happen when we combine the ",(0,a.kt)("inlineCode",{parentName:"p"},"-e")," and an input file."),(0,a.kt)("p",null,"Back to what we covered the above, we can move a step further now."),(0,a.kt)("img",{alt:"picture 23",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377647537-linux-howto-8099c8c4212b90dd4f7fa22449dc22ef8135c485c97674a561b87769121c750b.png",width:"480"}),(0,a.kt)("p",null,"In this example, we can see that ",(0,a.kt)("inlineCode",{parentName:"p"},"gsed")," first read one line from ",(0,a.kt)("inlineCode",{parentName:"p"},"../temp")," file which is ",(0,a.kt)("inlineCode",{parentName:"p"},"AAA"),", and then paused since the ",(0,a.kt)("inlineCode",{parentName:"p"},"2e")," flag to execute ",(0,a.kt)("inlineCode",{parentName:"p"},"cat -")," command which shows all the input stream from ",(0,a.kt)("inlineCode",{parentName:"p"},"echo $a"),", and finally continued to read the remaining rows of ",(0,a.kt)("inlineCode",{parentName:"p"},"BBB")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"CCC"),"."),(0,a.kt)("p",null,"So what about if we specify a ",(0,a.kt)("inlineCode",{parentName:"p"},"-i")," option, which means ",(0,a.kt)("inlineCode",{parentName:"p"},"change in position"),"?"),(0,a.kt)("p",null,"It's easy to understand, that is all the output would be sent into ",(0,a.kt)("inlineCode",{parentName:"p"},"../temp"),", so that ",(0,a.kt)("inlineCode",{parentName:"p"},"../temp")," changes to the output just like the result in this example shows."),(0,a.kt)("p",null,"Hence, we can derive from our conclusion: if we use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo $T | gsed -i '1e cat -'  $F\n")),(0,a.kt)("p",null,"then the goal of inserting text before first line can be achieved just on the fly~"),(0,a.kt)("p",null,"How amazing and beautiful it is!"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.gnu.org/software/sed/manual/sed.html#:~:text=sed%20%C2%A0%20%5BContents%5D%5BIndex%5D-,2.1%20overview,-Normally%20sed%20is"}),"gsed overview"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"conclusion")),(0,a.kt)("p",null,"G1. To insert lines at the beginning of one file:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. dump, dump, and move\necho $T > temp; cat $F >> temp; mv temp $F;\n\n# 2. join, dump, and move\necho $T | cat - $F > temp; mv temp $F;\n\n# 3. [sed s-command] concat-string, inplace-insert\necho $T | gsed '1s/^/1i /' | gsed -i -f- $F\n\n# 4. [sed e-command] ... hard to conclude\necho $T | gsed -i '1e cat -' $F\n")),(0,a.kt)("p",null,"G2. To insert lines at specific line:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. if text is single line, refer: https://stackoverflow.com/a/6537587/9422455\ngsed -i 'Ni $T' $F\n\n# 2. if text is multi lines, refer:\necho $T | gsed -i 'Ne cat -' $F\n")),(0,a.kt)("p",null,"FIXME: (failed) G3. To insert content after matched position:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. [sed r-command]\necho $T | gsed -i '$P/r -' $F #  the '-' is same for '/dev/stdin'\n")),(0,a.kt)("p",null,"G4. To insert multi lines manually:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1, when lines are already multiplied, just add `\\` after each line, refer: https://askubuntu.com/a/702693\n\n# 2, when lines are in one, using `\\n`, refer: https://askubuntu.com/a/702690\n")),(0,a.kt)("p",null,"G5. To insert lines after matched line with the same leading space format:"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \u5d4c\u5957 sed \u6b63\u5219\u6ce8\u610f\u4e8b\u9879"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"\u8f93\u5165\u7684\u6587\u672c\u4e0d\u80fd\u4e0e\u5206\u9694\u7b26\u76f8\u540c\uff0c\u5426\u5219\u9700\u8981\u8f6c\u4e49\u3002\u6bd4\u5982\u672c\u6b21\u4e3a\u4e86\u5728\u4ee3\u7801\u4e2d\u52a0\u5165\u6ce8\u91ca",(0,a.kt)("inlineCode",{parentName:"li"},"//"),"\uff0c\u5c31\u4e0d\u65b9\u4fbf\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"/"),"\u5f53\u5206\u9694\u7b26"),(0,a.kt)("li",{parentName:"ol"},"\u5d4c\u5957\u6b63\u5219\u7684\u65f6\u5019\uff0c\u4e3a\u4e86\u80fd\u5206\u6e05\u4e00\u7ea7\u4e0e\u4e8c\u7ea7\uff0c\u53ef\u4ee5\u5e94\u7528\u4e0d\u540c\u7684\u5206\u9694\u7b26\uff0c\u6bd4\u5982\u672c\u6b21\u66f4\u65b0\u7528\u4e86",(0,a.kt)("inlineCode",{parentName:"li"},"|"),"\u4f5c\u4e3a\u4e00\u7ea7\uff0c",(0,a.kt)("inlineCode",{parentName:"li"},"_"),"\u4f5c\u4e3a\u4e8c\u7ea7"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. [sed s-command] leading space align with $P\n# failed at 2022-01-25\n# echo $T | gsed 's/^.*$/s\\/(^.*?)($P.*$)\\/\\\\1\\\\2\\\\n\\0\\//' | gsed -E -f- $F\n\n# updated at 2022-01-25\necho $T | gsed 's|^.*$|s_^(.*?)('$P'.*)$_\\\\1\\\\2\\\\n\\\\1\\0_|' | gsed -E -f- $F | grep --context=3 $T\n\n# FIXME: (failed) 2. [sed s-command with named-pipe] [more straightforward]\ncat <(echo -n \"s/(^.*?)($P.*?$)/\\1\\2\\\\\\\\n\\1\" & echo -n $T & echo -n \"/\") | gsed -E -f- $F\n")),(0,a.kt)("img",{alt:"picture 29",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640385997938-linux-howto-41e634caf1122f991d08d485202adfb56ab71cdfdb7d5ad76ad4f57ca751cbaa.png",width:"480"}),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://serverfault.com/questions/171095/how-do-i-join-two-named-pipes-into-single-input-stream-in-linux"}),"shell - How do I join two named pipes into single input stream in linux - Server Fault"))))}b.isMDXComponent=!0}}]);