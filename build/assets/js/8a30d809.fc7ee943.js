"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[86196],{35318:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var o=n(27378);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=o.createContext({}),c=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=c(e.components);return o.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=c(n),m=a,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||l;return n?o.createElement(h,r(r({ref:t},s),{},{components:n})):o.createElement(h,r({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,r[1]=i;for(var c=2;c<l;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},29894:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>m,default:()=>g,frontMatter:()=>u,metadata:()=>h,toc:()=>f});var o=n(35318),a=Object.defineProperty,l=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,s=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&s(e,n,t[n]);if(i)for(var n of i(t))c.call(t,n)&&s(e,n,t[n]);return e};const u={},m="python howto",h={unversionedId:"coding/Languages/Python/python-howto",id:"coding/Languages/Python/python-howto",title:"python howto",description:"module:log",source:"@site/my-documents/docs/coding/Languages/Python/python-howto.md",sourceDirName:"coding/Languages/Python",slug:"/coding/Languages/Python/python-howto",permalink:"/docs/coding/Languages/Python/python-howto",draft:!1,editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/my-documents/docs/coding/Languages/Python/python-howto.md",tags:[],version:"current",lastUpdatedAt:1726564669,formattedLastUpdatedAt:"2024\u5e749\u670817\u65e5",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"python-dev-notes",permalink:"/docs/coding/Languages/Python/python-dev-notes"},next:{title:"ts",permalink:"/docs/coding/Languages/TS/ts-bugfix"}},k={},f=[{value:"module:log",id:"modulelog",level:2},{value:"module:hashlib",id:"modulehashlib",level:2},{value:"md5",id:"md5",level:3},{value:"module:re",id:"modulere",level:2},{value:"multi-line match",id:"multi-line-match",level:3},{value:"module:typing",id:"moduletyping",level:2},{value:"TypedDict NotRequired VS Optional",id:"typeddict-notrequired-vs-optional",level:3},{value:"TypedDict self-reference",id:"typeddict-self-reference",level:3},{value:"module:virtualenv",id:"modulevirtualenv",level:2},{value:"how to install and use virtualenv in python",id:"how-to-install-and-use-virtualenv-in-python",level:3},{value:"conda",id:"conda",level:2},{value:"change default startup behavior in zsh",id:"change-default-startup-behavior-in-zsh",level:3},{value:"how to print colorful text in terminal, mac and windows",id:"how-to-print-colorful-text-in-terminal-mac-and-windows",level:2},{value:"print in general operating system",id:"print-in-general-operating-system",level:3},{value:"print in windows",id:"print-in-windows",level:3},{value:"how to install specific python in mac",id:"how-to-install-specific-python-in-mac",level:2},{value:"how to print colored text to console/terminal in python",id:"how-to-print-colored-text-to-consoleterminal-in-python",level:2}],y={toc:f};function g(e){var t,n=e,{components:a}=n,s=((e,t)=>{var n={};for(var o in e)p.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&i)for(var o of i(e))t.indexOf(o)<0&&c.call(e,o)&&(n[o]=e[o]);return n})(n,["components"]);return(0,o.kt)("wrapper",(t=d(d({},y),s),l(t,r({components:a,mdxType:"MDXLayout"}))),(0,o.kt)("h1",d({},{id:"python-howto"}),"python howto"),(0,o.kt)("h2",d({},{id:"modulelog"}),"module:log"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"ref")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",d({parentName:"li"},{href:"https://www.jianshu.com/p/2439a27db7ae"}),"python-logging \u6a21\u5757,\u7a0b\u5e8f\u65e5\u5fd7\u6a21\u677f - \u7b80\u4e66"))),(0,o.kt)("h2",d({},{id:"modulehashlib"}),"module:hashlib"),(0,o.kt)("h3",d({},{id:"md5"}),"md5"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"implementation")),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-py"}),"import hashlib\n\ndef get_md5(s):\n\n    md5 = hashlib.md5()\n    md5.update(s.encode('utf-8'))\n    return md5.hexdigest()\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"ref")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"\u2728\u2728 \u975e\u5e38\u65b9\u4fbf\u7684\u4e00\u4e0b\u5168\u7ed9\u4f60\u5217\u51fa\u6765\u5404\u79cd\u52a0\u5bc6\u503c\uff1a",(0,o.kt)("a",d({parentName:"p"},{href:"https://1024tools.com/hash"}),"Hash \u5728\u7ebf\u8ba1\u7b97\u3001md5 \u8ba1\u7b97\u3001sha1 \u8ba1\u7b97\u3001sha256 \u8ba1\u7b97\u3001sha512 \u8ba1\u7b97 - 1024Tools"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://www.liaoxuefeng.com/wiki/1016959663602400/1017686752491744"}),"hashlib - \u5ed6\u96ea\u5cf0\u7684\u5b98\u65b9\u7f51\u7ad9")))),(0,o.kt)("h2",d({},{id:"modulere"}),"module:re"),(0,o.kt)("h3",d({},{id:"multi-line-match"}),"multi-line match"),(0,o.kt)("p",null,"In fact, the real multi-line match means:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"allow match cross lines"),(0,o.kt)("li",{parentName:"ol"},"allow ",(0,o.kt)("inlineCode",{parentName:"li"},"\\n")," to be ",(0,o.kt)("inlineCode",{parentName:"li"},"."))),(0,o.kt)("p",null,"So, there is two flags to set: ",(0,o.kt)("inlineCode",{parentName:"p"},"re.MULTIPLE")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"re.DOTALL")," like this: ",(0,o.kt)("img",{alt:"picture 82",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640714410831-python-howto-a6e3fddb60d94065878fe878967ad28066da464ebe1cb19574b0b59b7c7ad299.png",width:"480"})),(0,o.kt)("p",null,"ref:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://docs.python.org/3/library/re.html#re.DOTALL"}),"re \u2014 Regular expression operations \u2014 Python 3.10.1 documentation"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://stackoverflow.com/questions/52197413/ignoring-newline-character-in-regex-match"}),"python - ignoring newline character in regex match - Stack Overflow"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://stackoverflow.com/questions/587345/regular-expression-matching-a-multiline-block-of-text"}),"python - Regular expression matching a multiline block of text - Stack Overflow"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://stackoverflow.com/questions/41620093/whats-the-difference-between-re-dotall-and-re-multiline"}),"python - What's the difference between re.DOTALL and re.MULTILINE? - Stack Overflow")))),(0,o.kt)("h2",d({},{id:"moduletyping"}),"module:typing"),(0,o.kt)("h3",d({},{id:"typeddict-notrequired-vs-optional"}),"TypedDict NotRequired VS Optional"),(0,o.kt)("img",{alt:"picture 1",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/python-howto-5c75c11d35acc67f67bf102a3b19e7ebc0be2dbbdc960a3efe67ddc064742270.png",width:"480"}),(0,o.kt)("p",null,"Avoid using ",(0,o.kt)("inlineCode",{parentName:"p"},"NotRequired")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,o.kt)("img",{alt:"picture 2",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/python-howto-71ed352877e7d0e8bfdc221fe3fd8bf698c8e178116f654e633e18efff75712c.png",width:"480"})),(0,o.kt)("p",null,"ref:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",d({parentName:"li"},{href:"https://www.python.org/dev/peps/pep-0655/"}),"PEP 655 -- Marking individual TypedDict items as required or potentially-missing | Python.org"))),(0,o.kt)("h3",d({},{id:"typeddict-self-reference"}),"TypedDict self-reference"),(0,o.kt)("p",null,"Here is what I want:"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-py"}),"from typing import List, TypedDict\n\nclass TocItem(TypedDict):\n    level: int\n    title: str\n    children: List[TocItem]\n\n")),(0,o.kt)("p",null,"However, it doesn't work since one property can not fetch the outer class."),(0,o.kt)("p",null,"There are at least two remedies, and I recommend to add one line in the top:"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-py"}),"from __future__ import annotations\n")),(0,o.kt)("p",null,"ref:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",d({parentName:"li"},{href:"https://stackoverflow.com/questions/36193540/self-reference-or-forward-reference-of-type-annotations-in-python"}),"Self-reference or forward-reference of type annotations in Python - Stack Overflow"))),(0,o.kt)("h2",d({},{id:"modulevirtualenv"}),"module:virtualenv"),(0,o.kt)("h3",d({},{id:"how-to-install-and-use-virtualenv-in-python"}),"how to install and use virtualenv in python"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-sh"}),"# should use a local pip\npip install virtualenv\n\nvirtualenv YOUR/DIR\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"ref")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://www.liaoxuefeng.com/wiki/1016959663602400/1019273143120480"}),"virtualenv - \u5ed6\u96ea\u5cf0\u7684\u5b98\u65b9\u7f51\u7ad9"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",d({parentName:"p"},{href:"https://stackoverflow.com/questions/24011399/activating-a-virtual-env-not-working"}),"python - Activating a virtual env not working - Stack Overflow")))),(0,o.kt)("h2",d({},{id:"conda"}),"conda"),(0,o.kt)("h3",d({},{id:"change-default-startup-behavior-in-zsh"}),"change default startup behavior in zsh"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-sh"}),'# .zshrc\n# >>> conda initialize >>>\n# !! Contents within this block are managed by \'conda init\' !!\n__conda_setup="$(\'/usr/local/anaconda3/bin/conda\' \'shell.zsh\' \'hook\' 2> /dev/null)"\n#if [ $? -eq 0 ]; then\n#    eval "$__conda_setup"\n#else\n    if [ -f "/usr/local/anaconda3/etc/profile.d/conda.sh" ]; then\n        . "/usr/local/anaconda3/etc/profile.d/conda.sh"\n    else\n        export PATH="/usr/local/anaconda3/bin:$PATH"\n    fi\n#fi\nunset __conda_setup\n# # <<< conda initialize <<<\n')),(0,o.kt)("h2",d({},{id:"how-to-print-colorful-text-in-terminal-mac-and-windows"}),"how to print colorful text in terminal, mac and windows"),(0,o.kt)("h3",d({},{id:"print-in-general-operating-system"}),"print in general operating system"),(0,o.kt)("p",null,"use ",(0,o.kt)("inlineCode",{parentName:"p"},"termcolor")),(0,o.kt)("h3",d({},{id:"print-in-windows"}),"print in windows"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-sh"}),"pip install colorama\n")),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-py"}),"from colorama import init\n\n# call this when init, so that all the ascii color would be displayed in windows\ninit()\n")),(0,o.kt)("p",null,"ref:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",d({parentName:"li"},{href:"https://stackoverflow.com/questions/48445616/why-printing-in-color-in-a-windows-terminal-in-python-does-not-work"}),"Why printing in color in a Windows terminal in Python does not work? - Stack Overflow"))),(0,o.kt)("h2",d({},{id:"how-to-install-specific-python-in-mac"}),"how to install specific python in mac"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"install ",(0,o.kt)("inlineCode",{parentName:"li"},"homebrew")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"brew install pyenv")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"pyenv install VERSION")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"pyenv global VERSION"))),(0,o.kt)("h2",d({},{id:"how-to-print-colored-text-to-consoleterminal-in-python"}),"how to print colored text to console/terminal in python"),(0,o.kt)("pre",null,(0,o.kt)("code",d({parentName:"pre"},{className:"language-py"}),"from termcolor import colored\n\n# `colored` return a `Text` object, which can be called by `print()`\ntext = colored('Hello, World!', 'red', attrs=['reverse', 'blink', \"bold\"])\nprint(text)\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \u4e0d\u8fc7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u5f69\u8272\u5b9e\u73b0\uff0c\u5176\u5b9e\u90fd\u662f\u57fa\u4e8e ascii \u7801\u7684\uff0c\u4e5f\u5c31\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},".\\[\\d+m"),"\u8fd9\u6837\u7684\u4e00\u4e2a\u6b63\u5219\u5b57\u7b26\uff0c\u5e76\u4e14\u4e0d\u53ef\u4ee5\u88ab markdown \u89e3\u6790\u6e32\u67d3\u3002\u56e0\u6b64\u5982\u679c\u4e0d\u5355\u5355\u662f\u5f80\u63a7\u5236\u53f0\u8f93\u51fa\uff0c\u8fd8\u60f3\u4fdd\u5b58\u6210\u6587\u4ef6\u7684\u8bdd\uff0c\u5219\u9700\u8981\u505a\u76f8\u5e94\u5904\u7406\u3002"),(0,o.kt)("ol",{parentName:"blockquote"},(0,o.kt)("li",{parentName:"ol"},"\u6700\u7b80\u5355\u4e0e\u76f4\u89c2\u7684\u505a\u6cd5\u5c31\u662f\u76f4\u63a5\u66ff\u6362\u6389\u8fd9\u4e9b ascii \u6807\u8bc6\uff0c\u53ef\u4ee5\u7528",(0,o.kt)("inlineCode",{parentName:"li"},"sed"),"\u5f88\u65b9\u4fbf\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u4f8b\u5982 ",(0,o.kt)("inlineCode",{parentName:"li"},'python xxx | sed -r "s|.\\[\\d+m||g"'),"\u3002"),(0,o.kt)("li",{parentName:"ol"},"\u5982\u679c\u6709\u591a\u4e2a\u8f93\u51fa\u76ee\u6807\uff0c\u5219\u53ef\u4ee5\u8003\u8651\u5199\u4e24\u5957\u6587\u672c\u751f\u6210\u7b97\u6cd5\uff0c\u8fd9\u4e2a\u4e5f\u6bd4\u8f83\u63a8\u8350\uff0c\u5c24\u5176\u662f\u751f\u6210 html \u683c\u5f0f\u7684\u5f69\u8272\u6587\u672c\u8fd8\u662f\u6781\u5176\u65b9\u4fbf\u7684\uff0c\u4f8b\u5982\uff1a",(0,o.kt)("inlineCode",{parentName:"li"},'<p style="color: XXX">YYY</p>')),(0,o.kt)("li",{parentName:"ol"},"\u8fd8\u6709\u4e00\u79cd\uff0c\u4e13\u5c5e\u4e8e markdown \u7684 ascii \u7801\u6e32\u67d3\u65b9\u6848\uff0c\u57fa\u4e8e github \u7684",(0,o.kt)("inlineCode",{parentName:"li"},"ascii2html"),"\u4ed3\u5e93\uff0c\u4e0d\u8fc7\u770b issue\uff0c\u8c8c\u4f3c\u529f\u80fd\u4e0d\u591f\u7a33\u5065\uff0c\u7136\u540e\u662f\u57fa\u4e8e c \u7684\uff0c\u6211\u4e0d\u600e\u4e48\u4f1a\u8fd0\u884c\u2026\u2026"))),(0,o.kt)("p",null,"ref:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"A few of different solutions : ",(0,o.kt)("a",d({parentName:"li"},{href:"https://www.studytonight.com/python-howtos/how-to-print-colored-text-in-python"}),"How to Print Colored Text in Python - Studytonight"))))}g.isMDXComponent=!0}}]);