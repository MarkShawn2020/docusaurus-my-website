"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[15123],{35318:(e,t,a)=>{a.d(t,{Zo:()=>o,kt:()=>u});var l=a(27378);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},p=Object.keys(e);for(l=0;l<p.length;l++)a=p[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(l=0;l<p.length;l++)a=p[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var r=l.createContext({}),s=function(e){var t=l.useContext(r),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},o=function(e){var t=s(e.components);return l.createElement(r.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var a=e.components,n=e.mdxType,p=e.originalType,r=e.parentName,o=c(e,["components","mdxType","originalType","parentName"]),d=s(a),u=n,k=d["".concat(r,".").concat(u)]||d[u]||m[u]||p;return a?l.createElement(k,i(i({ref:t},o),{},{components:a})):l.createElement(k,i({ref:t},o))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var p=a.length,i=new Array(p);i[0]=d;var c={};for(var r in t)hasOwnProperty.call(t,r)&&(c[r]=t[r]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var s=2;s<p;s++)i[s]=a[s];return l.createElement.apply(null,i)}return l.createElement.apply(null,a)}d.displayName="MDXCreateElement"},99399:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>h,contentTitle:()=>u,default:()=>g,frontMatter:()=>d,metadata:()=>k,toc:()=>f});var l=a(35318),n=Object.defineProperty,p=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,t,a)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,m=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&o(e,a,t[a]);if(c)for(var a of c(t))s.call(t,a)&&o(e,a,t[a]);return e};const d={},u="\u5fae\u4fe1\u6570\u636e\u5e93\u7834\u89e3",k={permalink:"/blog/2022/08/01/wechat-hack",editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/my-documents/blog/2022/08-01-wechat-hack.md",source:"@site/my-documents/blog/2022/08-01-wechat-hack.md",title:"\u5fae\u4fe1\u6570\u636e\u5e93\u7834\u89e3",description:"- \u9879\u76ee\u5c55\u793a",date:"2022-08-01T00:00:00.000Z",formattedDate:"2022/08/01",tags:[],readingTime:32.46,hasTruncateMarker:!1,authors:[],frontMatter:{},prevItem:{title:"\u5173\u4e8e\u53f0\u6e7e\u8fdb\u51fa\u53e3\u4e34\u65f6\u653f\u7b56\u4e0e\u5386\u53f2\u6570\u636e\u7684\u7814\u7a76",permalink:"/blog/2022/08/03/taiwan-data-research"},nextItem:{title:"\u672d\u8bb0 | \u6211\u4e0e\u6211\u5468\u65cb\u4e45\uff0c\u6211\u4ea6\u662f\u6211",permalink:"/blog/2022/07/11/prose-I-am-me"}},h={authorsImageUrls:[]},f=[{value:"\u9879\u76ee\u5c55\u793a",id:"\u9879\u76ee\u5c55\u793a",level:2},{value:"\u83b7\u53d6\u6240\u6709\u5fae\u4fe1\u597d\u53cb\u4fe1\u606f",id:"\u83b7\u53d6\u6240\u6709\u5fae\u4fe1\u597d\u53cb\u4fe1\u606f",level:3},{value:"\u5bfc\u51fa\u4e0e\u5fae\u4fe1\u597d\u53cb\u7684\u804a\u5929\u8bb0\u5f55",id:"\u5bfc\u51fa\u4e0e\u5fae\u4fe1\u597d\u53cb\u7684\u804a\u5929\u8bb0\u5f55",level:3},{value:"\u76d1\u63a7\u5b9e\u65f6\u804a\u5929",id:"\u76d1\u63a7\u5b9e\u65f6\u804a\u5929",level:3},{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:3},{value:"\u52a8\u673a\u80cc\u666f",id:"\u52a8\u673a\u80cc\u666f",level:2},{value:"\u6280\u672f\u6982\u89c8",id:"\u6280\u672f\u6982\u89c8",level:2},{value:"github search until <code>wechat-decipher-macos</code>",id:"github-search-until-wechat-decipher-macos",level:3},{value:"<code>macos/eavesdropper.d</code>",id:"macoseavesdropperd",level:3},{value:"<code>macos/dbcracker.d</code>",id:"macosdbcrackerd",level:3},{value:"<code>pcbakchat/gather.d</code>",id:"pcbakchatgatherd",level:3},{value:"<code>devel/xlogger.d</code>",id:"develxloggerd",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:3},{value:"update@2022-02-08: \u5173\u4e8e\u52a0\u5bc6\u5b57\u6bb5",id:"update2022-02-08-\u5173\u4e8e\u52a0\u5bc6\u5b57\u6bb5",level:3},{value:"reference",id:"reference",level:2},{value:"\u5404\u5927\u5e73\u53f0\u4ed3\u5e93\u5408\u96c6",id:"\u5404\u5927\u5e73\u53f0\u4ed3\u5e93\u5408\u96c6",level:3},{value:"mac \u7248",id:"mac-\u7248",level:3},{value:"windows \u7248",id:"windows-\u7248",level:3},{value:"ios \u7248",id:"ios-\u7248",level:3},{value:"<code>sqlcipher</code> \u76f8\u5173",id:"sqlcipher-\u76f8\u5173",level:3},{value:"<code>pragma</code> \u76f8\u5173",id:"pragma-\u76f8\u5173",level:3},{value:"<code>frida</code> \u76f8\u5173",id:"frida-\u76f8\u5173",level:3},{value:"hack manual",id:"hack-manual",level:2},{value:"download sqlite",id:"download-sqlite",level:3},{value:"test sqlite",id:"test-sqlite",level:3},{value:"install <code>openssl</code> to replace the built-in <code>libressl</code> on MacOS",id:"install-openssl-to-replace-the-built-in-libressl-on-macos",level:3},{value:"install <code>openssl</code> via <code>brew</code>",id:"install-openssl-via-brew",level:4},{value:"config <code>openssl</code> into path",id:"config-openssl-into-path",level:4},{value:"confirm openssl",id:"confirm-openssl",level:4},{value:"compile <code>sqlcipher</code>",id:"compile-sqlcipher",level:3},{value:"UPDATE: \u9759\u6001\u7f16\u8bd1",id:"update-\u9759\u6001\u7f16\u8bd1",level:3},{value:"test <code>sqlcipher</code> workflow",id:"test-sqlcipher-workflow",level:3},{value:"step 1. crypto a plain database (which is generated by our <code>sqlite</code> before)",id:"step-1-crypto-a-plain-database-which-is-generated-by-our-sqlite-before",level:4},{value:"step2. test: operate on an encrypted database without key (expect: failure)",id:"step2-test-operate-on-an-encrypted-database-without-key-expect-failure",level:4},{value:"step3. test: dump the encrypted database into plain with key (expect: success)",id:"step3-test-dump-the-encrypted-database-into-plain-with-key-expect-success",level:4},{value:"step4. test: open the decrypted database without key (expect: success)",id:"step4-test-open-the-decrypted-database-without-key-expect-success",level:4},{value:"\u2728\u2728 decrypt database",id:"-decrypt-database",level:3},{value:"DEPRECIATED: pragma config of sqlcipher 3 defaults",id:"depreciated-pragma-config-of-sqlcipher-3-defaults",level:4},{value:"BEST-PRACTICE: pragma config of sqlcipher 3 defaults",id:"best-practice-pragma-config-of-sqlcipher-3-defaults",level:4},{value:"check salt of specific database file",id:"check-salt-of-specific-database-file",level:4},{value:"decrypt and dump specific database file",id:"decrypt-and-dump-specific-database-file",level:4},{value:"test dumped database file (via <code>sqlcipher</code> or <code>sqlite3</code>)",id:"test-dumped-database-file-via-sqlcipher-or-sqlite3",level:4},{value:"wechat design",id:"wechat-design",level:2},{value:"design of contact fields",id:"design-of-contact-fields",level:3},{value:"design of user id to contact id: <code>md5</code>",id:"design-of-user-id-to-contact-id-md5",level:3},{value:"IMPROVE: get self id",id:"improve-get-self-id",level:3},{value:"TODO: get image from xml",id:"todo-get-image-from-xml",level:3},{value:"py-sqlcipher instruction",id:"py-sqlcipher-instruction",level:2},{value:"compile",id:"compile",level:3},{value:"connection",id:"connection",level:3},{value:"table",id:"table",level:3},{value:"list all the tables",id:"list-all-the-tables",level:4},{value:"list the columns of table (get table schema)",id:"list-the-columns-of-table-get-table-schema",level:4},{value:"format rows display",id:"format-rows-display",level:4},{value:"list rows in one table",id:"list-rows-in-one-table",level:4},{value:"extended",id:"extended",level:2},{value:"how to know my openssl version/info",id:"how-to-know-my-openssl-versioninfo",level:3},{value:"bugfix: <code>error: C compiler cannot create executables</code>",id:"bugfix-error-c-compiler-cannot-create-executables",level:3},{value:"\u672c\u9879\u76ee\u5408\u4f5c\u4f19\u4f34",id:"\u672c\u9879\u76ee\u5408\u4f5c\u4f19\u4f34",level:2}],b={toc:f};function g(e){var t,a=e,{components:n}=a,o=((e,t)=>{var a={};for(var l in e)r.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&c)for(var l of c(e))t.indexOf(l)<0&&s.call(e,l)&&(a[l]=e[l]);return a})(a,["components"]);return(0,l.kt)("wrapper",(t=m(m({},b),o),p(t,i({components:n,mdxType:"MDXLayout"}))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E9%A1%B9%E7%9B%AE%E5%B1%95%E7%A4%BA"}),"\u9879\u76ee\u5c55\u793a"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E5%BE%AE%E4%BF%A1%E5%A5%BD%E5%8F%8B%E4%BF%A1%E6%81%AF"}),"\u83b7\u53d6\u6240\u6709\u5fae\u4fe1\u597d\u53cb\u4fe1\u606f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E5%AF%BC%E5%87%BA%E4%B8%8E%E5%BE%AE%E4%BF%A1%E5%A5%BD%E5%8F%8B%E7%9A%84%E8%81%8A%E5%A4%A9%E8%AE%B0%E5%BD%95"}),"\u5bfc\u51fa\u4e0e\u5fae\u4fe1\u597d\u53cb\u7684\u804a\u5929\u8bb0\u5f55")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E7%9B%91%E6%8E%A7%E5%AE%9E%E6%97%B6%E8%81%8A%E5%A4%A9"}),"\u76d1\u63a7\u5b9e\u65f6\u804a\u5929")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E5%85%B6%E4%BB%96"}),"\u5176\u4ed6")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E5%8A%A8%E6%9C%BA%E8%83%8C%E6%99%AF"}),"\u52a8\u673a\u80cc\u666f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E6%8A%80%E6%9C%AF%E6%A6%82%E8%A7%88"}),"\u6280\u672f\u6982\u89c8"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#github-search-until-wechat-decipher-macos"}),"github search until ",(0,l.kt)("inlineCode",{parentName:"a"},"wechat-decipher-macos"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#macoseavesdropperd"}),(0,l.kt)("inlineCode",{parentName:"a"},"macos/eavesdropper.d"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#macosdbcrackerd"}),(0,l.kt)("inlineCode",{parentName:"a"},"macos/dbcracker.d"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#pcbakchatgatherd"}),(0,l.kt)("inlineCode",{parentName:"a"},"pcbakchat/gather.d"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#develxloggerd"}),(0,l.kt)("inlineCode",{parentName:"a"},"devel/xlogger.d"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E6%80%BB%E7%BB%93"}),"\u603b\u7ed3")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#update2022-02-08-%E5%85%B3%E4%BA%8E%E5%8A%A0%E5%AF%86%E5%AD%97%E6%AE%B5"}),"update@2022-02-08: \u5173\u4e8e\u52a0\u5bc6\u5b57\u6bb5")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#reference"}),"reference"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E5%90%84%E5%A4%A7%E5%B9%B3%E5%8F%B0%E4%BB%93%E5%BA%93%E5%90%88%E9%9B%86"}),"\u5404\u5927\u5e73\u53f0\u4ed3\u5e93\u5408\u96c6")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#mac%E7%89%88"}),"mac \u7248")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#windows%E7%89%88"}),"windows \u7248")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#ios%E7%89%88"}),"ios \u7248")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#sqlcipher-%E7%9B%B8%E5%85%B3"}),(0,l.kt)("inlineCode",{parentName:"a"},"sqlcipher")," \u76f8\u5173")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#pragma-%E7%9B%B8%E5%85%B3"}),(0,l.kt)("inlineCode",{parentName:"a"},"pragma")," \u76f8\u5173")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#frida-%E7%9B%B8%E5%85%B3"}),(0,l.kt)("inlineCode",{parentName:"a"},"frida")," \u76f8\u5173")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#hack-manual"}),"hack manual"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#download-sqlite"}),"download sqlite")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#test-sqlite"}),"test sqlite")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#install-openssl-to-replace-the-built-in-libressl-on-macos"}),"install ",(0,l.kt)("inlineCode",{parentName:"a"},"openssl")," to replace the built-in ",(0,l.kt)("inlineCode",{parentName:"a"},"libressl")," on MacOS"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#install-openssl-via-brew"}),"install ",(0,l.kt)("inlineCode",{parentName:"a"},"openssl")," via ",(0,l.kt)("inlineCode",{parentName:"a"},"brew"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#config-openssl-into-path"}),"config ",(0,l.kt)("inlineCode",{parentName:"a"},"openssl")," into path")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#confirm-openssl"}),"confirm openssl")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#compile-sqlcipher"}),"compile ",(0,l.kt)("inlineCode",{parentName:"a"},"sqlcipher"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#update-%E9%9D%99%E6%80%81%E7%BC%96%E8%AF%91"}),"UPDATE: \u9759\u6001\u7f16\u8bd1")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#test-sqlcipher-workflow"}),"test ",(0,l.kt)("inlineCode",{parentName:"a"},"sqlcipher")," workflow"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#step-1-crypto-a-plain-database-which-is-generated-by-our-sqlite-before"}),"step 1. crypto a plain database (which is generated by our ",(0,l.kt)("inlineCode",{parentName:"a"},"sqlite")," before)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#step2-test-operate-on-an-encrypted-database-without-key-expect-failure"}),"step2. test: operate on an encrypted database without key (expect: failure)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#step3-test-dump-the-encrypted-database-into-plain-with-key-expect-success"}),"step3. test: dump the encrypted database into plain with key (expect: success)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#step4-test-open-the-decrypted-database-without-key-expect-success"}),"step4. test: open the decrypted database without key (expect: success)")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#sparklessparkles-decrypt-database"}),"\u2728\u2728 decrypt database"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#depreciated-pragma-config-of-sqlcipher-3-defaults"}),"DEPRECIATED: pragma config of sqlcipher 3 defaults")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#best-practice-pragma-config-of-sqlcipher-3-defaults"}),"BEST-PRACTICE: pragma config of sqlcipher 3 defaults")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#check-salt-of-specific-database-file"}),"check salt of specific database file")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#decrypt-and-dump-specific-database-file"}),"decrypt and dump specific database file")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#test-dumped-database-file-via-sqlcipher-or-sqlite3"}),"test dumped database file (via ",(0,l.kt)("inlineCode",{parentName:"a"},"sqlcipher")," or ",(0,l.kt)("inlineCode",{parentName:"a"},"sqlite3"),")")))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#wechat-design"}),"wechat design"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#design-of-contact-fields"}),"design of contact fields")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#design-of-user-id-to-contact-id-md5"}),"design of user id to contact id: ",(0,l.kt)("inlineCode",{parentName:"a"},"md5"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#improve-get-self-id"}),"IMPROVE: get self id")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#todo-get-image-from-xml"}),"TODO: get image from xml")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#py-sqlcipher-instruction"}),"py-sqlcipher instruction"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#compile"}),"compile")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#connection"}),"connection")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#table"}),"table"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#list-all-the-tables"}),"list all the tables")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#list-the-columns-of-table-get-table-schema"}),"list the columns of table (get table schema)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#format-rows-display"}),"format rows display")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#list-rows-in-one-table"}),"list rows in one table")))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#extended"}),"extended"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#how-to-know-my-openssl-versioninfo"}),"how to know my openssl version/info")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#bugfix-error-c-compiler-cannot-create-executables"}),"bugfix: ",(0,l.kt)("inlineCode",{parentName:"a"},"error: C compiler cannot create executables"))))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"#%E6%9C%AC%E9%A1%B9%E7%9B%AE%E5%90%88%E4%BD%9C%E4%BC%99%E4%BC%B4"}),"\u672c\u9879\u76ee\u5408\u4f5c\u4f19\u4f34"))),(0,l.kt)("h2",m({},{id:"\u9879\u76ee\u5c55\u793a"}),"\u9879\u76ee\u5c55\u793a"),(0,l.kt)("h3",m({},{id:"\u83b7\u53d6\u6240\u6709\u5fae\u4fe1\u597d\u53cb\u4fe1\u606f"}),"\u83b7\u53d6\u6240\u6709\u5fae\u4fe1\u597d\u53cb\u4fe1\u606f"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644136070132-9386a758919031c4082e3fd702273d38499aa3157ce2906861583e87a0f7d41a.png",alt:"picture 86"}))),(0,l.kt)("p",null,"derived from hacked db: ",(0,l.kt)("inlineCode",{parentName:"p"},"Contact/wccontact_new2.db")),(0,l.kt)("h3",m({},{id:"\u5bfc\u51fa\u4e0e\u5fae\u4fe1\u597d\u53cb\u7684\u804a\u5929\u8bb0\u5f55"}),"\u5bfc\u51fa\u4e0e\u5fae\u4fe1\u597d\u53cb\u7684\u804a\u5929\u8bb0\u5f55"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644136499656-9a9e5597f347af566ceba6f711c905b58bf81370b11c9b551df3ceed6dbe3e10.png",alt:"picture 87"}))),(0,l.kt)("p",null,"derived from hacked dbs: ",(0,l.kt)("inlineCode",{parentName:"p"},"Message/msg_*.db")),(0,l.kt)("h3",m({},{id:"\u76d1\u63a7\u5b9e\u65f6\u804a\u5929"}),"\u76d1\u63a7\u5b9e\u65f6\u804a\u5929"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644136566951-029db895a57dcce825b718f2c02eb4442595ca622b30dc304b0730ca43c83a45.png",alt:"picture 88"}))),(0,l.kt)("p",null,"derived from real-time terminal"),(0,l.kt)("h3",m({},{id:"\u5176\u4ed6"}),"\u5176\u4ed6"),(0,l.kt)("h2",m({},{id:"\u52a8\u673a\u80cc\u666f"}),"\u52a8\u673a\u80cc\u666f"),(0,l.kt)("p",null,"\u4e00\u5207\uff0c\u90fd\u8981\u4ece\u5357\u5ddd\u7684\u8ba1\u7b97\u673a\u5c0f\u7fa4\u91cc ",(0,l.kt)("inlineCode",{parentName:"p"},"Shining Lavender")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Le Penseur")," \u540c\u5b66\u804a\u5230\u201c\u7231\u201d\u8fd9\u4e2a\u9ad8\u6df1\u7684\u8bdd\u9898\uff0c\u7ee7\u800c\u804a\u5230\u4e86\u201csoulmate\u201d\uff0c\u800c\u6211\u6700\u8fd1\u6070\u597d\u770b\u4e86\u300aIntouchables\u300b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644105366255-7f103adb1dbc36f747db75146f8585756fb59d54ea52e5bf60df4ee4f24ec24b.png",alt:"picture 66"}))),(0,l.kt)("p",null,"\u6240\u4ee5\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Le Penseur")," \u540c\u5b66\u4e00\u4e0b\u63a2\u8ba8\u5230\u4e86\u51cc\u6668\u2026\u2026"),(0,l.kt)("p",null,"\u4e0a\u534a\u573a\u521a\u7ed3\u675f\uff0c\u57fa\u53cb\u7fa4\u8868\u793a\u5bf9\u8fd9\u4e2a\u8bdd\u9898\u4e5f\u5f88\u611f\u5174\u8da3\uff0c\u9042\u6211\u4eec\u53c8\u6765\u56de\u809d\u5b8c\u4e86\u534a\u4e2a\u901a\u5bb5\u3002"),(0,l.kt)("p",null,"\u4e0b\u534a\u573a\u4e5f\u7ed3\u675f\u540e\uff0c\u6211\u53d1\u73b0\u6211\u5f88\u60f3\u628a\u8fd9\u4e9b\u95ea\u70c1\u667a\u6167\u4e0e\u601d\u8003\u3001\u5f6d\u62dc\u7740\u8377\u5c14\u8499\u4e0e\u4f24\u611f\u7684\u9752\u6625\u6587\u5b57\u8bb0\u5f55\u6574\u7406\u4e0b\u6765\uff0c\u4f46\u662f\u65e0\u5948\u5fae\u4fe1\u672a\u80fd\u63d0\u4f9b\u6ee1\u8db3\u6211\u8fd9\u79cd\u9700\u6c42\u7684\u4fbf\u5229\u3002"),(0,l.kt)("p",null,"\u81ea\u7136\u800c\u7136\u5730\uff0c\u4f5c\u4e3a\u4e00\u540d\u5408\u683c\u7684\u7a0b\u5e8f\u5458\uff0c\u5175\u6765\u5c06\u6321\u6c34\u6765\u571f\u63a9\uff0c\u6211\u4eec\u53c8\u4e0a\u573a\u4e86\u2026\u2026"),(0,l.kt)("p",null,"\u5386\u65f6\u4e00\u5929\uff0c\u5f7b\u5e95\u62ff\u4e0b\uff01"),(0,l.kt)("h2",m({},{id:"\u6280\u672f\u6982\u89c8"}),"\u6280\u672f\u6982\u89c8"),(0,l.kt)("p",null,"\u601d\u8def\u8fd8\u662f\u6bd4\u8f83\u901a\u7528\u7684\u3002"),(0,l.kt)("h3",m({},{id:"github-search-until-wechat-decipher-macos"}),"github search until ",(0,l.kt)("inlineCode",{parentName:"h3"},"wechat-decipher-macos")),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u7b2c\u4e00\u6b65\uff0c\u53bb ",(0,l.kt)("inlineCode",{parentName:"p"},"github")," \u641c\u7d22\u662f\u5426\u5df2\u7ecf\u6709\u7834\u89e3\u5fae\u4fe1\u804a\u5929\u8bb0\u5f55\u76f8\u5173\u7684\u5f00\u6e90\u4ed3\u5e93\uff0c\u7ed3\u679c\uff0c\u5e94\u6709\u5c3d\u6709\uff0c\u4e00\u5e94\u5c3d\u5168 - ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/search?q=wechat+history"}),"Search \xb7 wechat history"),"\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644107134293-92350d3d13791ae819981fdc8c57d10005f87b3a67af3d83477ca6170566d38d.png",alt:"picture 68"}))),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u81f3\u5c11\u5728\u8fd9\u4e00\u9875\u524d\u51e0\u4e2a\u4ed3\u5e93\u4e2d\uff0c\u5b89\u5353\u3001iOS\u3001mac \u90fd\u6709\uff0cwindows \u5012\u4e0d\u786e\u5b9a\u3002"),(0,l.kt)("p",null,"\u6211\u76ee\u524d\u624b\u673a\u7528\u7684\u662f\u5b89\u5353\uff0c\u7535\u8111\u662f mac\uff0c\u4f46\u6211\u7528\u7535\u8111\u6bd4\u8f83\u591a\uff0c\u6240\u4ee5\u6211\u503e\u5411\u4e8e\u9009\u62e9 mac \u7684\u65b9\u6848\uff0c\u4e8e\u662f\u7b2c\u4e00\u9009\u62e9\u8fd9\u4e2a\u4ed3\u5e93 - ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/nalzok/wechat-decipher-macos"}),"nalzok/wechat-decipher-macos: Scripts to extract chat history from WeChat on macOS")),(0,l.kt)("p",null,"\u4e0d\u8fc7\u8fd9\u4e2a\u4ed3\u5e93\uff0c\u8d77\u624b\u96be\u5ea6\u53ef\u4e0d\u4f4e\uff0c\u4ed3\u5e93\u4ecb\u7ecd\u5341\u5206\u7b80\u7ec3\uff0c\u4f46\u771f\u7684\u662f\u5b57\u5b57\u73e0\u7391\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644107483092-cfb440bb5ad7cb61932c7d7f68c796bc966e40a97e3afec36f715c951008a13e.png",alt:"picture 70"}))),(0,l.kt)("p",null,"\u5bf9\u4e8e\u7528\u6237\uff08\u6211\uff09\u6765\u8bf4\uff0c\u8fd9\u4e2a\u4ed3\u5e93\u7684\u4e3b\u8981\u529f\u80fd\u5728\u524d\u4e09\u8005\uff0c\u4e00\u5b9a\u8981\u4ed4\u7ec6\u7406\u89e3\uff0c\u6bcf\u4e2a\u5b57\u90fd\u5f88\u5b9d\u8d35\uff1a"),(0,l.kt)("h3",m({},{id:"macoseavesdropperd"}),(0,l.kt)("inlineCode",{parentName:"h3"},"macos/eavesdropper.d")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"macos/eavesdropper.d"),"\u662f\u7528\u4e8e\u5b9e\u65f6\u3001\u9ad8\u901f\u6253\u5370\u5fae\u4fe1\u4e0e\u6570\u636e\u5e93\u4e4b\u95f4\u7684\u4fe1\u606f\u6d41\u7684\uff0c\u5177\u4f53\u4ec0\u4e48\u6837\u5b50\u5462\uff1f\u6211\u8fd0\u884c\u4e00\u4e0b\u7ed9\u4f60\u4eec\u770b\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644108103693-89dccd5c3c7ffd9fa7fcd17120f0a21253dff4a8a8fbe9a28003ae06e6acd5e2.png",alt:"picture 72"}))),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644108029952-190572feae187736fdd39670cdd6c0530ca02d572880ef6567b45a92937710e2.png",alt:"picture 71"}))),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u5728\u5fae\u4fe1\u4e2d\u53d1\u9001\u7684\u804a\u5929\u5185\u5bb9\uff0c\u4f1a\u88ab\u660e\u6587\u663e\u793a\u5230\u63a7\u5236\u53f0\u4e2d\uff0c\u5e76\u4e14\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u70b9\u88ab\u6253\u5370\u4e86\u4e24\u904d\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u8fd9\u4e0d\u662f\u5fae\u4fe1\u81ea\u5df1\u6253\u5370\u7684\uff0c\u662f\u6211\u4eec\uff08\u4ed6\u7684\uff09\u811a\u672c\u6253\u7684\uff0c\u5e76\u4e14\u628a\u7ed3\u6784\u4f53\u90fd\u6253\u51fa\u6765\u4e86\uff0c\u8fd9\u4e2a\u7ed3\u6784\u4f53\u548c\u6700\u7ec8\u5b58\u5230\u6570\u636e\u5e93\u91cc\u7684\u6570\u636e\u7ed3\u6784\u57fa\u672c\u662f\u5dee\u4e0d\u591a\u7684\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u8fd9\u662f\u6211\u4eec\u6570\u636e\u5e93\u4e2d\u7684\u6837\u5b50\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644108568767-1a6f573f038fc329ebc643aa5d2cae05060209952f9da6572cb7f693e5d866e0.png",alt:"picture 73"}))),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u7531\u4e8e\u8fd9\u662f\u7528\u4e8e\u5b9e\u65f6\u7684\uff0c\u4e5f\u5c31\u662f\u8fc7\u53bb\u7684\u5c31\u6ca1\u6709\u4e86\uff0c\u6240\u4ee5\u4e0d\u6ee1\u8db3\u6211\u7684\u9700\u6c42\uff0c\u56e0\u4e3a\u6211\u4e5f\u6ca1\u6709\u6df1\u7a76\u8fd9\u4e2a\u811a\u672c\uff08\u6bd4\u5982\u4e3a\u5565\u6253\u5370\u4e24\u6b21\uff0c\u5f3a\u8feb\u75c7\u7684\u6211\u63a5\u53d7\u4e0d\u4e86\uff0c\u81f3\u5c11\u63a5\u53d7\u4e0d\u4e86\u8fd9\u4e48\u5927\u9762\u79ef\u7684\u5197\u4f59\uff09\u3002"),(0,l.kt)("h3",m({},{id:"macosdbcrackerd"}),(0,l.kt)("inlineCode",{parentName:"h3"},"macos/dbcracker.d")),(0,l.kt)("p",null,"\u5176\u5b9e\u6211\u4e00\u5f00\u59cb\u6ca1\u6709\u770b\u61c2",(0,l.kt)("inlineCode",{parentName:"p"},"macos/dbcracker.d"),"\u8fd9\u4e2a\u811a\u672c\u7528\u6765\u5e72\u5565\u7684\uff0c\u5e76\u4e14\u4ee5\u4e3a\u7b2c\u56db\u4e2a\u811a\u672c",(0,l.kt)("inlineCode",{parentName:"p"},"devel/xlogger.d"),"\u624d\u662f\u6211\u7684\u76ee\u6807\uff0c\u4f46\u663e\u7136\uff0c\u8fd9\u4e2a\u60f3\u6cd5\u9519\u7684\u79bb\u8c31\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"cracker"),"\u662f\u201c\u6495\u88c2\u8005\u201d\u7684\u610f\u601d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"dbcracker"),"\u5c31\u662f\u201c\u6570\u636e\u5e93\u6495\u88c2\u8005\u201d\uff0c\u542c\u8d77\u6765\u8fd8\u662f\u5f88\u53ef\u6015\u5427\uff01"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u771f\u5730\u5f88\u53ef\u6015 \uff01")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u800c\u4e14\uff0c\u6211\u540e\u7eed\u6240\u6709\u7684\u5de5\u4f5c\u90fd\u662f\u57fa\u4e8e\u5b83\u5b8c\u6210\u7684\uff01")),(0,l.kt)("p",null,"\u4f46\u5b83\u7684\u64cd\u4f5c\uff0c\u5c31\u6ca1\u6709\u7b2c\u4e00\u4e2a\u811a\u672c ",(0,l.kt)("inlineCode",{parentName:"p"},"macos/eavesdropper.d"),"\u90a3\u4e48\u5bb9\u6613\u4e0a\u624b\u4e86\u3002"),(0,l.kt)("p",null,"\u9996\u5148\uff0c\u6ce8\u610f\u5b83\u7684\u63cf\u8ff0\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"Since it can only capture secrets when WeChat.app opens these files, you need to perform a login while the script is running."),"\uff0c\u4e5f\u5c31\u662f\u4f60\u9700\u8981\u5148\u8fd0\u884c\u811a\u672c\uff0c\u7136\u540e\u91cd\u542f\u5fae\u4fe1\uff0c\u624d\u80fd\u770b\u5230\u6548\u679c\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\u7ecf\u8fc7\u6211\u7684\u6d4b\u8bd5\uff0c\u6b63\u786e\u6d41\u7a0b\u662f\u8fd9\u6837\u7684\uff0c\u5148\u9000\u51fa\u5fae\u4fe1\u767b\u5f55\uff08\u6216\u8005\u76f4\u63a5\u6740\u6389\uff0c\u7136\u540e\u542f\u52a8\uff09\uff0c\u4fdd\u7559\u5fae\u4fe1\u5728\u767b\u5f55\u754c\u9762\uff08\u4f46\u8fd8\u6ca1\u6709\u767b\u5f55\uff09\uff0c\u63a5\u7740\u8fd0\u884c\u811a\u672c\uff08\u5426\u5219\u4f1a\u62a5\u57fa\u4e8e\u6ca1\u6709\u8fdb\u7a0b\u5bfc\u81f4\u7684\u540e\u7eed\u9519\u8bef\uff09\uff0c\u7136\u540e\u626b\u7801\u767b\u5f55\u6210\u529f\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u80fd\u98de\u901f\u5730\u770b\u5230\u547d\u4ee4\u884c\u6709\u5f88\u591a\u6570\u636e\u5728\u8dd1\u4e86\uff0c\u5176\u5b9e\u5c31\u662f\u5fae\u4fe1\u6240\u6709\uff08\u5927\u90e8\u5206\uff09\u7684\u6570\u636e\u5e93\u7684\u6587\u4ef6\u4f4d\u7f6e\u3001\u79d8\u94a5\u3001\u53c2\u6570\u7b49\u3002"),(0,l.kt)("p",null,"\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u79d8\u94a5\u662f\u7528\u6765\u5e72\u5565\u7684\u3002"),(0,l.kt)("p",null,"\u4e00\u822c\u7528\u60ef\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"mysql"),"\u6216\u8005",(0,l.kt)("inlineCode",{parentName:"p"},"mongodb"),"\u4e4b\u7c7b\u6570\u636e\u5e93\u7684\u4eba\uff08\u522b\u201d\u4eba\u201c\u4e86\uff0c\u5c31\u662f\u6211\uff09\uff0c\u5176\u5b9e\u6839\u672c\u4e0d\u77e5\u9053\u8fd9\u4e2a\u79d8\u94a5\uff08\u65e2\u7136\u4e0d\u662f\u7528\u6237\u5bc6\u7801\uff09\u7528\u6765\u5e72\u561b\uff0c\u8fd9\u624d\u662f\u672c\u9879\u76ee\u7684\u7b2c\u4e00\u5927\u96be\u70b9\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u65f6\u5019\uff0c\u7ec6\u5fc3\u5730\u8bfb\u4e0b\u4e00\u53e5\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"Simply copy & paste the script output to invoke SQLCipher and supply the respective PRAGMAs."),"\uff0c\u7ffb\u8bd1\u8fc7\u6765\u5c31\u662f\uff0c\u628a\u547d\u4ee4\u884c\u7684\u8f93\u7b80\u5355\u5730\u51fa\u590d\u5236\u7c98\u8d34\uff0c\u5df2\u542f\u52a8",(0,l.kt)("inlineCode",{parentName:"p"},"SQLCipher"),"\u5e76\u5206\u522b\u7528\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"PRAGMA"),"\u3002"),(0,l.kt)("p",null,"\u5f88\u7ed5\uff0c\u4e5f\u4e00\u8138\u61f5\u903c\u662f\u4e0d\uff0c\u662f\u5c31\u5bf9\u4e86\uff01"),(0,l.kt)("p",null,"\u7b54\u6848\u5728\u90a3\u4e2a\u8d85\u94fe\u63a5 ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/sqlcipher/sqlcipher"}),"sqlcipher/sqlcipher: SQLCipher is a standalone fork of SQLite that adds 256 bit AES encryption of database files and other security features.")," \u4e0a\uff0c\u6240\u4ee5\u4f60\u4e3a\u4e86\u4f7f\u7528 A \u9879\u76ee\uff0c\u4e0d\u5f97\u4e0d\u53bb\u5148\u5543 B \u9879\u76ee\u4e86\u3002"),(0,l.kt)("p",null,"\u4f46\u5b9e\u9645\u4e0a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\u66f4\u96be\u770b\u61c2\uff0c\u5c24\u5176\u662f\u4e00\u4e0a\u6765\u5c31\u6559\u4f60\u600e\u4e48\u7f16\u8bd1\uff0c\u975e\u5e38\u786c\u6838\uff08\u7136\u800c\u8fd8\u6709\u5751\uff09\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644109309058-9d622be690c067975eaea80a80f4a42c9499abc22492987a84ac599e8df57cc1.png",alt:"picture 74"}))),(0,l.kt)("p",null,"\u7f16\u5c31\u7f16\u5427\uff0c\u8fd8\u6709\u4f9d\u8d56\uff0c\u770b\u770b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-text"}),"You must define SQLITE_HAS_CODEC and either SQLITE_TEMP_STORE=2 or SQLITE_TEMP_STORE=3\nYou will need to link against a support cryptographic provider (OpenSSL, LibTomCrypt, CommonCrypto/Security.framework, or NSS)\n")),(0,l.kt)("p",null,"\u8ba9\u6211\u4eec\u5b9a\u4e49\u53d8\u91cf\uff08\u4e00\u5f00\u59cb\u4ee5\u4e3a\u662f\u73af\u5883\u53d8\u91cf\uff0c\u540e\u6765\u53d1\u73b0\u662f\u5934\u6587\u4ef6\u5185\u90e8\u53d8\u91cf\uff09\uff0c\u8fd8\u8981\u94fe\u63a5\u4e00\u4e2a\u52a0\u5bc6\u5e93\u2026\u2026"),(0,l.kt)("p",null,"\u4e00\u8138\u61f5\u903c\u5427\u3002"),(0,l.kt)("p",null,"\u6211\u4e00\u5f00\u59cb\u4e5f\u770b\u4e0d\u61c2\uff0c\u7136\u540e\u778e\u7f16\u4e86\u4e00\u4e0b\u3002"),(0,l.kt)("p",null,"\u7ed3\u679c\u679c\u7136\u62a5\u9519\u4e86\u2026\u2026"),(0,l.kt)("p",null,"\u63a5\u7740\u5c31\u4e00\u987f\u4e71\u641c\uff0c\u7136\u540e\u627e\u5230\u4e86\u5bf9\u672c\u9879\u76ee\u5f71\u54cd\u6700\u5927\u7684\u4e00\u7bc7\u535a\u5ba2\uff1a- ",(0,l.kt)("a",m({parentName:"p"},{href:"https://blog.csdn.net/u011195398/article/details/85266214"}),"(25 \u6761\u6d88\u606f) Mac \u7ec8\u7aef\u4f7f\u7528 Sqlcipher \u52a0\u89e3\u5bc6\u57fa\u7840\u8fc7\u7a0b\u8be6\u89e3","_","Martin.Mu `s Special Column-CSDN \u535a\u5ba2","_","mac sqlcipher"),"\u3002"),(0,l.kt)("p",null,"\u8fd9\u4e2a\u4e8b\u5b9e\u5145\u5206\u8bc1\u660e\uff0c\u53ea\u8981\u4f60\u60f3\u5e72\u7684\u4e8b\u60c5\u8db3\u591f\u5927\u4f17\uff0c\u4f60\u5c31\u80fd\u627e\u5230\u975e\u5e38\u4e0d\u9519\u7684\u4f19\u4f34\uff0c\u6216\u8005\u8bf4\uff0c\u524d\u8f88\u3002"),(0,l.kt)("p",null,"\u8be5\u6587\u7ae0\u57fa\u672c\u5305\u62ec\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\u5982\u4f55\u7f16\u8bd1\u3001\u5b89\u88c5\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\uff08\u975e\u5e38\u524d\u77bb\u6027\u5730\uff09\u89e3\u51b3\u4e86\u91cc\u9762\u7684\u4e00\u4e9b\u5751\uff0c\u8282\u7701\u4e86\u6211\u53ef\u671f\u7684\u5f88\u591a\u65f6\u95f4\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644130239719-433993ab017e150fd403cf6f0fe102a3602183aa1ae9a2ecea6a158d8b1fda6e.png",alt:"picture 75"}))),(0,l.kt)("p",null,"\u57fa\u4e8e\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u719f\u6089\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u7684\u4f7f\u7528\uff0c\u610f\u8bc6\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3")," \u7684\u52a0\u5bc6\u7248\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u53ef\u4ee5\u72ec\u7acb\u5730\u7528\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"KEY"),"\u52a0\u5bc6\uff0c\u7136\u540e\u8fd8\u53ef\u4ee5\u89e3\u5bc6\uff0c\u5e76\u5bfc\u51fa\u65e0\u52a0\u5bc6\u7248\u672c\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3"),"\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u5728\u90a3\u4e4b\u540e\uff0c\u6211\u624d\u771f\u6b63\u5730\u610f\u8bc6\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"macos/dbcracker.d")," \u662f\u7528\u6765\u5e72\u4ec0\u4e48\u7684\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7528\u8be5\u811a\u672c\uff0c\u901a\u8fc7\u76d1\u542c\u5fae\u4fe1\u542f\u52a8\u65f6\u6253\u5f00\u6570\u636e\u5e93\u7684\u52a8\u4f5c\uff0c\u66b4\u9732\u5fae\u4fe1\u6240\u6709\u6570\u636e\u5e93\u7684\u6587\u4ef6\u4f4d\u7f6e\u4e0e\u79d8\u94a5\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ol"},"\u63a5\u4e0b\u6765\u6570\u636e\u5e93\u79d8\u94a5\u90fd\u6709\u4e86\uff0c\u505a\u5565\u5c31\u53d6\u51b3\u4e8e\u81ea\u5df1\u4e86\uff0c\u6bd4\u5982\u8bf4\u628a\u6240\u6709\u597d\u53cb\u7684\u4fe1\u606f\u90fd\u5bfc\u51fa\u6210\u4e00\u5f20 excel \u8868\u8fd9\u79cd")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f\u8be5\u811a\u672c\u76d1\u63a7\u5230\u7684\u6570\u636e\u5e93\uff0c\u4e0e\u5fae\u4fe1\u5b9e\u9645\u6570\u636e\u5e93\u5bf9\u6bd4\u3002"),(0,l.kt)("p",null,"Almost all (especially the core ones, such as Contacts/Messages relative) the tables are tracked."),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644082483000-9d84d84536dbcbdcee54074954060a9d798375d608d3b1f67c60b4afcf5fd206.png",alt:"picture 54"}))),(0,l.kt)("p",null,"Hence, it's pretty good for our further work."),(0,l.kt)("p",null,"Also, the ",(0,l.kt)("inlineCode",{parentName:"p"},"db-list.txt")," is derived from:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644082665967-654ab2912014189f77101b76367871983ab657d7318233475a776c032ba756fe.png",alt:"picture 55"}))),(0,l.kt)("p",null,"And the ",(0,l.kt)("inlineCode",{parentName:"p"},"db-list-tracked.txt")," is derived from:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644082727437-9dff122b852aacc64580230804b033baf509e62fd1266f8b4d682369ff172228.png",alt:"picture 56"}))),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"track.log")," is derived from:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644082780616-f364e35190d91279aa6dd8346429605b7bbc93b8baae3c33a2b6487cd94dfd74.png",alt:"picture 57"}))),(0,l.kt)("h3",m({},{id:"pcbakchatgatherd"}),(0,l.kt)("inlineCode",{parentName:"h3"},"pcbakchat/gather.d")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u811a\u672c\u5176\u5b9e\u4e5f\u633a\u6709\u7528\u7684\uff0c\u5b83\u80fd\u6355\u83b7\u5907\u4efd\u65f6\u7684\u6570\u636e\u6d41\u3002"),(0,l.kt)("p",null,"\u5728\u8bf4\u8fd9\u4e2a\u4e4b\u524d\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u660e\u786e\u4e00\u4e0b\u5fae\u4fe1\u4e2d\u7684\u5907\u4efd\u662f\u5565\u610f\u601d\uff08\u5c24\u6307 mac \u5e73\u53f0\uff09\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\u662f\u8fd9\u6837\u7684\uff0c \u7531\u4e8e\u767b\u5f55\u8bbe\u5907\u5dee\u5f02\uff0c\u540c\u4e00\u4e2a\u5fae\u4fe1\u8d26\u6237\u5728\u4e0d\u540c\u8bbe\u5907\uff08win\u3001mac\u3001ios\u3001android\uff09\u4e0a\u7684\u804a\u5929\u8bb0\u5f55\u662f\u4e0d\u5b8c\u5168\u4e00\u81f4\u7684\uff0c\u4e00\u822c\u624b\u673a\u4e0a\u7684\u624d\u662f\u5b8c\u6574\u7684\uff0c\u7535\u8111\u4e0a\uff08\u5982\u679c\u4f60\u6ca1\u6709\u4e00\u76f4\u767b\uff09\u662f\u4e0d\u5b8c\u6574\u7684\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5 mac \u5e73\u53f0\u4e0a\u7684\u5907\u4efd\u5c31\u5305\u62ec"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4ece\u624b\u673a\u5907\u4efd\u5230 mac"),(0,l.kt)("li",{parentName:"ol"},"\u4ece mac \u5907\u4efd\u5230\u624b\u673a")),(0,l.kt)("p",null,"\u6211\u4e00\u5f00\u59cb\u4ee5\u4e3a\u5907\u4efd\u662f\u6307\u628a mac \u4e0a\u7684\u6570\u636e\u5907\u4efd\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6\u5939\u5185\uff0c\u8fd9\u4e2a\u7406\u89e3\u662f\u4e0d\u5bf9\u7684\uff0c\u5176\u5b9e\u5982\u679c\u53bb\u770b\u5fae\u4fe1\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u90e8\u5206\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u662f\u6709\u5355\u72ec\u7684",(0,l.kt)("inlineCode",{parentName:"p"},".db.bak"),"\u7684\uff0c\u5c3d\u7ba1\u4e0d\u5927\uff08\u4e5f\u8bb8\u91cc\u9762\u538b\u6839\u5c31\u6ca1\u6709\u5907\u4efd\u7684\u6570\u636e\uff0c\u6216\u8005\u662f\u538b\u7f29\u540e\u7684\uff09\uff0c\u4f46\u5fae\u4fe1\u786e\u5b9e\u90fd\u6709\u6570\u636e\u5e93\u7ea7\u522b\u5907\u4efd\u7684\u610f\u56fe\u3002"),(0,l.kt)("p",null,"\u90a3\u65e0\u8bba\u662f\u4ece\u624b\u673a\u5907\u4efd\u5230 mac \u8fd8\u662f\u4ece mac \u5907\u4efd\u5230\u624b\u673a\uff0c\u90fd\u6d89\u53ca\u5230\u4e24\u53f0\u673a\u5668\u4e4b\u524d\u901a\u4fe1\u7684\u95ee\u9898\uff0c\u518d\u660e\u786e\u4e00\u70b9\uff0c\u4ed6\u4eec\u8981\u5f7c\u6b64\u5728\u540c\u4e00\u4e2a\u5c40\u57df\u7f51\u5185\uff0c\u7528 socket \u8fdb\u884c\u6587\u4ef6\u4f20\u9001\u7684\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u5176\u5b9e ",(0,l.kt)("inlineCode",{parentName:"p"},"pcbakchat/gather.d"),"\u5c31\u662f\u52ab\u6301\u8fd9\u90e8\u5206\u5c40\u57df\u7f51\u901a\u4fe1\uff0c\u628a\u6240\u6709\u8981\u5907\u4efd\u7684\u804a\u5929\u8bb0\u5f55\u90fd\u66dd\u5149\u51fa\u6765\uff0c\u8fbe\u5230\u4e86\u7ed9\u6211\u4eec\u81ea\u5df1\u5904\u7406\u7684\u76ee\u7684\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u53ef\u4ee5\u89c1\u672c\u4ed3\u5e93\u5bf9\u5907\u4efd\u90e8\u5206\u7684\u8be6\u7ec6\u8bf4\u660e - ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/nalzok/wechat-decipher-macos/tree/main/devel"}),"wechat-decipher-macos/devel at main \xb7 nalzok/wechat-decipher-macos"),"\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644130960943-7e25936bcc8028c4eb34ffc5a2c09900211965a997718ded3f559f7fc6a7ae21.png",alt:"picture 76"}))),(0,l.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u8fd8\u662f\u6bd4\u8f83\u590d\u6742\u7684\uff0c\u6211\u4e00\u5f00\u59cb\u672c\u6765\u662f\u8d70\u7684\u8fd9\u4e2a\u601d\u8def\uff0c\u4f46\u662f\u5f53\u65f6\u6211\u8fd8\u6ca1\u5bf9\u5fae\u4fe1\u7684\u6570\u636e\u5e93\u6709\u8f83\u9ad8\u7684\u8ba4\u8bc6\uff0c\u6240\u4ee5\u5f53\u65f6\u8fd9\u4e2a\u65b9\u6848\u8dd1\u8d77\u6765\u4e86\u4f46\u662f\u6211\u6ca1\u7528\u3002"),(0,l.kt)("p",null,"\u5176\u5b9e\u8fd9\u4e2a\u65b9\u6848\u5e94\u8be5\u6700\u9002\u5408\u6211\u7684\u9700\u6c42\uff0c\u56e0\u4e3a\u6211\u60f3\u83b7\u5f97\u7684\u597d\u53cb/\u7fa4\u7ec4\u7684\u4fe1\u606f\u662f\u5df2\u77e5\u7684\u3001\u6570\u91cf\u4e0d\u591a\u7684\uff0c\u6211\u53ef\u4ee5\u5206\u522b\u5bf9\u8fd9\u51e0\u4e2a\u597d\u53cb/\u7fa4\u7ec4\u8fdb\u884c\u5907\u4efd\u52a8\u4f5c\uff0c\u8fd9\u6837\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u76f4\u63a5\u5f97\u5230\u4e0e\u4ed6\u4eec\u7684\u804a\u5929\u8bb0\u5f55\uff08\u8fd8\u53ef\u4ee5\u5728\u5907\u4efd\u65f6\u9009\u62e9\u65f6\u95f4\uff0c\u5e76\u4e14\u662f\u624b\u673a\u4e0a\u7684\u804a\u5929\u8bb0\u5f55\uff0c\u4e5f\u5c31\u662f\u66f4\u5b8c\u6574\uff09\u3002"),(0,l.kt)("p",null,"\u4f46\u8003\u8651\u5230\u6211\u540e\u6765\u4e00\u76f4\u5728\u7814\u7a76\u6570\u636e\u5e93\u52a0\u89e3\u5bc6\u4e0a\uff0c\u5e76\u4e14\u5728\u83b7\u5f97\u6570\u636e\u5e93\u79d8\u94a5\u4e4b\u540e\uff0c\u901a\u8fc7\u64cd\u4f5c\u6570\u636e\u5e93\u4e5f\u80fd\u83b7\u5f97\u6211\u6240\u6709\u60f3\u8981\u7684\u804a\u5929\u8bb0\u5f55\uff08\u56e0\u4e3a\u5f53\u65f6\u6211\u804a\u5929\u7684\u90e8\u5206\u6070\u597d\u90fd\u5728 mac \u4e0a\uff09\uff0c\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"macos/dbcracker.d")," \u5df2\u7ecf\u80fd\u591f\u6ee1\u8db3\u6211\u7684\u8981\u6c42\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u672c\u7bc7\u4e5f\u4f1a\u91cd\u70b9\u57fa\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"macos/dbcracker.d")," \u8fdb\u884c\u4ecb\u7ecd\uff0c\u5c3d\u7ba1 ",(0,l.kt)("inlineCode",{parentName:"p"},"pcbakchat/gather.d")," \u66f4\u9002\u5408\u5bfc\u51fa\u4e0e\u6307\u5b9a\u597d\u53cb\u7684\uff08\u66f4\u5b8c\u6574\u7684\uff09\u804a\u5929\u8bb0\u5f55\uff0c\u66f4\u5177\u6709\u201c\u793e\u4f1a\u201d\u4ef7\u503c\uff0c\u4f46\u524d\u8005\u66f4\u5177\u6709\u201c\u5a31\u4e50\u201d\uff08bushi\uff0c\u7814\u7a76\uff09\u4ef7\u503c\u3002"),(0,l.kt)("h3",m({},{id:"develxloggerd"}),(0,l.kt)("inlineCode",{parentName:"h3"},"devel/xlogger.d")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u5176\u5b9e\u5c31\u662f\u628a mac \u5fae\u4fe1\u4e0a\u6240\u6709\u7684\u6d88\u606f\u6d41\u90fd\u52ab\u6301\u4e86\uff0c\u6253\u5370\u51fa\u975e\u5e38\u591a\u7684\u4e1c\u897f\uff0c\u6240\u4ee5\u53ea\u9002\u5408\u201c\u9ed1\u5ba2\u201d\u81ea\u5df1\u4e8c\u5ea6\u5f00\u53d1\u76f8\u8981\u7684\u529f\u80fd\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u7684\u9700\u6c42\u6ca1\u5fc5\u8981\u7528\u8fd9\u4e2a\uff0c\u5e76\u4e14\u5b83\u4e00\u6253\u5f00\uff0c\u5fae\u4fe1\u5c31\u5361\u6b7b\u4e86\u2026\u2026\u53ef\u80fd\u662f\u5f71\u54cd\u4e86\u5fae\u4fe1\u7684\u8fd0\u884c\u901f\u5ea6\uff0c\u7136\u540e\u5047\u6b7b\uff0c\u8fd9\u662f\u5f02\u5e38\u884c\u4e3a\uff0c\u53ef\u80fd\u6709\u5c01\u53f7\u98ce\u9669\uff0c\u6240\u4ee5\u8c28\u614e\u3002"),(0,l.kt)("h3",m({},{id:"\u603b\u7ed3"}),"\u603b\u7ed3"),(0,l.kt)("p",null,"\u6211\u4eec\u5168\u90e8\u7684\u5de5\u4f5c\uff0c\u4e3b\u8981\u8fd8\u662f\u5efa\u7acb\u5728 - ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/nalzok/wechat-decipher-macos"}),"nalzok/wechat-decipher-macos: Scripts to extract chat history from WeChat on macOS")," \u7684\u57fa\u7840\u4e0a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"Qingyao Sun"),"\u505a\u4e86\u51fa\u8272\u7684\u5de5\u4f5c\uff08\u5c3d\u7ba1\u90e8\u5206\u5730\u65b9\u6709\u4e00\u4e9b\u7455\u75b5\uff09\uff0c\u6ca1\u6709\u4ed6\u7cbe\u81f4\uff08\u8fd8\u8bb0\u5f97\u6211\u600e\u4e48\u8bc4\u4ef7\u7684\u5417\uff1f\u201c\u5b57\u5b57\u73e0\u7391\u201d\uff09\u7684\u9879\u76ee\u6587\u6863\uff0c\u4e0e\u5408\u7406\u7684\u9879\u76ee\u7ed3\u6784\u8bbe\u8ba1\uff0c\u6211\u662f\u4e0d\u592a\u53ef\u80fd\u4e00\u5230\u4e24\u5929\u5c31\u201c\u653b\u7834\u201d\u5fae\u4fe1\u7684\u6570\u636e\u5e93\u7684\uff0c\u611f\u8c22\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644131537140-b4113df9c6055f65ec8d2cd43d0423a9246884e02b0d9379c85db0315f91c831.png",alt:"picture 77"}))),(0,l.kt)("h3",m({},{id:"update2022-02-08-\u5173\u4e8e\u52a0\u5bc6\u5b57\u6bb5"}),"update@2022-02-08: \u5173\u4e8e\u52a0\u5bc6\u5b57\u6bb5"),(0,l.kt)("p",null,"\u5907\u4efd\u6570\u636e\u5e93\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"cipher_page_size"),"\u4e0d\u662f\u9ed8\u8ba4\u503c\uff081024\uff09\uff0c\u800c\u662f 4096\uff01"),(0,l.kt)("p",null,"\u6240\u4ee5\u539f\u4f5c\u4e2d\u6253\u5370\u51fa\u8fd9\u4e9b\u4fe1\u606f\u662f\u5f88\u6709\u5fc5\u8981\u7684!"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644311729706-1de6652c04e0493ac7ba53cfeb35af14784e1351923142709da40f726c039501.png",alt:"picture 19"}))),(0,l.kt)("h2",m({},{id:"reference"}),"reference"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u60a8\u60f3\u81ea\u5df1\u653b\u7834\u5fae\u4fe1\u7684\u6570\u636e\u5e93\u7cfb\u7edf\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u6211\u8ba4\u4e3a\u6bd4\u8f83\u6838\u5fc3\u7684\u53c2\u8003\u8d44\u6599\uff0c\u5305\u62ec\u5404\u5927\u5e73\u53f0\u7684\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u4e07\u53d8\u4e0d\u79bb\u5176\u4e2d\u7684\u662f\uff0c\u5fae\u4fe1\u7684\u6570\u636e\u5e93\u4f7f\u7528\u7684\u662f\u57fa\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3"),"\u52a0\u5bc6\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\uff0c\u5e76\u4e14\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher 3 defaults"),"\u914d\u7f6e\uff0c\u6240\u4ee5\u7406\u89e3\u4e0e\u719f\u6089\u8be5\u6570\u636e\u5e93\u624d\u662f\u5168\u90e8\u5de5\u4f5c\u7684\u6700\u5927\u653b\u575a\u6218\u3002\u5f53\u4f60\u653b\u7834\u4e4b\u540e\uff0c\u600e\u4e48\u505a\uff0c\u5c31\u662f\u4f60\u7684\u4e8b\u60c5\u4e86\u3002"),(0,l.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \u53cb\u60c5\u63d0\u9192\uff1a\u4e0d\u8981\u4e71\u52a8\u5fae\u4fe1\u7684\u6570\u636e\u5e93\uff0c\u5426\u5219\u5f15\u8d77\u7684\u4e00\u5207\u540e\u679c\uff0c\u4e0e\u672c\u6587\u65e0\u5173\uff0c\u672c\u6587\u4e0d\u6d89\u53ca\u4efb\u4f55\u4fee\u6539\u5fae\u4fe1\u6570\u636e\u5e93\u7684\u5b9e\u73b0")),(0,l.kt)("h3",m({},{id:"\u5404\u5927\u5e73\u53f0\u4ed3\u5e93\u5408\u96c6"}),"\u5404\u5927\u5e73\u53f0\u4ed3\u5e93\u5408\u96c6"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://github.com/search?q=wechat+history"}),"Search \xb7 wechat history"))),(0,l.kt)("h3",m({},{id:"mac-\u7248"}),"mac \u7248"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"mac \u7248\u8be6\u7ec6\u6559\u7a0b\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://blog.csdn.net/u011195398/article/details/85266214"}),"Mac \u7ec8\u7aef\u4f7f\u7528 Sqlcipher \u52a0\u89e3\u5bc6\u57fa\u7840\u8fc7\u7a0b\u8be6\u89e3","_","Martin.Mu `s Special Column-CSDN \u535a\u5ba2","_","mac sqlcipher"))),(0,l.kt)("h3",m({},{id:"windows-\u7248"}),"windows \u7248"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"windows \u7248\u8be6\u7ec6\u6559\u7a0b\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://bbs.pediy.com/thread-251303.htm"}),"[\u539f\u521b]PC \u7248\u5fae\u4fe1\u6570\u636e\u5e93\u89e3\u5bc6\u8be6\u7ec6\u6559\u7a0b-\u8f6f\u4ef6\u9006\u5411-\u770b\u96ea\u8bba\u575b-\u5b89\u5168\u793e\u533a|\u5b89\u5168\u62db\u8058|bbs.pediy.com"))),(0,l.kt)("h3",m({},{id:"ios-\u7248"}),"ios \u7248"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://daily.zhihu.com/story/8807166"}),"\u77e5\u4e4e\u65e5\u62a5 - \u77e5\u4e4e")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://github.com/stomakun/WechatExport-iOS"}),"stomakun/WechatExport-iOS: Save iOS WeChat history as HTML or TXT with neat layout and picture & audio support."))),(0,l.kt)("h3",m({},{id:"sqlcipher-\u76f8\u5173"}),(0,l.kt)("inlineCode",{parentName:"h3"},"sqlcipher")," \u76f8\u5173"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644134209068-2d046f82a3ae99e9704b64974a0444567cc9955e47a1ef2cc419ce53671d9cd4.png",alt:"picture 79"}))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\u5b98\u65b9\u7248\u672c\uff08\u63d0\u4f9b\u4e86\u542f\u52a8\u6307\u5f15\uff09\uff1a",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/sqlcipher/sqlcipher"}),"sqlcipher/sqlcipher: SQLCipher is a standalone fork of SQLite that adds 256 bit AES encryption of database files and other security features."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"python \u7248\u672c",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),": ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/rigglemania/pysqlcipher3"}),"rigglemania/pysqlcipher3: Python 3 bindings for SQLCipher"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u2728\u53ef\u89c6\u5316\u8f6f\u4ef6\uff08\u524d\u671f\u9a8c\u8bc1\u767b\u5f55\u5e2e\u4e86\u5927\u5fd9\uff09\uff1a",(0,l.kt)("a",m({parentName:"p"},{href:"https://sqlitebrowser.org/dl/"}),"Downloads - DB Browser for SQLite"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \uff08\u5546\u4e1a\uff09\u5b98\u65b9\u7f51\u7ad9\uff1a",(0,l.kt)("a",m({parentName:"p"},{href:"https://www.zetetic.net/sqlcipher/"}),"SQLCipher - Zetetic")))),(0,l.kt)("h3",m({},{id:"pragma-\u76f8\u5173"}),(0,l.kt)("inlineCode",{parentName:"h3"},"pragma")," \u76f8\u5173"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"pragma")," \u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3")," \u4e2d\u7684\u4e00\u79cd\u5173\u952e\u5b57\uff0c\u5177\u4f53\u6211\u4e5f\u4e0d\u592a\u61c2\uff0c\u6211\u4eec\u9879\u76ee\u53ea\u9700\u8981\u4f1a\u7528\u5f88\u7b80\u5355\u7684\u51e0\u6761\u8bed\u53e5\u5373\u53ef\uff0c\u662f\u64cd\u4f5c ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u5fc5\u987b\u7684\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u2728\u2728",(0,l.kt)("inlineCode",{parentName:"li"},"pragma"),"\u6838\u5fc3\u8bed\u53e5\uff08\u5305\u62ec\u7b97\u6cd5\u90e8\u5206\uff09\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://utelle.github.io/SQLite3MultipleCiphers/docs/configuration/config_sql_pragmas/#pragma-hmac_algorithm"}),"SQL Pragmas | SQLite3 Multiple\xa0Ciphers")),(0,l.kt)("li",{parentName:"ul"},"\u2728 ",(0,l.kt)("inlineCode",{parentName:"li"},"sqlcipher"),"\u76f8\u5173\u63a5\u53e3\u5b9e\u73b0\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://github.com/Tencent/sqlcipher/blob/4f37c817eb99e18e4fdc8ac63d67ac33610d66be/src/crypto_impl.c"}),"sqlcipher/crypto_impl.c at 4f37c817eb99e18e4fdc8ac63d67ac33610d66be \xb7 Tencent/sqlcipher")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"pragma"),"\u90e8\u5206\u8bed\u53e5\uff08\u6ca1\u6709\u7b97\u6cd5\u90e8\u5206\uff09\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://www.sqlite.org/pragma.html"}),"Pragma statements supported by SQLite")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"pragma"),"\u90e8\u5206\u8bed\u53e5\uff08\u4e5f\u6ca1\u6709\u7b97\u6cd5\u90e8\u5206\uff09\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://www.runoob.com/sqlite/sqlite-pragma.html"}),"SQLite PRAGMA | \u83dc\u9e1f\u6559\u7a0b")),(0,l.kt)("li",{parentName:"ul"},"\u5176\u4ed6",(0,l.kt)("inlineCode",{parentName:"li"},"pragma"),"\u76f8\u5173\u95ee\u9898\uff1a",(0,l.kt)("a",m({parentName:"li"},{href:"https://juejin.cn/post/6844903983899738126"}),"\u5982\u4f55\u964d\u7ea7\u52a0\u5bc6\u7684 Sqlite \u6570\u636e\u5e93\u6587\u4ef6 - \u6398\u91d1"))),(0,l.kt)("h3",m({},{id:"frida-\u76f8\u5173"}),(0,l.kt)("inlineCode",{parentName:"h3"},"frida")," \u76f8\u5173"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"frida")," \u662f\u7528\u4e8e\u9006\u5411\u7684\uff0c\u539f\u4ee5\u4e3a\u8981\u7528\u5230\uff0c\u540e\u6765\u53d1\u73b0\u6ca1\u6709\uff08\u81f3\u5c11\u6211\u7684\u5e94\u7528\u7ea7\u522b\u6ca1\u7528\u5230\uff09\uff0c\u4e5f\u662f\u634f\u4e86\u4e00\u628a\u51b7\u6c57\u3002\u4ee5\u9632\u9700\u8981\uff0c\u6240\u4ee5\u4e5f\u8865\u4e00\u4efd\u3002\u9879\u76ee\u5e95\u5c42\u76d1\u63a7\u5fae\u4fe1\u90e8\u5206\uff0c\u5e94\u8be5\u662f\u7528\u5230\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"frida")," \u7684\u3002")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://frida.re/"}),"Frida \u2022 A world-class dynamic instrumentation framework | Inject JavaScript to explore native apps on Windows, macOS, GNU/Linux, iOS, Android, and QNX"))),(0,l.kt)("h2",m({},{id:"hack-manual"}),"hack manual"),(0,l.kt)("h3",m({},{id:"download-sqlite"}),"download sqlite"),(0,l.kt)("p",null,"download any sqlite versions from here ",(0,l.kt)("a",m({parentName:"p"},{href:"https://www.sqlite.org/download.html"}),"SQLite Download Page")," or directly download mac (x86) version from ",(0,l.kt)("a",m({parentName:"p"},{href:"https://www.sqlite.org/2022/sqlite-tools-osx-x86-3370200.zip"}),"https://www.sqlite.org/2022/sqlite-tools-osx-x86-3370200.zip")),(0,l.kt)("h3",m({},{id:"test-sqlite"}),"test sqlite"),(0,l.kt)("p",null,"unzip the downloaded sqlite zip, and test the sqlite."),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-text"}),"\u279c  sqlite-tools-osx-x86-3370200 tree .\n.\n\u251c\u2500\u2500 sqldiff\n\u251c\u2500\u2500 sqlite3\n\u2514\u2500\u2500 sqlite3_analyzer\n\n0 directories, 3 files\n")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644051236520-b24b75cf94124fd18e0e540dba9d639924e0b3886bac991f0d816a301f9195ce.png",alt:"picture 14"}))),(0,l.kt)("h3",m({},{id:"install-openssl-to-replace-the-built-in-libressl-on-macos"}),"install ",(0,l.kt)("inlineCode",{parentName:"h3"},"openssl")," to replace the built-in ",(0,l.kt)("inlineCode",{parentName:"h3"},"libressl")," on MacOS"),(0,l.kt)("p",null,"!!!warning ",(0,l.kt)("inlineCode",{parentName:"p"},"brew")," need to be pre-installed"),(0,l.kt)("h4",m({},{id:"install-openssl-via-brew"}),"install ",(0,l.kt)("inlineCode",{parentName:"h4"},"openssl")," via ",(0,l.kt)("inlineCode",{parentName:"h4"},"brew")),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"brew install openssl\n")),(0,l.kt)("h4",m({},{id:"config-openssl-into-path"}),"config ",(0,l.kt)("inlineCode",{parentName:"h4"},"openssl")," into path"),(0,l.kt)("p",null,"According to the brew instruction on openssl:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644051857192-ba13ebef60caf744ce20b9a323a616f7f32555fd0b5b9005145cda243ecfc645.png",alt:"picture 15"}))),(0,l.kt)("p",null,"We can directly write all the three commands into shell and make them work:"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),'# if you use bash, change $SHELL to be `~/.bashrc`\nSHELL=~/.zshrc\ncat <<EOF >> $SHELL\nheredoc> export PATH="/usr/local/opt/openssl@3/bin:$PATH"\nheredoc> export LDFLAGS="-L/usr/local/opt/openssl@3/lib"\nheredoc> export CPPFLAGS="-I/usr/local/opt/openssl@3/include"\nheredoc> export PKG_CONFIG_PATH="/usr/local/opt/openssl@3/lib/pkgconfig"\nheredoc> EOF\n\nsource $SHELL\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"result")),(0,l.kt)("p",null,"before changing openssl, the default openssl is libressl:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644052002163-d79b3d78530e7e5b36887fcdef9c06839cbec11de0eb37e30d6304d78168fd2f.png",alt:"picture 16"}))),(0,l.kt)("p",null,"after that it becomes openssl:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644052027060-7263c604b5c8466f67e9a83b5b8900712952f6f2092d8cbde50fc8856536cc5d.png",alt:"picture 17"}))),(0,l.kt)("p",null,"!!!tip \u56e0\u4e3a\u5c06 openssl \u7684\u8def\u5f84\u52a0\u5165\u4e86 path\uff08\u5e76\u4e14\u5728\u9ed8\u8ba4\u641c\u7d22\u8def\u5f84\u4e4b\u524d\uff09\uff0c\u6240\u4ee5\u73b0\u5728\u8f93\u5165",(0,l.kt)("inlineCode",{parentName:"p"},"openssl"),"\u4f1a\u4f18\u5148\u68c0\u7d22\u5230\u6211\u4eec\u7684 openssl\uff0c\u5982\u679c\u60f3\u6362\u56de\u9ed8\u8ba4\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"libressl"),"\uff0c\u5219\u4e00\u65b9\u9762\u53ef\u4ee5\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc"),"\u914d\u7f6e\u6587\u4ef6\u4e2d\u628a\u6211\u4eec\u65b0\u52a0\u5165\u7684\u51e0\u53e5\u8bdd\u6ce8\u91ca\u6389\uff0c\u8fd9\u6837\u6bcf\u6b21\u91cd\u542f SHELL \u5c31\u4e0d\u4f1a\u6709\uff1b\u540c\u65f6\uff0c\u6211\u4eec\u8fd8\u8981\u5728 SHELL \u4e2d\u91cd\u7f6e\u4e00\u4e0b path\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{}),"![picture 19](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644052792755-dfbab4a924d8531c5199ef3f75dc6c635ba7f965452f14a7e7f701cc735d93dd.png)\n\n\u53c2\u8003:\n- [How to Reset the PATH Variable on Mac to Default macOS PATH](https://techpp.com/2021/09/13/reset-path-variable-on-mac-guide/)\n- [macos - How do I reset the $PATH variable on Mac OS X? - Super User](https://superuser.com/questions/121870/how-do-i-reset-the-path-variable-on-mac-os-x)\n")),(0,l.kt)("h4",m({},{id:"confirm-openssl"}),"confirm openssl"),(0,l.kt)("p",null,"According to the ",(0,l.kt)("inlineCode",{parentName:"p"},"brew install openssl")," command result, our openssl source codes are under ",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/local/Cellar/openssl@xxx"),":"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644053094808-83ad1e420d3f10f9f1993392ef81a7937f1cb2feb36d2c8d65ee15b761a803f1.png",alt:"picture 20"}))),(0,l.kt)("p",null,"Have a check:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644053177928-4cadb79f22f3201c1298c4758b50ff84de6761bf3a4c7f399977cd261f04e950.png",alt:"picture 21"}))),(0,l.kt)("p",null,"!!!tip \u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u5176\u5b9e\u9ed8\u8ba4\u662f\u6709\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"openssl@1.1"),"\u7684\uff0c\u7136\u540e\u6211\u4eec\u65b0\u88c5\u4e86\u4e00\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},"openssl@3"),"\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u6211 follow \u7684\u90a3\u4e2a\u5e16\u5b50\u5e76\u4e0d\u5b8c\u5168\u6b63\u786e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{}),"\u81f3\u5c11\u5728\u6211\u4eec\u5b89\u88c5homebrew\u540e\uff0c\u5c31\u5df2\u7ecf\u6709\u4e86`openssl`(\u4e0d\u5355\u5355\u662fmac\u7684`libressl`)\u3002\n\n\u8fd9\u610f\u5473\u7740\u5176\u5b9e\u6211\u4eec\uff08\u53ef\u80fd\uff09\u6ca1\u6709\u5fc5\u8981\u518d\u5b89\u88c5\u4e00\u4e2a`openssl`\uff0c\u76f4\u63a5\u628a\u76ee\u524d\u8fd9\u4e2a`openssl`\u76f8\u5173\u7684\u4fe1\u606f\u5199\u5165\u73af\u5883\u53d8\u91cf\u5373\u53ef\u3002\uff08\u5f85\u9a8c\u8bc1\u8fd9\u79cd\u65b9\u5f0f\u662f\u5426\u6709\u6548\uff09\n")),(0,l.kt)("h3",m({},{id:"compile-sqlcipher"}),"compile ",(0,l.kt)("inlineCode",{parentName:"h3"},"sqlcipher")),(0,l.kt)("p",null,"\u5b98\u65b9 ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/sqlcipher/sqlcipher"}),"sqlcipher/sqlcipher: SQLCipher is a standalone fork of SQLite that adds 256 bit AES encryption of database files and other security features."),"\u5bf9\u7f16\u8bd1\u662f\u8fd9\u4e48\u5199\u7684\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055146714-d0372f937c55a48d57a16ad23499d9dcacedcffc95c73c8858b6fe4558bbe24f.png",alt:"picture 23"}))),(0,l.kt)("p",null,"\u5728\u6211\u6ca1\u6709",(0,l.kt)("inlineCode",{parentName:"p"},"define SQLITE_HAS_CODEC and either SQLITE_TEMP_STORE=2 or SQLITE_TEMP_STORE=3"),"\u4e4b\u524d\uff08\u5f15\u7533\u9605\u8bfb\uff1a 1. ",(0,l.kt)("a",m({parentName:"p"},{href:"https://www.leavesongs.com/C/EncryptSqlite.html"}),"VC++\u4e0b\u7684 sqlite \u6570\u636e\u5e93\u52a0\u5bc6 | \u79bb\u522b\u6b4c"),"\uff0c 2. ",(0,l.kt)("a",m({parentName:"p"},{href:"https://sqlite.org/forum/forumpost/775a68525e"}),"SQLite Forum: SQLITE_HAS_CODE is gone?"),"\uff09\uff0c\u8fd0\u884c\u7684\u547d\u4ee4\u884c\u4f1a\u62a5\u9519\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),'./configure --enable-tempstore=yes CFLAGS="-DSQLITE_HAS_CODEC" \\\nLDFLAGS="/usr/local/Cellar/openssl@3/3.0.1/lib/libcrypto.a"\n')),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055119287-849f7d0ef323bdf71b4812bc1983b56cbdd2b88d5e8ecac4c1537f737e49add9.png",alt:"picture 22"}))),(0,l.kt)("p",null,"\u4f46\u4f60\u5b9a\u4e49\u4e0a\u8ff0\u53d8\u91cf\u8fd8\u6bd4\u8f83\u9ebb\u70e6\uff0c\u8981\u53bb\u67d0\u4e2a",(0,l.kt)("inlineCode",{parentName:"p"},".h"),"\u91cc\uff0c\u6211\u90fd\u4e0d\u77e5\u9053\u5b83\u4eec\u5728\u54ea\u2026\u2026\u5176\u6b21\uff0c\u4e5f\u4e0d\u4e00\u5b9a\u53ea\u662f\u5b9a\u4e49\u8fd9\u4e2a\u95ee\u9898\u3002"),(0,l.kt)("p",null,"\u5728\u6211\u4eec\u7684\u4e2d\u6587\u6559\u7a0b ",(0,l.kt)("a",m({parentName:"p"},{href:"https://blog.csdn.net/u011195398/article/details/85266214"}),"(25 \u6761\u6d88\u606f) Mac \u7ec8\u7aef\u4f7f\u7528 Sqlcipher \u52a0\u89e3\u5bc6\u57fa\u7840\u8fc7\u7a0b\u8be6\u89e3","_","Martin.Mu `s Special Column-CSDN \u535a\u5ba2","_","mac sqlcipher")," \u91cc\u4ed6\u6478\u7d22\u51fa\u6765\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055284135-3cff04278bbf581910400b65b3fb0ec043943b1d4a860da1da07a7d11472dbb5.png",alt:"picture 24"}))),(0,l.kt)("p",null,"\u6240\u4ee5\u6211\u57fa\u4e8e\u4ed6\u7ed9\u51fa\u7684\u547d\u4ee4\u884c\u6539\u6210\u4e86\u5982\u4e0b\uff081. \u5220\u9664\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"--prefix=yourlibdir"),"\u8fd9\u4e2a\u53c2\u6570\uff1b 2. \u4fee\u6539\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"LDFLAGS"),"\u53c2\u6570\u4e3a\u6211\u4eec\u5b9e\u9645\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"libcrypto.a"),"\u4f4d\u7f6e\uff09\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),'./configure  --disable-tcl --disable-shared --enable-static=yes --enable-tempstore=yes --with-crypto-lib=none CFLAGS="-DSQLITE_HAS_CODEC -DSQLCIPHER_CRYPTO_OPENSSL" LDFLAGS="/usr/local/Cellar/openssl@3/3.0.1/lib/libcrypto.a"\n')),(0,l.kt)("p",null,"\u7136\u540e\u4e00\u4e0b\u5c31\u7f16\u8bd1\u6210\u529f\u4e86\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055366303-2d91dce8f1cfaff53f1b4959720cb43da46acaa813e69590a0ecd728aacc4b01.png",alt:"picture 25"}))),(0,l.kt)("p",null,"\u63a5\u7740\u5c31\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"make"),"\u4e00\u4e0b\uff0c\u6700\u7ec8\u4f1a\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\u53ef\u6267\u884c\u6587\u4ef6\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055403556-233d2ce354ae18db283301899741d5f71fdf97cf2e450720d3cfdafe1d7d9dfe.png",alt:"picture 26"}))),(0,l.kt)("p",null,(0,l.kt)("del",{parentName:"p"},"\u4ee5\u4e0a\u5c31\u4ee3\u8868\u6211\u4eec\u7684\u7f16\u8bd1\u8fc7\u7a0b\u987a\u5229\u5b8c\u6210\u3002")),(0,l.kt)("h3",m({},{id:"update-\u9759\u6001\u7f16\u8bd1"}),"UPDATE: \u9759\u6001\u7f16\u8bd1"),(0,l.kt)("p",null,"\u521a\u521a\u90a3\u4e2a\u7f16\u8bd1\u597d\u50cf\u5c5e\u4e8e\u52a8\u6001\u7f16\u8bd1\uff0c\u540e\u7eed\u6211\u5728\u7f16\u8bd1 python \u7248\u672c\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"pysqlcipher3"),"\u7684\u65f6\u5019\u53c8\u51fa\u73b0\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"ld: library not found for -lsqlcipher"),"\u7684\u95ee\u9898\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644072227306-9e8a15ed18d00cf7f3ecbfc851c171be72a16050db5299a7cd2782fc6486f870.png",alt:"picture 43"}))),(0,l.kt)("p",null,"\u6240\u4ee5\u8fd8\u662f\u9759\u6001\u7f16\u8bd1\u53ef\u80fd\u6bd4\u8f83\u597d\u3002"),(0,l.kt)("p",null,"\u91cd\u65b0\u56de\u987e\u4e00\u4e0b ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u7684\u7f16\u8bd1\u6559\u7a0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053 ",(0,l.kt)("inlineCode",{parentName:"p"},"libcrypto.a"),"\u7684\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644072262710-734053d18c0c275c54731dc02801ef8d262fba116ac73c43b178013672cd1ba5.png",alt:"picture 44"}))),(0,l.kt)("p",null,"\uff08\u5357\u5ddd\uff09\u6ce8\u610f\u770b\u6211\u662f\u600e\u4e48\u627e\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"libcrypto.a"),"\u7684\u4f4d\u7f6e\u7684\uff0c\u5f53\u6211\u53ea\u77e5\u9053\u4ed6\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"Cellar"),"\u4e0b\u7684\u65f6\u5019\u3002(\u5176\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"realpath"),"\u547d\u4ee4\u9700\u8981",(0,l.kt)("inlineCode",{parentName:"p"},"brew install coreutils"),")"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644072356870-5e184b304747b5c39a498bf21f082075707a60d05890f8ef7fb270cefadb0362.png",alt:"picture 45"}))),(0,l.kt)("p",null,"\u63a5\u7740\u62f7\u8d1d\u8be5\u4f4d\u7f6e\u5230\u5b89\u88c5\u53c2\u6570\u5185\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),'(.pyenv) \u279c  sqlcipher git:(master) \u2717 ./configure --enable-tempstore=yes CFLAGS="-DSQLITE_HAS_CODEC" LDFLAGS="/usr/local/Cellar/openssl@3/3.0.1/lib/libcrypto.a"\n')),(0,l.kt)("p",null,"\u4f46\u662f\u62a5\u9519\u4e86\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644072484888-a542b44050c96501a77a271bc4b8b68fc56e34f76dd64ff798a7c9f3b7b09f24.png",alt:"picture 46"}))),(0,l.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\u5176\u5b9e\u6b63\u597d\u5c31\u662f\u6211\u4eec\u52a8\u6001\u7f16\u8bd1\u9519\u8fc7\u4e86\u7684\u4f46\u662f\u535a\u4e3b\u78b0\u5230\u4e86\u7684\u95ee\u9898:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644072522514-62b7f0b1639d262ede4547456661b328e4a6b32fae6c5cace9256df1236fd2e3.png",alt:"picture 47"}))),(0,l.kt)("p",null,"\u8ddf\u7740\u4ed6\u7684\u7ecf\u9a8c\uff0c\u4e5f\u522b\u7ba1\u4ed6\u7684\u547d\u4ee4\u884c\u600e\u4e48\u5199\u7684\uff0c\u52a0\u4e0a\u53c2\u6570\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),'(.pyenv) \u279c  sqlcipher git:(master) \u2717 ./configure --enable-tempstore=yes CFLAGS="-DSQLITE_HAS_CODEC" LDFLAGS="/usr/local/Cellar/openssl@3/3.0.1/lib/libcrypto.a" --with-crypto-lib=none\n')),(0,l.kt)("p",null,"\u7acb\u5373\u901a\u8fc7\uff01\u7136\u540e\u518d\u8fd0\u884c",(0,l.kt)("inlineCode",{parentName:"p"},"make install"),"\u5373\u53ef\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644072591630-f4c7e1aab4353c3361db72feda9d9bbe9ff572006e4e2424c3625a65c7cc6f62.png",alt:"picture 48"}))),(0,l.kt)("p",null,"\u6ce8\u610f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"install"),"\u4e4b\u540e\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u5176\u5b9e\u662f\u628a",(0,l.kt)("inlineCode",{parentName:"p"},"libsqlcipher.a"),"\u7b49\u5199\u5165\u5230\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"/usr/local/lib"),"\u4e0b\u9762\uff0c\u8fd9\u4e2a\u8def\u5f84\u8981\u8bb0\u5f97\uff0c\u4ee5\u540e\u5176\u4ed6\u5e93\u4e00\u822c\u4e5f\u4f1a\u7f16\u5230\u8fd9\u91cc\u3002"),(0,l.kt)("h3",m({},{id:"test-sqlcipher-workflow"}),"test ",(0,l.kt)("inlineCode",{parentName:"h3"},"sqlcipher")," workflow"),(0,l.kt)("h4",m({},{id:"step-1-crypto-a-plain-database-which-is-generated-by-our-sqlite-before"}),"step 1. crypto a plain database (which is generated by our ",(0,l.kt)("inlineCode",{parentName:"h4"},"sqlite")," before)"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055516480-7d258b2f3f5c95b8ae22647f6b0221200e0458f1c70f73b597b2b2ee2491dcab.png",alt:"picture 27"}))),(0,l.kt)("p",null,"Among the commands, the ",(0,l.kt)("inlineCode",{parentName:"p"},"attach database XXX as encrypted key YYY")," would generate a database named XXX, which is encrypted by key YYY."),(0,l.kt)("h4",m({},{id:"step2-test-operate-on-an-encrypted-database-without-key-expect-failure"}),"step2. test: operate on an encrypted database without key (expect: failure)"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055718135-17c2ee6027d75abc6637815f057703e25bde0b4bac6d8c31a03694dd5d919c73.png",alt:"picture 28"}))),(0,l.kt)("h4",m({},{id:"step3-test-dump-the-encrypted-database-into-plain-with-key-expect-success"}),"step3. test: dump the encrypted database into plain with key (expect: success)"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055830760-6cd688ede765164c9a10e49ba478e98036e517d06d121f8b8f1a222f58d316b1.png",alt:"picture 29"}))),(0,l.kt)("h4",m({},{id:"step4-test-open-the-decrypted-database-without-key-expect-success"}),"step4. test: open the decrypted database without key (expect: success)"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644055943131-58c01e04c45846d54c782180d6489b888c3cf84e843252a71be57c6520f78a1c.png",alt:"picture 30"}))),(0,l.kt)("h3",m({},{id:"-decrypt-database"}),"\u2728\u2728 decrypt database"),(0,l.kt)("h4",m({},{id:"depreciated-pragma-config-of-sqlcipher-3-defaults"}),"DEPRECIATED: pragma config of sqlcipher 3 defaults"),(0,l.kt)("p",null,"!!!warning \u6211\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u7248\u672c\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"3.36.0"),"\uff0c\u8fd9\u4e2a\u7248\u672c\u9ed8\u8ba4\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher 4"),"\u7684\u914d\u7f6e\u4e86\uff08\u76f2\u731c\uff09\uff0c\u800c\u817e\u8baf\u7684\u52a0\u5bc6\u7528\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher 3"),"\uff0c\u6240\u4ee5\u5728\u89e3\u5bc6\u6587\u4ef6\u65f6\uff0c\u5fc5\u987b\u5c06\u914d\u7f6e\u90fd\u5bf9\u4e0a\uff08\u53ef\u4ee5\u6309\u7167 GUI \u8f6f\u4ef6",(0,l.kt)("inlineCode",{parentName:"p"},"DB Browser for SQLite"),"\u4e00\u4e00\u5bf9\u4e0a\uff09\uff0c\u5426\u5219\u4f1a\u51fa\u73b0",(0,l.kt)("inlineCode",{parentName:"p"},"file is not a database")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"out of memory"),"\u7b49\u9519\u8bef"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644067587138-c2f6c561a856b4619f0fafb2c31d203c22ae2220fe6fe31f89d3b1c6dc18848f.png",alt:"picture 31"}))),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),"PRAGMA cipher_compatibility = 3;\nPRAGMA kdf_algorithm = 0;\nPRAGMA hmac_algorithm = 0;\nPRAGMA kdf_iter = 64000;\nPRAGMA cipher_page_size = 1024;\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"core ref of pragma statements, especially sqlcipher relative: ",(0,l.kt)("a",m({parentName:"p"},{href:"https://utelle.github.io/SQLite3MultipleCiphers/docs/configuration/config_sql_pragmas/#pragma-hmac_algorithm"}),"SQL Pragmas | SQLite3 Multiple\xa0Ciphers"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"tencent forked sqlcipher: ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/Tencent/sqlcipher/tree/4f37c817eb99e18e4fdc8ac63d67ac33610d66be"}),"Tencent/sqlcipher at 4f37c817eb99e18e4fdc8ac63d67ac33610d66be")))),(0,l.kt)("h4",m({},{id:"best-practice-pragma-config-of-sqlcipher-3-defaults"}),"BEST-PRACTICE: pragma config of sqlcipher 3 defaults"),(0,l.kt)("p",null,"As mentioned at: - ",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/rigglemania/pysqlcipher3#sqlcipher-compatibility-issues"}),"rigglemania/pysqlcipher3: Python 3 bindings for SQLCipher"),", we only need to add one line of ",(0,l.kt)("inlineCode",{parentName:"p"},'PRAGMA cipher_compatibility = 3"')," after setting ",(0,l.kt)("inlineCode",{parentName:"p"},"\"PRAGMA key='password'\""),"."),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644069999876-2b5aae9410cd1110098e3247594c549654da13532919c803314c43565f10892e.png",alt:"picture 40"}))),(0,l.kt)("p",null,"Here is the tested result:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644070069597-642a02966f92de01abff3777591606fdab3c9da26e799787a5d6d26fdf3d5d4b.png",alt:"picture 41"}))),(0,l.kt)("h4",m({},{id:"check-salt-of-specific-database-file"}),"check salt of specific database file"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"usage")),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"xxd -p -l 16 -g 0 '/path/to/foo.db'\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"sample")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644068254533-1ea78ae0e60ab131144b0ea1cb30d1e9d1e3c1cab3729dccc2ae528c540cf0c7.png",alt:"picture 32"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"verification")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644068327704-ea3ee6ac4f1ecbfceb32f370d0b07091175e6cf250a7c588391b197e4a0c613c.png",alt:"picture 34"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644068275641-5eb58026ca08887af94f8d62444540ba7a649c2ff06f7359b5280efeaf6b472e.png",alt:"picture 33"}))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://github.com/nalzok/wechat-decipher-macos/blob/main/macos/dbcracker.d"}),"wechat-decipher-macos/dbcracker.d at main \xb7 nalzok/wechat-decipher-macos"))),(0,l.kt)("h4",m({},{id:"decrypt-and-dump-specific-database-file"}),"decrypt and dump specific database file"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"open our custom hook script and get the database secret info:")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644068620611-aa198000c76e33c4b248a05589b2d22107ad3339584f55104ef9105be3efc2f7.png",alt:"picture 35"}))),(0,l.kt)("ol",m({},{start:2}),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"copy the ",(0,l.kt)("inlineCode",{parentName:"p"},"PRAGMA XXX")," statements for specific database file")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"dump specific database file after decrypting"))),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),'ATTACH DATABASE \'plaintext.db\' AS plaintext KEY "";\nSELECT sqlcipher_export("plaintext");\nDETACH DATABASE plaintext;\n')),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644069059270-6a17772f3571e1d5243cd8e94ec3a554277c5b01624e3c665f89072fffcee427.png",alt:"picture 37"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"How to decrypt the sqlcipher, when the version matches",(0,l.kt)("a",m({parentName:"li"},{href:"https://stackoverflow.com/questions/25132477/how-to-decrypt-an-encrypted-sqlcipher-database-file-on-command-line/53616126"}),"encryption - How to decrypt an encrypted sqlcipher database file on command line? - Stack Overflow"))),(0,l.kt)("h4",m({},{id:"test-dumped-database-file-via-sqlcipher-or-sqlite3"}),"test dumped database file (via ",(0,l.kt)("inlineCode",{parentName:"h4"},"sqlcipher")," or ",(0,l.kt)("inlineCode",{parentName:"h4"},"sqlite3"),")"),(0,l.kt)("p",null,"Since the database dumped has been decrypted, so using ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3")," are both ok!"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644069170316-b3039faeffce4fa085668bb405c45b50a50f5a8721536caa6ca9f800837f0834.png",alt:"picture 38"}))),(0,l.kt)("p",null,"!!!tip As a contrary, if we using ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3")," to open an encrypted database file, then the ",(0,l.kt)("inlineCode",{parentName:"p"},"PRAGMA")," commands are always invalid, and there would be no way to decrypt the database."),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{}),"![picture 39](https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644069321523-f78eba6a3271f2e2e9cf3c2c04a83fda5e5d6e26f5289e3d3b82ad09af2bd042.png)\n")),(0,l.kt)("h2",m({},{id:"wechat-design"}),"wechat design"),(0,l.kt)("h3",m({},{id:"design-of-contact-fields"}),"design of contact fields"),(0,l.kt)("p",null,"\u4ee5\u67d0\u597d\u53cb\u8d44\u6599\u4e3a\u4f8b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644086442066-c16483c3e89a04c951579e2b136fb4aa69ec438102d180434d3508fb8f2c50b5.png",alt:"picture 62"}))),(0,l.kt)("p",null,"\u5bf9\u5e94\u7684\u53ef\u4ee5\u770b\u5230\u6570\u636e\u8868\u4fe1\u606f\u4e3a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644086957667-465fd289b2ac61137c90a5b656c0f8275a4f9a6b5e808bbda57c041373dc2b07.png",alt:"picture 64"}))),(0,l.kt)("p",null,"\u53ef\u4ee5\u77e5\u9053\uff0c\u6700\u6709\u7528\u7684\u5b57\u6bb5\u4e3b\u8981\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-yaml"}),"gUsrName: wxid\uff08\u81ea\u52a8\u3001\u552f\u4e00\u6807\u8bc6\u53f7\uff09\nm_nsAliasName: \u597d\u53cb\u7684\u6ce8\u518cid\nnickname: \u597d\u53cb\u81ea\u5df1\u8bbe\u7f6e\u7684\u5bf9\u5916\u663e\u793a\u7684\u6635\u79f0\nm_nsRemark: \u4f60\u7ed9\u597d\u53cb\u8bbe\u7f6e\u7684\u5907\u6ce8\n")),(0,l.kt)("p",null,"\u5176\u4ed6\u8fd8\u6709\u4e00\u4e9b\u62fc\u97f3\u76f8\u5173\u7684\u6709\u65f6\u4e5f\u6bd4\u8f83\u9002\u5408\u6a21\u7cca\u641c\u7d22\uff0c\u4e0d\u8fc7\u5168\u62fc\u548c\u7b80\u62fc\u6bd4\u8f83\u9002\u5408\u4e2d\u6587\uff0c\u82f1\u6587\u7684\u8bdd\u5168\u62fc\u4e0d\u53d8\uff0c\u7b80\u62fc\u6ca1\u6709\uff08\u53e6\u5916\u4e5f\u53ef\u4ee5\u770b\u5230\u817e\u8baf\u7684\u547d\u540d\u89c4\u5219\u4e5f\u4e0d\u7edf\u4e00\uff0c\u5e76\u4e14\u8fd8\u4e2d\u82f1\u6587\u6df7\u6742\u2026\u2026\uff09\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-yaml"}),"m_nsFullPY: \u597d\u53cb\u6635\u79f0\u5168\u62fc\nm_nsShortPY: \u597d\u53cb\u6635\u79f0\u7b80\u62fc\nm_nsRemarkPYFull: \u597d\u53cb\u5907\u6ce8\u5168\u62fc\nm_nsRemarkPYShort: \u597d\u53cb\u5907\u6ce8\u7b80\u62fc\n")),(0,l.kt)("h3",m({},{id:"design-of-user-id-to-contact-id-md5"}),"design of user id to contact id: ",(0,l.kt)("inlineCode",{parentName:"h3"},"md5")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644079452379-26017062b0f1704882f915ce6b46afb628ae66436219c84107b993379d33363a.png",alt:"picture 51"}))),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644079510590-162cac11502d48cb7941365f272d807dbaeff5cf45edcad396ea28f9d3f3daf3.png",alt:"picture 52"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://1024tools.com/hash"}),"Hash \u5728\u7ebf\u8ba1\u7b97\u3001md5 \u8ba1\u7b97\u3001sha1 \u8ba1\u7b97\u3001sha256 \u8ba1\u7b97\u3001sha512 \u8ba1\u7b97 - 1024Tools"))),(0,l.kt)("h3",m({},{id:"improve-get-self-id"}),"IMPROVE: get self id"),(0,l.kt)("p",null,"\u641c\u7d22\u81ea\u5df1\u7684\u6635\u79f0\uff0c\u4f46\u662f\u53d1\u73b0\u6ca1\u6709\u627e\u5230\uff0c\u8bf4\u660e",(0,l.kt)("inlineCode",{parentName:"p"},"contact"),"\u8868\u91cc\u662f\u6ca1\u6709\u81ea\u5df1\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644087070913-43f45ddeca29b284c48142f4d56ed38cf00132bb42ae7429702b35306c5fcedd.png",alt:"picture 65"}))),(0,l.kt)("p",null,"\u6240\u4ee5\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u81ea\u5df1\u7684 id \u4fe1\u606f\u5728\u54ea\u91cc\u83b7\u53d6\u3002"),(0,l.kt)("p",null,"UPDATE-2022-02-06\uff1a\u804a\u5929\u6587\u4ef6\u662f\u4ee5\u804a\u5929\u5bf9\u8c61\u7684 md5 \u503c\u4f5c\u4e3a\u6570\u636e\u5e93\u540d\u5b58\u50a8\u7684\uff0c\u5c3d\u7ba1\u5728\u804a\u5929\u8bb0\u5f55\u4e2d\u57fa\u4e8e\u4f60\u548c\u5bf9\u8c61\u7684\u5fae\u4fe1 id \u4f7f\u7528\u4e86\u4e00\u4e2a\u5b57\u6bb5\u8868\u793a\u804a\u5929\u65b9\u5411\uff0c\u4f46\u540c\u65f6\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u6574\u578b\u5b57\u6bb5\u6807\u5fd7\u7740\u662f\u5426\u662f\u81ea\u5df1\uff0c\u6240\u4ee5\u5c3d\u7ba1\u5728\u8054\u7cfb\u4eba\u6570\u636e\u5e93\u4e2d\u627e\u4e0d\u5230\u81ea\u5df1\u7684 id\uff0c\u4f46\u4e0d\u5f71\u54cd\u5bf9\u804a\u5929\u8bb0\u5f55\u4e2d\u804a\u5929\u65b9\u5411\u7684\u8bc6\u522b\u3002"),(0,l.kt)("h3",m({},{id:"todo-get-image-from-xml"}),"TODO: get image from xml"),(0,l.kt)("p",null,"\u8981\u904d\u5386\u672c\u5730\u627e\uff01"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"sample")),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-xml"}),'\x3c!-- StrRes1 --\x3e\n<?xml version="1.0"?>\\n<msg>\\n\\t<img aeskey="252260f7cd231a2ee75e997483fdbe26" encryver="0" cdnthumbaeskey="252260f7cd231a2ee75e997483fdbe26" cdnthumburl="3059020100045230500201000204d3e741cc02030f5bd102041be0cdcb020461fd7c48042b777875706c6f61645f777869645f636b3835787570386231626a32315f3335395f313634343030323337330204011d0a020201000400" cdnthumblength="2906" cdnthumbheight="120" cdnthumbwidth="55" cdnmidheight="0" cdnmidwidth="0" cdnhdheight="0" cdnhdwidth="0" cdnmidimgurl="3059020100045230500201000204d3e741cc02030f5bd102041be0cdcb020461fd7c48042b777875706c6f61645f777869645f636b3835787570386231626a32315f3335395f313634343030323337330204011d0a020201000400" length="1" md5="ac0d0d7ae1c546233d2dd8bdfbaa9d37" hevc_mid_size="77982" />\\n</msg>\\n\n')),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-xml"}),"\x3c!-- messageType --\x3e\n<msgsource>\\n\\t<bizflag>0</bizflag>\\n\\t<sec_msg_node>\\n\\t\\t<uuid>e78ea49721c227614ead30b94f1dea68_</uuid>\\n\\t</sec_msg_node>\\n\\t<signature>v1_IC/iNhD5</signature>\\n</msgsource>\\n\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"windows version: ",(0,l.kt)("a",m({parentName:"li"},{href:"https://bbs.125.la/thread-14304868-1-1.html"}),"\u5fae\u4fe1 hook \u6536\u5230\u7684\u56fe\u7247\u6d88\u606f\u600e\u4e48\u8f6c\u6362\u6210\u56fe\u7247\u5462","_","\u7cbe\u6613\u8bba\u575b"))),(0,l.kt)("h2",m({},{id:"py-sqlcipher-instruction"}),"py-sqlcipher instruction"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"core ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/rigglemania/pysqlcipher3"}),"rigglemania/pysqlcipher3: Python 3 bindings for SQLCipher"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"https://charlesleifer.com/blog/encrypted-sqlite-databases-with-python-and-sqlcipher/"}),"charles leifer | Encrypted SQLite Databases with Python and SQLCipher"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"https://www.runoob.com/sqlite/sqlite-python.html"}),"SQLite \u2013 Python | \u83dc\u9e1f\u6559\u7a0b")))),(0,l.kt)("h3",m({},{id:"compile"}),"compile"),(0,l.kt)("p",null,"\u7f16\u8bd1\u6b65\u9aa4\u6c38\u8fdc\u90fd\u662f\u6700\u70e6\u7684\u54ce\uff0c\u4e0d\u8fc7\u8fd8\u597d\u90fd\u987a\u5229\u901a\u8fc7\u4e86\u3002"),(0,l.kt)("p",null,"\u9996\u5148\u662f\u4e0b\u8f7d\u6e90\u4ee3\u7801\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"git clone https://github.com/rigglemania/pysqlcipher3\ncd pysqlcipher3\n")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644135188856-49a3c5122a1ed7c310f07f68401278000dd70331083c333a7e55789ec6f0f97f.png",alt:"picture 80"}))),(0,l.kt)("p",null,"\u5176\u6b21\u662f\u7f16\u8bd1\uff0c\u6709\u4e24\u79cd\u65b9\u6848\u3002"),(0,l.kt)("p",null,(0,l.kt)("del",{parentName:"p"},"\u7531\u4e8e\u6211\u73b0\u5728\u7cfb\u7edf\u4e2d\u5df2\u7ecf\u9759\u6001\u7f16\u8bd1\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"del"},"sqlcipher")," \u5df2\u7ecf\u6709\u4e86 ",(0,l.kt)("inlineCode",{parentName:"del"},"libsqlcipher"),"\uff0c\u6240\u4ee5\u6211\u76f4\u63a5",(0,l.kt)("inlineCode",{parentName:"del"},"python setup.py install")," \u5c31\u80fd\u6210\u529f\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"find /usr/local/lib -name libsqlcipher.a\n# output: /usr/local/lib/libsqlcipher.a\n")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644135240001-f7a7915f534bb6401b77ab8ddbb6b6d02d26e50868e209c415eb755377ab7a07.png",alt:"picture 81"}))),(0,l.kt)("p",null,"\u5426\u5219\u7684\u8bdd\uff0c\u6211\u9700\u8981\u628a\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u52a8\u6001\u7f16\u8bd1\u4ea7\u751f\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite.[ch]")," \u6587\u4ef6\u90fd\u62f7\u8d1d\u5230\u5f53\u524d\u76ee\u5f55\u4e0b\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644135275190-5f582dbc1de9d6719751b59ae25a5141f99dd7d5153c3a59cce7ac8636f89715.png",alt:"picture 82"}))),(0,l.kt)("p",null,"\u518d\u7f16\u8bd1",(0,l.kt)("inlineCode",{parentName:"p"},"python setup.py build_amalgamation"),"\u53c8\u4f1a\u53d1\u73b0",(0,l.kt)("inlineCode",{parentName:"p"},"src/python3/connection.h"),"\u62a5\u9519\u627e\u4e0d\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher.h"),"\u4e86\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644135531747-a3367cfc37c9ea6b6cd703b9c6ca2226d37e63863a7a87ce408584f09bb0fdd5.png",alt:"picture 83"}))),(0,l.kt)("p",null,"\u6240\u4ee5\u6211\u4eec\u518d\u2026\u2026\u628a ",(0,l.kt)("inlineCode",{parentName:"p"},"amalgamation")," \u6587\u4ef6\u5939\u62f7\u8d1d\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"src/python3/"),"\u4e0b\uff0c\u5e76\u91cd\u547d\u540d\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\u2026\u2026\uff08\u771f\u5fd9\u554a\u2026\u2026\uff09"),(0,l.kt)("p",null,"\u7136\u540e\u7f16\u8bd1\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"python setup.py build_amalgamation\n\npython setup.py install\n")),(0,l.kt)("p",null,"\u6210\u529f\u901a\u8fc7\uff01"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644135629542-210ab9f8ec0d0f66cc1175fac733cb59b5afd897a7485eef8b0a402f24b8bd27.png",alt:"picture 84"}))),(0,l.kt)("p",null,"\u8fd9\u6837\uff0c\u4f60\u624d\u80fd\u5728 python \u4e2d\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"from pysqlcipher3 import dbapi2 as sqlite"),"\u3002"),(0,l.kt)("p",null,"\u6d4b\u8bd5\u662f\u5426\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"pysqlcipher"),"\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644135674098-023717b49ca1c8d9104288088799b163690013c4c3004efffec37fa333576f1f.png",alt:"picture 85"}))),(0,l.kt)("h3",m({},{id:"connection"}),"connection"),(0,l.kt)("p",null,"\u5982\u679c\u662f\u5df2\u89e3\u5bc6/\u672a\u52a0\u5bc6\u7684\u6570\u636e\u5e93\uff0c\u5219\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite3")," \u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u7686\u53ef\u3002d"),(0,l.kt)("p",null,"\u4f46\u5982\u679c\u662f\u52a0\u5bc6\u7684\u6570\u636e\u5e93\uff0c\u5219\u5fc5\u987b\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u8fdb\u5165\u89e3\u5bc6\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u7686\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher")," \u6f14\u793a\u3002"),(0,l.kt)("p",null,"\u547d\u4ee4\u884c\u7248\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),'# \u4e00\u53e5\u8bdd\u641e\u5b9a\nsqlcipher DB/PATH\n\n-- \u9a8c\u8bc1\nsqlite> PRAGMA key = "XXXX";\nsqlite> PRAGMA cipher_compatibility = 3;\n\n-- \u6d4b\u8bd5\nsqlite> .tables\n')),(0,l.kt)("p",null,"python \u7248\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-py"}),'# Python 3.9.10\n\nfrom pysqlcipher3 import dbapi2 as sqlite\nfrom pysqlcipher3.dbapi2 import Connection\n\ndef auth_db(ddb_path: str, db_key: str) -> Connection:\n\n    logger.info({"dp_path": db_path})\n    conn = sqlite.connect(db_path)\n\n    conn.execute(f\'PRAGMA key = "{db_key}";\')\n    conn.execute(f"PRAGMA cipher_compatibility = 3;")\n    conn.commit()\n\n    logger.info(f"authenticated {db_file}")\n    return conn\n')),(0,l.kt)("h3",m({},{id:"table"}),"table"),(0,l.kt)("h4",m({},{id:"list-all-the-tables"}),"list all the tables"),(0,l.kt)("p",null,"If you are using pure ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlite/sqlcipher"),", then using ",(0,l.kt)("inlineCode",{parentName:"p"},".tables")," can list all the tables. However, it won't in the py program."),(0,l.kt)("p",null,"In programme, I need to using the following:"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),'SELECT name FROM sqlite_master WHERE type = "table"\n')),(0,l.kt)("p",null,"And the python may be:"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-py"}),"tables = list(c.execute('SELECT name FROM sqlite_master WHERE type = \"table\"'))\n")),(0,l.kt)("p",null,"And the sample result of tx-contact table is:"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644075446587-2f42b7d6a6f49cf9436ac7617a6dd20a65954db0da8d17f1967fb36032097367.png",alt:"picture 49"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://stackoverflow.com/questions/82875/how-can-i-list-the-tables-in-a-sqlite-database-file-that-was-opened-with-attach"}),"sql - How can I list the tables in a SQLite database file that was opened with ATTACH? - Stack Overflow"))),(0,l.kt)("h4",m({},{id:"list-the-columns-of-table-get-table-schema"}),"list the columns of table (get table schema)"),(0,l.kt)("p",null,"In sql, we can use:"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),"-- to list all the tables in the database:\n.tables\n\n-- to show the schema for a given tablename:\n.schema tablename\n")),(0,l.kt)("p",null,"Otherwise:"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),"PRAGMA table_info(table_name);\n")),(0,l.kt)("p",null,"And to get column names in py:"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-py"}),'columns = list(i[1] for i in conn.execute(f"PRAGMA table_info({table_name})"))\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://www.sqlitetutorial.net/sqlite-tutorial/sqlite-describe-table/"}),"SQLite Describe Table"))),(0,l.kt)("h4",m({},{id:"format-rows-display"}),"format rows display"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),"-- to show current configuration\n.show\n\n-- to show rows of columns\n.headers ON\n.mode columns\n.nullvalue -\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"https://dba.stackexchange.com/questions/40656/how-to-properly-format-sqlite-shell-output"}),"How to properly format sqlite shell output? - Database Administrators Stack Exchange"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"https://dba.stackexchange.com/questions/40656/how-to-properly-format-sqlite-shell-output/219988"}),"How to properly format sqlite shell output? - Database Administrators Stack Exchange"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"http://www.infinitezest.com/articles/creating-user-friendly-output-from-sqlite.aspx"}),"infiniteZest.com: Creating User Friendly Output from SQLite"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",m({parentName:"p"},{href:"https://stackoverflow.com/questions/947215/how-to-get-a-list-of-column-names-on-sqlite3-database"}),"sqlite - How to get a list of column names on Sqlite3 database? - Stack Overflow")))),(0,l.kt)("h4",m({},{id:"list-rows-in-one-table"}),"list rows in one table"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sql"}),"SELECT * from XXXTABLE\n\n-- limit rows, skip/offset rows\nSELECT * FROM table LIMIT -1 OFFSET 10\n\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"sample")),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644075527796-64ff73b5b33e8d861f0fa9ccc81f5329e323e459977abe720cfed5e7e7ee8b91.png",alt:"picture 50"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://stackoverflow.com/questions/10491492/sqlite-with-skip-offset-only-not-limit"}),"SQLite with skip (offset) only (not limit) - Stack Overflow"))),(0,l.kt)("h2",m({},{id:"extended"}),"extended"),(0,l.kt)("h3",m({},{id:"how-to-know-my-openssl-versioninfo"}),"how to know my openssl version/info"),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),'$ openssl version -a\n\nLibreSSL 2.8.3\nbuilt on: date not available\nplatform: information not available\noptions:  bn(64,64) rc4(16x,int) des(idx,cisc,16,int) blowfish(idx)\ncompiler: information not available\nOPENSSLDIR: "/private/etc/ssl"\n')),(0,l.kt)("p",null,"the ",(0,l.kt)("inlineCode",{parentName:"p"},"OPENSSLDIR")," is the config info for openssl other than the src files."),(0,l.kt)("pre",null,(0,l.kt)("code",m({parentName:"pre"},{className:"language-sh"}),"$ tree /private/etc/ssl\n\n/private/etc/ssl\n\u251c\u2500\u2500 cert.pem\n\u251c\u2500\u2500 certs\n\u251c\u2500\u2500 openssl.cnf\n\u2514\u2500\u2500 x509v3.cnf\n\n1 directory, 3 files\n")),(0,l.kt)("p",null,"And as mentioned from ",(0,l.kt)("a",m({parentName:"p"},{href:"https://blog.csdn.net/u011195398/article/details/85266214"}),"Mac \u7ec8\u7aef\u4f7f\u7528 Sqlcipher \u52a0\u89e3\u5bc6\u57fa\u7840\u8fc7\u7a0b\u8be6\u89e3","_","Martin.Mu `s Special Column-CSDN \u535a\u5ba2","_","mac sqlcipher"),", the built-in ",(0,l.kt)("inlineCode",{parentName:"p"},"openssl")," on MacOS may not be suitable for our project target."),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644050865960-53d51937372a7a78dc69ae4400596947dff31b8a528f5344aff55677334f6d3e.png",alt:"picture 13"}))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",m({parentName:"li"},{href:"https://phoenixnap.com/kb/how-to-check-openssl-version"}),"How to Check or Find the OpenSSL Version Easy Way"))),(0,l.kt)("h3",m({},{id:"bugfix-error-c-compiler-cannot-create-executables"}),"bugfix: ",(0,l.kt)("inlineCode",{parentName:"h3"},"error: C compiler cannot create executables")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"ref")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e00\u4e2a mac \u7528\u6237\u78b0\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u7136\u540e\u5728 github \u8be2\u95ee\uff1a",(0,l.kt)("a",m({parentName:"p"},{href:"https://github.com/sqlcipher/sqlcipher/issues/378"}),"Installation on MacOS Catalina, C compiler cannot create executables \xb7 Issue #378 \xb7 sqlcipher/sqlcipher"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e0a\u4e2a\u7528\u6237\u88ab\u5f00\u53d1\u8005\u529d\u9000\uff0c\u8bf4\u6765\u8fd9\u91cc\u95ee\uff0c\u4f46\u662f\u8fd9\u91cc\u6ca1\u6709\u5f97\u5230\u56de\u590d\ud83d\ude22\uff1a",(0,l.kt)("a",m({parentName:"p"},{href:"https://discuss.zetetic.net/t/sqlcipher-installation-on-macos-catalina-c-compiler-cannot-create-executables/4807"}),"SQLCipher Installation on MacOS Catalina, C compiler cannot create executables - SQLCipher - Zetetic Community Discussion"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8fd9\u91cc\u770b\u8d77\u6765\u8ba8\u8bba\u7684\u66f4\u70ed\u70c8\u4e9b\uff0c\u4f46\u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"sqlcipher"),"\u65e0\u5173\uff1a ",(0,l.kt)("a",m({parentName:"p"},{href:"https://askubuntu.com/questions/647583/how-to-fix-configure-error-c-compiler-cannot-create-executables"}),"command line - how to fix configure: error: C compiler cannot create executables - Ask Ubuntu")))),(0,l.kt)("h2",m({},{id:"\u672c\u9879\u76ee\u5408\u4f5c\u4f19\u4f34"}),"\u672c\u9879\u76ee\u5408\u4f5c\u4f19\u4f34"),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644139731203-958d64fdabac5af3a2cfdd96b1bf5d863b81d1363f8b116649256388ae8ae438.png",alt:"\u67d0\u653b\u9632\u5de5\u7a0b\u5e08\uff0cw\u54e5"}))),(0,l.kt)("p",null,(0,l.kt)("img",m({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/mac-wechat-hack-1644139704659-4a00c03e7eed677c88c5d56b7e6853eef631a646b24f5e4dab2f9ad1d0884d25.png",alt:"\u67d0\u652f\u6301\u5de5\u7a0b\u5e08\uff0cz\u59b9"}))))}g.isMDXComponent=!0}}]);