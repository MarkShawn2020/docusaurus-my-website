"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[13943],{35318:(e,a,t)=>{t.d(a,{Zo:()=>s,kt:()=>m});var n=t(27378);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),c=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):p(p({},a),e)),t},s=function(e){var a=c(e.components);return n.createElement(o.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,k=d["".concat(o,".").concat(m)]||d[m]||u[m]||l;return t?n.createElement(k,p(p({ref:a},s),{},{components:t})):n.createElement(k,p({ref:a},s))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,p=new Array(l);p[0]=d;var i={};for(var o in a)hasOwnProperty.call(a,o)&&(i[o]=a[o]);i.originalType=e,i.mdxType="string"==typeof e?e:r,p[1]=i;for(var c=2;c<l;c++)p[c]=t[c];return n.createElement.apply(null,p)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},45626:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>h,contentTitle:()=>m,default:()=>v,frontMatter:()=>d,metadata:()=>k,toc:()=>f});var n=t(35318),r=Object.defineProperty,l=Object.defineProperties,p=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,s=(e,a,t)=>a in e?r(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,u=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&s(e,t,a[t]);if(i)for(var t of i(a))c.call(a,t)&&s(e,t,a[t]);return e};const d={},m="rockchip4 vr manual",k={unversionedId:"coding/hardware/rockchip/rockchip4-vr-manual",id:"coding/hardware/rockchip/rockchip4-vr-manual",title:"rockchip4 vr manual",description:"1. test diy and compile surfaceflinger",source:"@site/my-documents/docs/coding/hardware/rockchip/rockchip4-vr-manual.md",sourceDirName:"coding/hardware/rockchip",slug:"/coding/hardware/rockchip/rockchip4-vr-manual",permalink:"/docs/coding/hardware/rockchip/rockchip4-vr-manual",draft:!1,editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/my-documents/docs/coding/hardware/rockchip/rockchip4-vr-manual.md",tags:[],version:"current",lastUpdatedAt:1726564669,formattedLastUpdatedAt:"2024\u5e749\u670817\u65e5",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"rockchip howto",permalink:"/docs/coding/hardware/rockchip/rockchip4-howto"},next:{title:"init-server",permalink:"/docs/coding/init-server"}},h={},f=[{value:"test diy and compile surfaceflinger",id:"test-diy-and-compile-surfaceflinger",level:2},{value:"1. \u2705 \u865a\u62df\u673a\u627e\u4e0d\u5230 adb \u8bbe\u5907",id:"1--\u865a\u62df\u673a\u627e\u4e0d\u5230-adb-\u8bbe\u5907",level:3},{value:"2. \u2705 \u542f\u7528\u6295\u5c4f",id:"2--\u542f\u7528\u6295\u5c4f",level:3},{value:"3. \u2705 \u4fee\u6539\u6e90\u7801\uff0c\u5c1d\u8bd5\u5728<code>surfaceflinger</code>\u90e8\u5206\u52a0\u5165\u51e0\u53e5 log",id:"3--\u4fee\u6539\u6e90\u7801\u5c1d\u8bd5\u5728surfaceflinger\u90e8\u5206\u52a0\u5165\u51e0\u53e5-log",level:3},{value:"4. \u2705 \u63a8\u5165\u7cfb\u7edf",id:"4--\u63a8\u5165\u7cfb\u7edf",level:3},{value:"5. \u2705 \u6d4b\u8bd5\u662f\u5426\u7f16\u8bd1\u901a\u8fc7\u6210\u529f",id:"5--\u6d4b\u8bd5\u662f\u5426\u7f16\u8bd1\u901a\u8fc7\u6210\u529f",level:3},{value:"compile and run the first vr mode",id:"compile-and-run-the-first-vr-mode",level:2},{value:"error of null pointer",id:"error-of-null-pointer",level:3},{value:"output 4k",id:"output-4k",level:2},{value:"\u5206\u8fa8\u7387\u8f93\u51fa\u903b\u8f91",id:"\u5206\u8fa8\u7387\u8f93\u51fa\u903b\u8f91",level:3},{value:"TODO: check supported resolutions",id:"todo-check-supported-resolutions",level:3},{value:"TODO: \u81ea\u5b9a\u4e49\u5206\u8fa8\u7387\u8f93\u51fa\u53c2\u6570",id:"todo-\u81ea\u5b9a\u4e49\u5206\u8fa8\u7387\u8f93\u51fa\u53c2\u6570",level:3},{value:"change hdmi output resolution",id:"change-hdmi-output-resolution",level:3},{value:"resolution 1. set <code>framebuffer</code> and <code>resolution</code>",id:"resolution-1-set-framebuffer-and-resolution",level:4},{value:"approach 1. define in device and burn",id:"approach-1-define-in-device-and-burn",level:5},{value:"approach 2. use adb",id:"approach-2-use-adb",level:5},{value:"resolution 2. change dts",id:"resolution-2-change-dts",level:4},{value:"PASSED: change <code>RkConfig</code>",id:"passed-change-rkconfig",level:4},{value:"\u4e3b\u677f\u652f\u6301 4k60hz \u8f93\u51fa\u4fee\u6539",id:"\u4e3b\u677f\u652f\u6301-4k60hz-\u8f93\u51fa\u4fee\u6539",level:3},{value:"\u6d4b\u8bd5 edid \u4fee\u6539\u7ed3\u679c",id:"\u6d4b\u8bd5-edid-\u4fee\u6539\u7ed3\u679c",level:3},{value:"HDMI \u76f8\u5173\u4ecb\u7ecd",id:"hdmi-\u76f8\u5173\u4ecb\u7ecd",level:2},{value:"EDID",id:"edid",level:3},{value:"HDMI \u6bd4\u4f8b",id:"hdmi-\u6bd4\u4f8b",level:3},{value:"\u2728\u2728 VOP(<code>vopb</code> | <code>vopl</code>)",id:"-vopvopb--vopl",level:3},{value:"\u542f\u7528<code>vopb</code>",id:"\u542f\u7528vopb",level:4},{value:"\u7ed1\u5b9a<code>pll</code>",id:"\u7ed1\u5b9apll",level:4},{value:"VOP \u8c03\u8bd5\uff08hdmi \u56fe\u5c42\u663e\u793a\uff09",id:"vop-\u8c03\u8bd5hdmi-\u56fe\u5c42\u663e\u793a",level:4},{value:"\u2728\u2728 \u4e3b\u526f\u5c4f",id:"-\u4e3b\u526f\u5c4f",level:3},{value:"\u542f\u7528 HDMI \u4e3a\u526f\u5c4f",id:"\u542f\u7528-hdmi-\u4e3a\u526f\u5c4f",level:4},{value:"\u67e5\u770b\u4e3b\u526f\u5c4f\u8f93\u51fa\u63a5\u53e3",id:"\u67e5\u770b\u4e3b\u526f\u5c4f\u8f93\u51fa\u63a5\u53e3",level:4},{value:"HDMI \u5f15\u811a",id:"hdmi-\u5f15\u811a",level:3},{value:"\u663e\u793a\u6865\u63a5\u82af\u7247",id:"\u663e\u793a\u6865\u63a5\u82af\u7247",level:3}],b={toc:f};function v(e){var a,t=e,{components:r}=t,s=((e,a)=>{var t={};for(var n in e)o.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&i)for(var n of i(e))a.indexOf(n)<0&&c.call(e,n)&&(t[n]=e[n]);return t})(t,["components"]);return(0,n.kt)("wrapper",(a=u(u({},b),s),l(a,p({components:r,mdxType:"MDXLayout"}))),(0,n.kt)("h1",u({},{id:"rockchip4-vr-manual"}),"rockchip4 vr manual"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#test-diy-and-compile-surfaceflinger"}),"test diy and compile surfaceflinger"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#1-white_check_mark-%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%BE%E4%B8%8D%E5%88%B0adb%E8%AE%BE%E5%A4%87"}),"1. \u2705 \u865a\u62df\u673a\u627e\u4e0d\u5230 adb \u8bbe\u5907")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#2-white_check_mark-%E5%90%AF%E7%94%A8%E6%8A%95%E5%B1%8F"}),"2. \u2705 \u542f\u7528\u6295\u5c4f")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#3-white_check_mark-%E4%BF%AE%E6%94%B9%E6%BA%90%E7%A0%81%E5%B0%9D%E8%AF%95%E5%9C%A8surfaceflinger%E9%83%A8%E5%88%86%E5%8A%A0%E5%85%A5%E5%87%A0%E5%8F%A5log"}),"3. \u2705 \u4fee\u6539\u6e90\u7801\uff0c\u5c1d\u8bd5\u5728",(0,n.kt)("inlineCode",{parentName:"a"},"surfaceflinger"),"\u90e8\u5206\u52a0\u5165\u51e0\u53e5 log")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#4-white_check_mark-%E6%8E%A8%E5%85%A5%E7%B3%BB%E7%BB%9F"}),"4. \u2705 \u63a8\u5165\u7cfb\u7edf")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#5-white_check_mark-%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E7%BC%96%E8%AF%91%E9%80%9A%E8%BF%87%E6%88%90%E5%8A%9F"}),"5. \u2705 \u6d4b\u8bd5\u662f\u5426\u7f16\u8bd1\u901a\u8fc7\u6210\u529f")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#compile-and-run-the-first-vr-mode"}),"compile and run the first vr mode"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#error-of-null-pointer"}),"error of null pointer")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#output-4k"}),"output 4k"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E5%88%86%E8%BE%A8%E7%8E%87%E8%BE%93%E5%87%BA%E9%80%BB%E8%BE%91"}),"\u5206\u8fa8\u7387\u8f93\u51fa\u903b\u8f91")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#todo-check-supported-resolutions"}),"TODO: check supported resolutions")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#todo-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E8%BE%A8%E7%8E%87%E8%BE%93%E5%87%BA%E5%8F%82%E6%95%B0"}),"TODO: \u81ea\u5b9a\u4e49\u5206\u8fa8\u7387\u8f93\u51fa\u53c2\u6570")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#change-hdmi-output-resolution"}),"change hdmi output resolution"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#resolution-1-set-framebuffer-and-resolution"}),"resolution 1. set ",(0,n.kt)("inlineCode",{parentName:"a"},"framebuffer")," and ",(0,n.kt)("inlineCode",{parentName:"a"},"resolution"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#resolution-2-change-dts"}),"resolution 2. change dts")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#passed-change-rkconfig"}),"PASSED: change ",(0,n.kt)("inlineCode",{parentName:"a"},"RkConfig"))))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E4%B8%BB%E6%9D%BF%E6%94%AF%E6%8C%814k60hz%E8%BE%93%E5%87%BA%E4%BF%AE%E6%94%B9"}),"\u4e3b\u677f\u652f\u6301 4k60hz \u8f93\u51fa\u4fee\u6539")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E6%B5%8B%E8%AF%95edid%E4%BF%AE%E6%94%B9%E7%BB%93%E6%9E%9C"}),"\u6d4b\u8bd5 edid \u4fee\u6539\u7ed3\u679c")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#hdmi-%E7%9B%B8%E5%85%B3%E4%BB%8B%E7%BB%8D"}),"HDMI \u76f8\u5173\u4ecb\u7ecd"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#edid"}),"EDID")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#hdmi%E6%AF%94%E4%BE%8B"}),"HDMI \u6bd4\u4f8b")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#sparklessparkles-vopvopb--vopl"}),"\u2728\u2728 VOP(",(0,n.kt)("inlineCode",{parentName:"a"},"vopb")," | ",(0,n.kt)("inlineCode",{parentName:"a"},"vopl"),")"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E5%90%AF%E7%94%A8vopb"}),"\u542f\u7528",(0,n.kt)("inlineCode",{parentName:"a"},"vopb"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E7%BB%91%E5%AE%9Apll"}),"\u7ed1\u5b9a",(0,n.kt)("inlineCode",{parentName:"a"},"pll"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#vop%E8%B0%83%E8%AF%95hdmi-%E5%9B%BE%E5%B1%82%E6%98%BE%E7%A4%BA"}),"VOP \u8c03\u8bd5\uff08hdmi \u56fe\u5c42\u663e\u793a\uff09")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#sparklessparkles-%E4%B8%BB%E5%89%AF%E5%B1%8F"}),"\u2728\u2728 \u4e3b\u526f\u5c4f"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E5%90%AF%E7%94%A8hdmi%E4%B8%BA%E5%89%AF%E5%B1%8F"}),"\u542f\u7528 HDMI \u4e3a\u526f\u5c4f")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E6%9F%A5%E7%9C%8B%E4%B8%BB%E5%89%AF%E5%B1%8F%E8%BE%93%E5%87%BA%E6%8E%A5%E5%8F%A3"}),"\u67e5\u770b\u4e3b\u526f\u5c4f\u8f93\u51fa\u63a5\u53e3")))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#hdmi%E5%BC%95%E8%84%9A"}),"HDMI \u5f15\u811a")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",u({parentName:"li"},{href:"#%E6%98%BE%E7%A4%BA%E6%A1%A5%E6%8E%A5%E8%8A%AF%E7%89%87"}),"\u663e\u793a\u6865\u63a5\u82af\u7247"))))),(0,n.kt)("h2",u({},{id:"test-diy-and-compile-surfaceflinger"}),"test diy and compile surfaceflinger"),(0,n.kt)("h3",u({},{id:"1--\u865a\u62df\u673a\u627e\u4e0d\u5230-adb-\u8bbe\u5907"}),"1. \u2705 \u865a\u62df\u673a\u627e\u4e0d\u5230 adb \u8bbe\u5907"),(0,n.kt)("p",null,"\u76ee\u524d rc \u901a\u8fc7 usb \u9ed8\u8ba4\u8fde\u63a5\u5230\u4e86\u4e3b\u673a\u4e0a\uff0c\u5bfc\u81f4\u865a\u62df\u673a\u91cc\u7684 ubuntu \u627e\u4e0d\u5230 adb\uff0c\u6839\u636e ",(0,n.kt)("a",u({parentName:"p"},{href:"https://community.spiceworks.com/topic/2303147-in-vmware-player-i-can-t-get-adb-devices-to-see-my-phone"}),"In VMWare Player, I can't get adb devices to see my phone - Spiceworks")),(0,n.kt)("p",null,"\u53ef\u4ee5\u5728\u8fd9\u91cc\u4fee\u6539\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644291505272-a4660a930c8165733e3be82a551ea7e9e93b1e4b7cb1dc9d22c9c8cb8f4410d2.png",alt:"picture 3"}))),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644291490776-a17326a3c58a579e8eb0500b03f35d227798b68c05143f45dc160e54686a0eba.png",alt:"picture 2"}))),(0,n.kt)("p",null,"\u4f46\u662f\u521a\u521a\u53d1\u73b0\u8fd8\u662f\u4e0d\u884c\uff0c\u8fd8\u662f\u68c0\u6d4b\u4e0d\u5230\uff0c\u540e\u6765\u610f\u8bc6\u5230\u5e94\u8be5\u662f\u677f\u5b50\u91cc\u7684\u7cfb\u7edf\u5df2\u7ecf\uff08\u7c7b\u4f3c\uff09\u4f11\u7720\u4e86\uff0c\u56e0\u4e3a\u84dd\u706f\u5df2\u7ecf\u4e0d\u95ea\u4e86\u3002\u6240\u4ee5\u91cd\u65b0\u63d2\u62d4\u4f9b\u7535\u7ebf\uff0c\u5f3a\u5236\u91cd\u542f\u677f\u5b50\u7cfb\u7edf\uff0c",(0,n.kt)("strong",{parentName:"p"},"\u5341\u51e0\u79d2\u540e\u5c31\u8df3\u51fa usb \u8fde\u63a5\u54ea\u4e2a\u4e3b\u673a\u7684\u5f39\u7a97"),"\uff0c\u5728\u9009\u62e9\u8fde\u63a5\u5230 linux \u4e4b\u540e\uff0cubuntu \u5185\u5c31\u51fa\u73b0\u4e86 adb \u8bbe\u5907\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644291859846-df250a16abde64924d64c73c66369636d179e8ea760efd1ba1ff4b0f7dc6183b.png",alt:"picture 4"}))),(0,n.kt)("p",null,"\u5c3d\u7ba1\u76ee\u524d\u5df2\u7ecf\u89e3\u51b3\u4e86\u95ee\u9898\uff0c\u4f46\u662f\u6709\u5f39\u7a97\u4e5f\u610f\u5473\u7740\u521a\u521a\u7684\u914d\u7f6e\u662f\u5931\u6548\u7684\uff0c\u6240\u4ee5\u68c0\u67e5\u4e86\u4e00\u4e0b\uff0c\u679c\u7136\u53c8\u53d8\u6210\u201cask what to do\u201d\u4e86\uff0c\u4e3a\u4e86\u6d4b\u8bd5\u662f\u5426\u80fd\u591f\u76f4\u63a5\u8fde\u5230 vmware\uff0c\u6211\u53c8\u52a0\u5f3a\u4e86\u4e00\u4e0b\u8bbe\u7f6e\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644291965505-85fc02a5056db7b8499280c7dbaa9d03053895e7430c1038c797e6822001617e.png",alt:"picture 5"}))),(0,n.kt)("p",null,"\u7136\u540e",(0,n.kt)("strong",{parentName:"p"},"\u91cd\u65b0\u767b\u5f55"),"\u4e4b\u540e\uff0c\u53d1\u73b0\u662f\u53ef\u884c\u7684\uff0c\u8bbe\u5907\u8fd8\u5728\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644292015229-94eb3717c5014f721507b40bbf5900a9747a0da9b920e6d139d2df0e1abf658a.png",alt:"picture 6"}))),(0,n.kt)("p",null,"\u4f46\u8fd9\u4e0d\u591f\uff0c\u6211\u4eec\u518d\u52a0\u6d4b",(0,n.kt)("strong",{parentName:"p"},"\u677f\u5b50\u91cd\u65b0\u63d2\u62d4\u7535\u540e\u662f\u5426\u80fd\u591f\u76f4\u63a5\u8fde\u5230\u865a\u62df\u673a"),"\u3002"),(0,n.kt)("p",null,"\u6d4b\u8bd5\u7ed3\u679c\u5f88\u987a\u5229\uff0c\u6ca1\u6709\u5f39\u7a97\uff0c\u865a\u62df\u673a\u91cc\u7684 adb \u7ee7\u7eed\u8fde\u4e0a\u4e86\u3002"),(0,n.kt)("p",null,"\u5e76\u4e14",(0,n.kt)("inlineCode",{parentName:"p"},"watch adb devices"),"\u53ef\u4ee5\u53d1\u73b0\uff0c\u65ad\u7535\u540e\u8bbe\u5907\u6d88\u5931\uff0c\u63a5\u7535\u5f00\u673a\u540e\u8bbe\u5907\u81ea\u52a8\u663e\u793a\u3002\u4e00\u5207\u7b26\u5408\u9884\u671f\u3002"),(0,n.kt)("h3",u({},{id:"2--\u542f\u7528\u6295\u5c4f"}),"2. \u2705 \u542f\u7528\u6295\u5c4f"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u66f4\u6539\u865a\u62df\u673a\u7684 vpn")),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644292303819-535bf4b5161fe9a7835113252cf96809456a599eef593a12d4ecdecde5ef484d.png",alt:"picture 7"}))),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644292319861-51e3b642065e81eff1efc0c1e6f81a14f161e891a0be68fe835e23b86529c785.png",alt:"picture 8"}))),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644292355761-6b49a051496a88321ad542b062670b7d15c689560a05d624e4d0864775603fec.png",alt:"picture 9"}))),(0,n.kt)("ol",u({},{start:2}),(0,n.kt)("li",{parentName:"ol"},"\u5b89\u88c5",(0,n.kt)("inlineCode",{parentName:"li"},"scrcpy"))),(0,n.kt)("p",null,"\u9996\u5148\u5c1d\u8bd5",(0,n.kt)("inlineCode",{parentName:"p"},"sudo apt install scrcpy"),"\u53d1\u73b0\u4e0d\u884c\uff0c\u597d\u5728",(0,n.kt)("inlineCode",{parentName:"p"},"snap"),"\u91cc\u6709\uff0c\u7528",(0,n.kt)("inlineCode",{parentName:"p"},"snap install scrcpy"),"\u88c5\u4e0a\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644292426121-edc7fc3b7060801ff7336e8696b30718cc63b25b1e18edd10e5a4ea6a954198f.png",alt:"picture 10"}))),(0,n.kt)("p",null,"\u76ee\u524d\u4e00\u5207\u987a\u5229"),(0,n.kt)("h3",u({},{id:"3--\u4fee\u6539\u6e90\u7801\u5c1d\u8bd5\u5728surfaceflinger\u90e8\u5206\u52a0\u5165\u51e0\u53e5-log"}),"3. \u2705 \u4fee\u6539\u6e90\u7801\uff0c\u5c1d\u8bd5\u5728",(0,n.kt)("inlineCode",{parentName:"h3"},"surfaceflinger"),"\u90e8\u5206\u52a0\u5165\u51e0\u53e5 log"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u52a0 log \u8981\u5728\u51fd\u6570\u91cc\u52a0\uff0c\u4e0d\u80fd\u76f4\u63a5\u52a0\u5728\u6587\u4ef6\u7ea7\u522b"),"\uff0c\u8fd9\u662f C++\u548c python \u4e4b\u7c7b\u8bed\u8a00\u7684\u4e00\u4e2a\u6bd4\u8f83\u660e\u663e\u7684\u533a\u522b\uff0c\u5426\u5219\u4f1a\u62a5\u51fd\u6570\u627e\u4e0d\u5230\u9519\u8bef\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644297427881-4965e9b5200916e5524700d061d8e622ba667a76db3f7becf8360bb498c8bc44.png",alt:"picture 14"}))),(0,n.kt)("p",null,"\u6240\u4ee5\u6211\u6700\u540e\u662f\u8fd9\u4e48\u52a0\u7684\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644297486127-01a0286a7798e5b1af0ebf954c4af043993cadb69ff848afd1f10f04e63f7b8f.png",alt:"picture 15"}))),(0,n.kt)("p",null,"\u7f16\u8bd1\u6210\u529f\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644297376178-f3130420824d0b978095a5e477efb6615b17045bde2225334d3286ebc7df1818.png",alt:"picture 13"}))),(0,n.kt)("h3",u({},{id:"4--\u63a8\u5165\u7cfb\u7edf"}),"4. \u2705 \u63a8\u5165\u7cfb\u7edf"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"read-only system")," ",(0,n.kt)("img",u({parentName:"li"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644297365734-9aba960db2fae4365663aebfbad05efc10fa2cdf320954dbf2b7f9680a19c07d.png",alt:"picture 12"})))),(0,n.kt)("p",null,"step 1. ",(0,n.kt)("inlineCode",{parentName:"p"},"disable-verity")),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),'echo "rooting"; adb root;\necho "waiting to disable verity"; sleep 10; adb disable-verity;\necho "waiting to remount"; adb remount;\n')),(0,n.kt)("p",null,"step 2. ",(0,n.kt)("inlineCode",{parentName:"p"},"adb push")),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"BUILD_SYSTEM=out/target/product/rk3399_Android10/system\nADB_SYSTEM=/system\nMODULE=surfaceflinger\nLIB_MODULE=lib$MODULE.so\nadb push $BUILD_SYSTEM/bin/$MODULE /system/bin/$MODULE\nadb push $BUILD_SYSTEM/lib/$LIB_MODULE /system/lib/$LIB_MODULE\nadb push $BUILD_SYSTEM/lib64/$LIB_MODULE /system/lib64/$LIB_MODULE\n")),(0,n.kt)("h3",u({},{id:"5--\u6d4b\u8bd5\u662f\u5426\u7f16\u8bd1\u901a\u8fc7\u6210\u529f"}),"5. \u2705 \u6d4b\u8bd5\u662f\u5426\u7f16\u8bd1\u901a\u8fc7\u6210\u529f"),(0,n.kt)("p",null,"\u786e\u8ba4\u5df2\u7ecf\u6709\u4e86\u6211\u4eec\u4fee\u6539\u7684\u4fe1\u606f\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/diary-public-1644299092756-8c4e6436e39052c591eef37c23a08975d665aa3141e0b1fc13c869981f670638.png",alt:"picture 16"}))),(0,n.kt)("p",null,"\u6d4b\u8bd5\u901a\u8fc7\uff01"),(0,n.kt)("h2",u({},{id:"compile-and-run-the-first-vr-mode"}),"compile and run the first vr mode"),(0,n.kt)("h3",u({},{id:"error-of-null-pointer"}),"error of null pointer"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644322885417-1a0cfd0afbe3b026ac4eccdf3309404fed3c342a037d4712a8ce2245c8d76fe5.png",alt:"picture 22"}))),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644323010078-bc993677892afa7108f54e21d796f58d348454602b6e311a1b81aa967731347c.png",alt:"picture 23"}))),(0,n.kt)("h2",u({},{id:"output-4k"}),"output 4k"),(0,n.kt)("h3",u({},{id:"\u5206\u8fa8\u7387\u8f93\u51fa\u903b\u8f91"}),"\u5206\u8fa8\u7387\u8f93\u51fa\u903b\u8f91"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"SDK \u9ed8\u8ba4\u7684\u5206\u8fa8\u7387\u662f\u8bfb\u53d6\u7535\u89c6\u7684 edid\uff0c\u7136\u540e\u9009\u62e9\u6700\u5927\u8f93\u51fa\u7684"),(0,n.kt)("p",{parentName:"blockquote"},"\u9700\u8981\u5728\u4fee\u6539\u5185\u6838\u548c\u914d\u5408 Setting \u624d\u53ef\u4ee5")),(0,n.kt)("p",null,"\u6240\u8c13\uff0c\u5185\u6838\uff0c\u4e5f\u5c31\u662f rk3399 \u5df2\u7ecf\u5b9a\u4e49\u7684\u4e00\u4e9b\u5206\u8fa8\u7387\u8f93\u51fa\u7684\u53c2\u6570\uff0c\u6bcf\u79cd\u90fd\u6709\u81ea\u5df1\u7684\u65f6\u5e8f\u8bbe\u7f6e\u30024k \u76ee\u524d\u652f\u6301\u7684\u662f 3920x2160\uff0c\u5982\u679c\u6211\u4eec\u60f3\u8981 3920x1080\uff0c\u5f97\u81ea\u5df1\u5b9a\u5236\u3002"),(0,n.kt)("p",null,"\u8bbe\u7f6e\u7684\u8bdd\uff0c\u6309\u7167\u9898\u4e3b\u7684\u6478\u7d22\uff0c\u5982\u4e0b\uff1a"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u8c22\u8c22\uff0c\u4fee\u6539\u5185\u6838\u4ee3\u7801\u641e\u5b9a\u4e86 kernel\\drivers\\video\\rockchip\\hdmi\\rockchip-hdmi.h #define HDMI_VIDEO_DEFAULT_MODE HDMI_1280X720P_60HZ \u4fee\u6539\u4e3a HDMI_1920x1080P_60HZ")),(0,n.kt)("p",null,"\u6240\u4ee5\u8981\u53bb",(0,n.kt)("inlineCode",{parentName:"p"},"kernel/drivers/video/rockchip/hdmi/"),"\u4e0b\u627e\u5230",(0,n.kt)("inlineCode",{parentName:"p"},"rockchip-hdmi/h"),"\u6587\u4ef6\uff0c\u4fee\u6539\u5668",(0,n.kt)("inlineCode",{parentName:"p"},"HDMI_VIDEO_DEFAULT_MODE"),"\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u62c9\u7684\u7248\u672c\u91cc\u76ee\u5f55\u5df2\u7ecf\u5b8c\u5168\u4e0d\u5bf9\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644777515302-76380b70651884e8a52a800ec2f9d1af43781e5a10e465050c69ef24b084e869.png",alt:"picture 41"}))),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://dev.t-firefly.com/thread-12261-1-1.html"}),"3399 \u7684\u677f\u5b50\uff0cHDMI \u9ed8\u8ba4\u8f93\u51fa\u5206\u8fa8\u7387\u5728\u54ea\u91cc\u4fee\u6539 - Firefly-RK3399 - Firefly \u5f00\u6e90\u793e\u533a 3399 \u7684\u677f\u5b50\uff0cHDMI \u9ed8\u8ba4\u8f93\u51fa\u5206\u8fa8\u7387\u5728\u54ea\u91cc\u4fee\u6539"))),(0,n.kt)("h3",u({},{id:"todo-check-supported-resolutions"}),"TODO: check supported resolutions"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"sudo tvservice --status\nsudo tvservice --modes=CEA\nsudo tvservice --modes=RGB\n")),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://stackoverflow.com/questions/34904763/linux-framebuffer-set-resolution-correctly"}),"graphics - Linux Framebuffer set resolution correctly - Stack Overflow"))),(0,n.kt)("h3",u({},{id:"todo-\u81ea\u5b9a\u4e49\u5206\u8fa8\u7387\u8f93\u51fa\u53c2\u6570"}),"TODO: \u81ea\u5b9a\u4e49\u5206\u8fa8\u7387\u8f93\u51fa\u53c2\u6570"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://download.csdn.net/download/com6339663/14926373?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164477580616781685380768%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fdownload.%2522%257D&request_id=164477580616781685380768&biz_id=1&utm_medium=distribute.pc_search_result.none-task-download-2~download~first_rank_ecpm_v1~rank_v31_ecpm-1-14926373.pc_v2_rank_dl_default&utm_term=rk3399+hdmi+&spm=1018.2226.3001.4451.1"}),"(1 \u6761\u6d88\u606f) rk3399 \u7684 android7.1 \u5e73\u53f0\u65b0\u589e HDMI \u7279\u6b8a\u5206\u8fa8\u7387\u8f93\u51fa\u4fee\u6539\u8865\u4e01","_","androidRK3299 \u663e\u793a\u5168\u5c4f-\u5176\u5b83\u6587\u6863\u7c7b\u8d44\u6e90-CSDN \u6587\u5e93"))),(0,n.kt)("h3",u({},{id:"change-hdmi-output-resolution"}),"change hdmi output resolution"),(0,n.kt)("h4",u({},{id:"resolution-1-set-framebuffer-and-resolution"}),"resolution 1. set ",(0,n.kt)("inlineCode",{parentName:"h4"},"framebuffer")," and ",(0,n.kt)("inlineCode",{parentName:"h4"},"resolution")),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u91cd\u70b9\u770b\u8fd9\u4e2a\uff1a\u2728",(0,n.kt)("a",u({parentName:"li"},{href:"https://mbb.eet-china.com/forum/topic/83050_1_1.html"}),"RK3399 \u5f00\u53d1\u677f\u9999\u6a59\u6d3e 4 \u5f00\u53d1\u677f\u8fde\u63a5 HDMI \u663e\u793a\u5c4f\u5982\u4f55\u8f93\u51fa 4K \u5206\u8fa8\u7387","_","\u5d4c\u5165\u5f0f\u7cfb\u7edf\u4e0e MCU-\u9762\u5305\u677f\u793e\u533a")),(0,n.kt)("li",{parentName:"ul"},"\u8ddf\u4e0a\u9762\u5dee\u4e0d\u591a\uff1a",(0,n.kt)("a",u({parentName:"li"},{href:"http://arm-cn.com/thread-5422-1-1.html"}),"firefly-rk3399 \u5173\u4e8e\u8bbe\u7f6e 4K \u8f93\u51fa\u7b54\u7591 - \u5f00\u53d1\u677f\u4f7f\u7528 - \u6df1\u5733\u98ce\u706b\u8f6e\u79d1\u6280 - Powered by Discuz!"))),(0,n.kt)("h5",u({},{id:"approach-1-define-in-device-and-burn"}),"approach 1. define in device and burn"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-yaml"}),"# suggested: device/rockchip/rk3399/rk3399_mid/system.prop\n# verified by mark: device/rockchip/common/system.prop\npersist.sys.framebuffer.main = 2160x3840 persist.sys.resolution.main = 3840x2160@60\n")),(0,n.kt)("p",null,"TODO: \u4e0d\u77e5\u9053\u526f\u663e\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"framebuffer")," \u53ef\u4e0d\u53ef\u4ee5\u8bbe\u7f6e\u2026\u2026\uff08\u4ee5\u53ca\u6709\u6ca1\u6709\u5fc5\u8981\u8bbe\u7f6e\uff09"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644787815780-89404bbb0699a969ab087996915c2a8c6fed47921f9a3ba4eeaeb478b8972036.png",alt:"picture 53"}))),(0,n.kt)("h5",u({},{id:"approach-2-use-adb"}),"approach 2. use adb"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"adb shell setprop persist.sys.framebuffer.main 2160x3840\nadb shell setprop sys.display.timeline 1\n\nadb shell setprop persist.sys.resolution.main = 3840x2160@60\nadb shell setprop sys.display.timeline 1\n")),(0,n.kt)("h4",u({},{id:"resolution-2-change-dts"}),"resolution 2. change dts"),(0,n.kt)("p",null,"\u53c2\u8003\u7531 ",(0,n.kt)("a",u({parentName:"p"},{href:"https://forum.armbian.com/topic/14167-4k-hdmi-output/"}),"4k HDMI output - Rockchip 3399 - armbian forum")," \u6307\u5f15\u5230\u7684 ",(0,n.kt)("a",u({parentName:"p"},{href:"https://github.com/Kwiboo/linux-rockchip/compare/next-20200501...next-20200501-drm-rockchip"}),"Comparing next-20200501...next-20200501-drm-rockchip \xb7 Kwiboo/linux-rockchip"),"\uff0c\u8fd9\u662f\u4e00\u4efd patch\uff0c\u4e0d\u8fc7\u9700\u8981\u81ea\u5df1\u6539\u3002"),(0,n.kt)("p",null,"\u4e0d\u8fc7\u5b9e\u9645\u4e0a\uff0c\u6211\u53d1\u73b0\u5f88\u591a\u5185\u5bb9\u5728\u6211\u7684\u5f00\u53d1\u677f\u4e0a\u90fd\u5df2\u7ecf\u6709\u4e86\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644747572967-ef3850722867f96a735d3ec6002834319cde80524b2d06dbdf11ea2a25115997.png",alt:"picture 15"}))),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644747585299-7255b0e7a32198d00bd2bf6bce5a9f26cec5ea0768e64792bbfcae4cccc58af3.png",alt:"picture 16"}))),(0,n.kt)("hr",null),(0,n.kt)("p",null,"\u4f46\u540e\u7eed\u53d1\u73b0\uff0c\u8fd8\u662f\u6709\u4e9b\u95ee\u9898\uff0c\u5bf9\u7167\u56fd\u5185\u670b\u53cb\u4fee\u6539 dts \u7684\u8bb0\u5f55\uff0c\u8f83\u4e3a\u8be6\u7ec6\uff1a",(0,n.kt)("a",u({parentName:"p"},{href:"https://www.cxybb.com/article/m0_38022615/109221525"}),"[RK3399] HDMI \u6b63\u5e38\u8f93\u51fa 4K","_","\u4f46\u884c\u524d\u8def \u65e0\u95ee\u897f\u4e1c-\u7a0b\u5e8f\u5458\u5b9d\u5b9d - \u7a0b\u5e8f\u5458\u5b9d\u5b9d")),(0,n.kt)("p",null,"\u6838\u5fc3\u601d\u8def\uff1a\u7f16\u8bd1 kernel \u65f6\uff0c\u78b0\u5230\u9519\u8bef\u4f1a\u7ed9\u51fa\u62a5\u9519\u884c\uff0c\u7528 vim \u53bb\u67e5\u770b\u8be5\u884c\uff0c\u770b\u770b\u662f\u5565\u95ee\u9898\uff0c\u5bf9\u5e94\u7684\u5220\u6539\u5373\u53ef\uff0c\u2728\u2728\u3002"),(0,n.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\u4e3b\u8981\u662f\u56e0\u4e3a\u5e16\u5b50\u4e2d\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"connect = <&vopb_out_hdmi>;")," \u5df2\u7ecf\u4e0d\u9002\u7528\u4e86\uff0c\u5bfc\u81f4\u62a5\u9519\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644773468648-9619c41de0933010588837778104f0ca070b4fc7ef8d376b8371a74fd427ff2d.png",alt:"picture 38"}))),(0,n.kt)("p",null,"\u8003\u8651\u5230\u8fd9\u4e2a\u53ea\u662f\u7528\u4e8e\u5f00\u673a logo \u7684\uff0c\u6240\u4ee5\u65e0\u89c6\uff0c\u5220\u6389\u91cd\u65b0\u7f16\uff01"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644773568142-3d1f1dbf9d8c1b7072589b7002570e689909da3f65e1ceb221a901d5ea6efcd2.png",alt:"picture 39"}))),(0,n.kt)("hr",null),(0,n.kt)("p",null,"\u65b0\u7684\u95ee\u9898\u662f\u7531\u4e8e\u5199\u9519\u4e86\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644773709386-68055eeb44e3e9c18e2509fb299f1207e7007c4cdfdc3284f984b93307c81889.png",alt:"picture 40"}))),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"sparkles: \u2728 \u2728 \u4fee\u6539 dts \u7684 patch ",(0,n.kt)("a",u({parentName:"p"},{href:"https://github.com/Kwiboo/linux-rockchip/compare/next-20200501...next-20200501-drm-rockchip"}),"Comparing next-20200501...next-20200501-drm-rockchip \xb7 Kwiboo/linux-rockchip"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",u({parentName:"p"},{href:"https://www.cxybb.com/article/m0_38022615/109221525"}),"[RK3399] HDMI \u6b63\u5e38\u8f93\u51fa 4K","_","\u4f46\u884c\u524d\u8def \u65e0\u95ee\u897f\u4e1c-\u7a0b\u5e8f\u5458\u5b9d\u5b9d - \u7a0b\u5e8f\u5458\u5b9d\u5b9d"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u4fee\u6539 dts \u7684 patch \u7684\u6765\u6e90\u4e0e\u8ba8\u8bba\uff1a ",(0,n.kt)("a",u({parentName:"p"},{href:"https://forum.armbian.com/topic/14167-4k-hdmi-output/"}),"4k HDMI output - Rockchip 3399 - armbian forum"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u5199\u5230\u4e86\u90e8\u5206",(0,n.kt)("inlineCode",{parentName:"p"},"edid"),"\u76f8\u5173\u7684\uff1a",(0,n.kt)("a",u({parentName:"p"},{href:"https://blog.csdn.net/m0_38022615/article/details/109378391"}),"(1 \u6761\u6d88\u606f) [RK3399] HDMI \u6b63\u5e38\u8f93\u51fa 4K30 \u5e27 \u65e0\u6cd5\u8f93\u51fa 60 \u5e27\u4ee5\u53ca\u8bbe\u7f6e\u5206\u8fa8\u7387\u7684\u6d41\u7a0b\u5206\u6790","_","\u4f46\u884c\u524d\u8def \u65e0\u95ee\u897f\u4e1c-CSDN \u535a\u5ba2","_","hdmi \u8f93\u51fa\u5206\u8fa8\u7387\u8bbe\u7f6e")))),(0,n.kt)("h4",u({},{id:"passed-change-rkconfig"}),"PASSED: change ",(0,n.kt)("inlineCode",{parentName:"h4"},"RkConfig")),(0,n.kt)("p",null,"\u770b\u8d77\u6765\u5bf9\uff0c\u4e5f\u6539\u8d77\u6765\u5f88\u7b80\u5355\uff0c\u4f46\u662f\u6211\u5e76\u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7684\u914d\u7f6e\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644759185068-465f770f9da3ec1ba5b5eb8349cfcce5ab6bd64b7faad713b4fc076f0e8ac481.png",alt:"picture 17"}))),(0,n.kt)("p",null,"\u4ee5\u4e0b\u662f\u6211\u4eec\u7684\u914d\u7f6e\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644759280740-26f86c67effb30bd3ad77e1b652eaf4061be62cfc031c9509bdddb8b47a5c11a.png",alt:"picture 18"}))),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://patchwork.ozlabs.org/project/uboot/patch/20200402114125.2501-6-jagan@amarulasolutions.com/"}),"[v3,5/5] video: rockchip: Support 4K resolution for rk3399, HDMI - Patchwork"))),(0,n.kt)("h3",u({},{id:"\u4e3b\u677f\u652f\u6301-4k60hz-\u8f93\u51fa\u4fee\u6539"}),"\u4e3b\u677f\u652f\u6301 4k60hz \u8f93\u51fa\u4fee\u6539"),(0,n.kt)("p",null,"\u57fa\u4e8e rockchip \u5f00\u53d1\u5927\u4f6c\u7684\u6587\u7ae0 ",(0,n.kt)("a",u({parentName:"p"},{href:"https://blog.csdn.net/kris_fei/article/details/88875516?spm=1001.2014.3001.5502"}),"(1 \u6761\u6d88\u606f) [RK3399][Android7.1] HDMI \u663e\u793a\u5c4f(\u526f\u5c4f)\u8c03\u8bd5\u8bb0\u5f55\u5c0f\u7ed3","_","Kris Fei's blog-CSDN \u535a\u5ba2","_","hdmi \u8c03\u8bd5")," \uff0c\u53ef\u4ee5\u77e5\u9053\u4fee\u6539\u4e3b\u677f hdmi \u8f93\u51fa\u4e3b\u8981\u6539\u4ee5\u4e0b\u8fd9\u51e0\u6587\u4ef6\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"drm_edid.c\uff1a edid \u76f8\u5173"),(0,n.kt)("li",{parentName:"ol"},"dw-hdmi.c\uff1a HDMI \u9a71\u52a8\uff0c\u5305\u62ec\u5185\u90e8 I2C \u63a5\u53e3\u5b9e\u73b0"),(0,n.kt)("li",{parentName:"ol"},"d_hdmi-rockchip.c: drm \u6846\u67b6\u90e8\u5206")),(0,n.kt)("p",null,"\u4fee\u6539\u5982\u4e0b\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644784592881-bc178a2b8c0e656491b1d9d391ce824d505de6d59b27d6e597771aafdb56f7cc.png",alt:"picture 45"}))),(0,n.kt)("p",null,"\u6b64\u5916\u6839\u636e\u5b98\u65b9\u6587\u6863\uff0c\u8fd8\u8981\u786e\u8ba4\u4e00\u4e0b\u767d\u540d\u5355\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644788099106-e45cfb1288e41b2fcb8fc492775d1c1caafadaffe853db7c11b598d323dd485f.png",alt:"picture 54"}))),(0,n.kt)("p",null,"\u597d\u5728\u90fd\u662f\u6709\u7684\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644788109475-28fb54c3d9cf1c8ad4b5c8a86960175d53cb47c9baac61453e3a3f262390d367.png",alt:"picture 55"}))),(0,n.kt)("h3",u({},{id:"\u6d4b\u8bd5-edid-\u4fee\u6539\u7ed3\u679c"}),"\u6d4b\u8bd5 edid \u4fee\u6539\u7ed3\u679c"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"/sys/class/drm/card0-HDMI-A-1/edid\n")),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644784205395-77d07db4f846454f863e84b9907056d36fa1f4833db96a92cf163f5e8feb2d6f.png",alt:"picture 43"}))),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644784231104-4eba6721ee143c9eae3ec7cd3225c0bb3544977654ededb257be306bce6db5ea.png",alt:"picture 44"}))),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://blog.csdn.net/kris_fei/article/details/88875516?spm=1001.2014.3001.5502"}),"(1 \u6761\u6d88\u606f) [RK3399][Android7.1] HDMI \u663e\u793a\u5c4f(\u526f\u5c4f)\u8c03\u8bd5\u8bb0\u5f55\u5c0f\u7ed3","_","Kris Fei's blog-CSDN \u535a\u5ba2","_","hdmi \u8c03\u8bd5"))),(0,n.kt)("h2",u({},{id:"hdmi-\u76f8\u5173\u4ecb\u7ecd"}),"HDMI \u76f8\u5173\u4ecb\u7ecd"),(0,n.kt)("h3",u({},{id:"edid"}),"EDID"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://zh.wikipedia.org/wiki/EDID"}),"EDID - \u7ef4\u57fa\u767e\u79d1\uff0c\u81ea\u7531\u7684\u767e\u79d1\u5168\u4e66"))),(0,n.kt)("h3",u({},{id:"hdmi-\u6bd4\u4f8b"}),"HDMI \u6bd4\u4f8b"),(0,n.kt)("p",null,"\u5728 ",(0,n.kt)("a",u({parentName:"p"},{href:"https://elixir.bootlin.com/linux/latest/source/include/linux/hdmi.h#L176"}),"hdmi.h - include/linux/hdmi.h - Linux source code (v5.16.9) - Bootlin")," \u53ef\u4ee5\u627e\u5230 HDMI \u6bd4\u4f8b\u7684\u5b9a\u4e49\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644783773364-f0284efe7c70b41b399d446a83c40fd85a6f43556b632266c1d4f832b02a4c0b.png",alt:"picture 42"}))),(0,n.kt)("h3",u({},{id:"-vopvopb--vopl"}),"\u2728\u2728 VOP(",(0,n.kt)("inlineCode",{parentName:"h3"},"vopb")," | ",(0,n.kt)("inlineCode",{parentName:"h3"},"vopl"),")"),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://zhuanlan.zhihu.com/p/398362901"}),"\u5982\u4f55\u9009\u62e9\u663e\u793a\u6865\u63a5\u82af\u7247\uff08MIPI\u3001LVDS\u3001HDMI\u3001eDP\u3001RGB \u8f6c\u6362\uff09 - \u77e5\u4e4e"))),(0,n.kt)("h4",u({},{id:"\u542f\u7528vopb"}),"\u542f\u7528",(0,n.kt)("inlineCode",{parentName:"h4"},"vopb")),(0,n.kt)("p",null,"\u5b98\u65b9\u6587\u6863\u6307\u793a\uff0c\u60f3\u4f7f\u7528\u54ea\u79cd VOP\uff0c\u53ea\u8981\u5173\u95ed\u53e6\u4e00\u79cd\u5c31\u53ef\u4ee5\u4e86\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644785638794-720b5551c0e5804c25206a1916857db85a96629eec8f7d0ef2e4d4c18641c9fc.png",alt:"picture 46"}))),(0,n.kt)("p",null,"\u5728",(0,n.kt)("inlineCode",{parentName:"p"},"kernel"),"\u4ed3\u5e93\u5bfb\u627e\u6211\u4eec\u7684\u5173\u952e\u5b57\uff0c\u627e\u5230",(0,n.kt)("inlineCode",{parentName:"p"},"rk3399"),"\u548c",(0,n.kt)("inlineCode",{parentName:"p"},"rockpi-4b"),"\u76f8\u5173\u7684\u6587\u4ef6\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644785664838-59156bd86378861e4fd2a7d130470dad45a93c7d60fdf8b737fc58269091829a.png",alt:"picture 47"}))),(0,n.kt)("p",null,"\u786e\u8ba4\u5185\u90e8\u7684\u4fe1\u606f\uff0c\u662f\u628a",(0,n.kt)("inlineCode",{parentName:"p"},"vopl"),"\u5173\u95ed\u7684\uff0c\u4e5f\u5c31\u662f\u5f00\u542f\u4e86",(0,n.kt)("inlineCode",{parentName:"p"},"vopb"),"\uff0c\u4e5f\u5c31\u662f\u9ed8\u8ba4\u6253\u5f00\u4e86 4k \u8f93\u51fa\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644785690918-b5e757b3f43908a931342bdca52d4ec781e36bd7838bdd0e51017f8240e8c043.png",alt:"picture 48"}))),(0,n.kt)("h4",u({},{id:"\u7ed1\u5b9apll"}),"\u7ed1\u5b9a",(0,n.kt)("inlineCode",{parentName:"h4"},"pll")),(0,n.kt)("p",null,"\u5b98\u65b9\u6587\u6863\u6307\u793a\uff0c\u9700\u8981\u5c06\u76ee\u6807 vop \u6302\u8f7d\u5230",(0,n.kt)("inlineCode",{parentName:"p"},"vpll"),"\uff0c\u53e6\u4e00\u4e2a\u6302\u8f7d\u5230",(0,n.kt)("inlineCode",{parentName:"p"},"cpll"),"\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644785899708-1add03724419fab2616149e0a237faf8a18ee8d6a4e2537f764955ff5da436b7.png",alt:"picture 49"}))),(0,n.kt)("p",null,"\u8fd8\u662f\u540c\u4e00\u4e2a\u6587\u4ef6\uff0c\u68c0\u67e5\u786e\u8ba4\uff0c\u662f\u9ed8\u8ba4\u7684\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644785982133-0ed8b67309f7dae406937160b2ce5cbe82583ebb151e44174960c02c32f5cd29.png",alt:"picture 50"}))),(0,n.kt)("p",null,"ref:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://blog.csdn.net/kris_fei/article/details/79030144"}),"(1 \u6761\u6d88\u606f) [RK3399][Android7.1] Display \u4e2d\u7684 VOP \u6a21\u5757\u4ecb\u7ecd","_","Kris Fei's blog-CSDN \u535a\u5ba2","_","vopb vopl"))),(0,n.kt)("h4",u({},{id:"vop-\u8c03\u8bd5hdmi-\u56fe\u5c42\u663e\u793a"}),"VOP \u8c03\u8bd5\uff08hdmi \u56fe\u5c42\u663e\u793a\uff09"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"cat /d/dri/0/summary\n")),(0,n.kt)("p",null,"\u4e3b\u8981\u67e5\u770b",(0,n.kt)("inlineCode",{parentName:"p"},"Connector"),"\u662f\u4e0d\u662f",(0,n.kt)("inlineCode",{parentName:"p"},"HDMI-A"),"\uff0c\u4ee5\u53ca",(0,n.kt)("inlineCode",{parentName:"p"},"Display mode"),":"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644788466119-b7e85d12c1120867bdbb4c9877224ca049ee785b65de7a97b8f5cd61bd30bba7.png",alt:"picture 56"}))),(0,n.kt)("p",null,"\u6bcf\u4e2a\u56fe\u5c42\u7684\u5927\u5c0f\u53d8\u5316(",(0,n.kt)("inlineCode",{parentName:"p"},"src"),"(source) --\x3e ",(0,n.kt)("inlineCode",{parentName:"p"},"dst"),"(destination))\u4e5f\u662f\u5f88\u91cd\u8981\u7684\u4fe1\u606f\uff1a"),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644788502156-951c67303be8ae6c04062b187385c28a903365d2b727afc9099529370d5f4efe.png",alt:"picture 57"}))),(0,n.kt)("h3",u({},{id:"-\u4e3b\u526f\u5c4f"}),"\u2728\u2728 \u4e3b\u526f\u5c4f"),(0,n.kt)("h4",u({},{id:"\u542f\u7528-hdmi-\u4e3a\u526f\u5c4f"}),"\u542f\u7528 HDMI \u4e3a\u526f\u5c4f"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"# device/rockchip/rk3368/rk3368_mid/system.prop\nsys.hwc.device.extend=HDMI-A\n")),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644787563143-77fd26d8d6af22ae3851bcd8f1c9e7d5a2f854107b754174f81a41a8f4e983c1.png",alt:"picture 51"}))),(0,n.kt)("h4",u({},{id:"\u67e5\u770b\u4e3b\u526f\u5c4f\u8f93\u51fa\u63a5\u53e3"}),"\u67e5\u770b\u4e3b\u526f\u5c4f\u8f93\u51fa\u63a5\u53e3"),(0,n.kt)("pre",null,(0,n.kt)("code",u({parentName:"pre"},{className:"language-sh"}),"sys.hwc.device.main # \u4e3b\u663e\u8f93\u51fa\u63a5\u53e3\nsys.hwc.device.aux  # \u526f\u663e\u8f93\u51fa\u63a5\u53e3\n")),(0,n.kt)("p",null,(0,n.kt)("img",u({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/rockchip4-vr-manual-1644787683624-44c6d3d1db10e0ceac3059d96db4b4cbf30af518670379a33d4ae58619a17e11.png",alt:"picture 52"}))),(0,n.kt)("h3",u({},{id:"hdmi-\u5f15\u811a"}),"HDMI \u5f15\u811a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://www.cnblogs.com/TaigaCon/p/3840653.html"}),"HDMI \u4ecb\u7ecd\u4e0e\u6d41\u7a0b - TaigaComplex - \u535a\u5ba2\u56ed"))),(0,n.kt)("h3",u({},{id:"\u663e\u793a\u6865\u63a5\u82af\u7247"}),"\u663e\u793a\u6865\u63a5\u82af\u7247"),(0,n.kt)("p",null,"\u770b\u4e0d\u61c2\u2026\u2026\u6240\u4ee5\u745e\u82af\u5fae\u6587\u6863\u91cc\u5404\u79cd\u7ec4\u5408\u662f\u5565\u610f\u601d\uff1a"),(0,n.kt)("p",null,"2.4.1 EDP(vopb) + HDMI(vopl) 2.4.2 LVDS(vopl) + HDMI(vopb) 2.4.3 MIPI(vopb) + HDMI(vopl) 2.4.4 HDMI(vopb) + DP(vopl)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",u({parentName:"li"},{href:"https://zhuanlan.zhihu.com/p/398362901"}),"\u5982\u4f55\u9009\u62e9\u663e\u793a\u6865\u63a5\u82af\u7247\uff08MIPI\u3001LVDS\u3001HDMI\u3001eDP\u3001RGB \u8f6c\u6362\uff09 - \u77e5\u4e4e"))))}v.isMDXComponent=!0}}]);