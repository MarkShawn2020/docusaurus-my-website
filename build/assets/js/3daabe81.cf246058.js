"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[76594],{35318:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>g});var i=a(27378);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,l=function(e,t){if(null==e)return{};var a,i,l={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=i.createContext({}),s=function(e){var t=i.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},m=function(e){var t=s(e.components);return i.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var a=e.components,l=e.mdxType,n=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=s(a),g=l,d=u["".concat(p,".").concat(g)]||u[g]||c[g]||n;return a?i.createElement(d,r(r({ref:t},m),{},{components:a})):i.createElement(d,r({ref:t},m))}));function g(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var n=a.length,r=new Array(n);r[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var s=2;s<n;s++)r[s]=a[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,a)}u.displayName="MDXCreateElement"},42114:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>f,contentTitle:()=>g,default:()=>b,frontMatter:()=>u,metadata:()=>d,toc:()=>h});var i=a(35318),l=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,m=(e,t,a)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,c=(e,t)=>{for(var a in t||(t={}))p.call(t,a)&&m(e,a,t[a]);if(o)for(var a of o(t))s.call(t,a)&&m(e,a,t[a]);return e};const u={},g="git-howto",d={unversionedId:"coding/Software/Git/git-howto",id:"coding/Software/Git/git-howto",title:"git-howto",description:"- improve git pull speed",source:"@site/my-documents/docs/coding/Software/Git/git-howto.md",sourceDirName:"coding/Software/Git",slug:"/coding/Software/Git/git-howto",permalink:"/docs/coding/Software/Git/git-howto",draft:!1,editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/my-documents/docs/coding/Software/Git/git-howto.md",tags:[],version:"current",lastUpdatedAt:1726564669,formattedLastUpdatedAt:"2024\u5e749\u670817\u65e5",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"git-bugfix",permalink:"/docs/coding/Software/Git/git-bugfix"},next:{title:"chrome-bugfix",permalink:"/docs/coding/Software/Google/ChromeUsage/chrome-bugfix"}},f={},h=[{value:"improve git pull speed",id:"improve-git-pull-speed",level:2},{value:"resolution 1: config proxy (vpn required)",id:"resolution-1-config-proxy-vpn-required",level:3},{value:"resolution 2: change url",id:"resolution-2-change-url",level:3},{value:"improve terminal speed (lagged/delayed by git)",id:"improve-terminal-speed-laggeddelayed-by-git",level:2},{value:"git auth",id:"git-auth",level:2},{value:"gitlab \u6bcf\u6b21\u90fd\u8981\u8f93\u5165\u5bc6\u7801\u7684\u89e3\u51b3\u65b9\u6848",id:"gitlab-\u6bcf\u6b21\u90fd\u8981\u8f93\u5165\u5bc6\u7801\u7684\u89e3\u51b3\u65b9\u6848",level:3},{value:"official password and authentication",id:"official-password-and-authentication",level:3},{value:"FIXED: <code>GitHub does not provide shell access</code>",id:"fixed-github-does-not-provide-shell-access",level:3},{value:"git merge",id:"git-merge",level:2},{value:"resolution 1",id:"resolution-1",level:3},{value:"FIXME: resolution 2 (maybe can be merged with 1)",id:"fixme-resolution-2-maybe-can-be-merged-with-1",level:3},{value:"git rebase",id:"git-rebase",level:2},{value:"<code>git apply/am</code> (git patch)",id:"git-applyam-git-patch",level:2},{value:"git patch workflow",id:"git-patch-workflow",level:3},{value:"Step 1. \u4e0b\u8f7d patch \u6587\u4ef6",id:"step-1-\u4e0b\u8f7d-patch-\u6587\u4ef6",level:4},{value:"Step 2. \u89e3\u538b",id:"step-2-\u89e3\u538b",level:4},{value:"Step 3. \uff08\u53ef\u9009\uff09\u663e\u793a\u6709\u54ea\u4e9b\u6587\u4ef6\u4f1a\u88ab\u6539\u52a8",id:"step-3-\u53ef\u9009\u663e\u793a\u6709\u54ea\u4e9b\u6587\u4ef6\u4f1a\u88ab\u6539\u52a8",level:4},{value:"Step 4. \u68c0\u6d4b patch \u662f\u5426\u53ef\u884c",id:"step-4-\u68c0\u6d4b-patch-\u662f\u5426\u53ef\u884c",level:4},{value:"Step 5.1 <code>git am --signoff &lt; </code>",id:"step-51-git-am---signoff--",level:4},{value:"step 5.2 <code>git apply -3 </code> (solving error: <code>fatal: empty ident name (for &lt;&gt;) not allowed</code>)",id:"step-52-git-apply--3--solving-error-fatal-empty-ident-name-for--not-allowed",level:4},{value:"merge git patch files",id:"merge-git-patch-files",level:3},{value:"Step 1. download <code>combinediff</code>",id:"step-1-download-combinediff",level:4},{value:"Step 2. build <code>combinediff</code>",id:"step-2-build-combinediff",level:4},{value:"Step 3. use <code>combinediff</code>",id:"step-3-use-combinediff",level:5},{value:"Usage of <code>combinediff --interpolate</code>",id:"usage-of-combinediff---interpolate",level:5},{value:"<code>git submodule</code>",id:"git-submodule",level:2},{value:"config submodule",id:"config-submodule",level:3},{value:"init and push submodule",id:"init-and-push-submodule",level:3},{value:"add submodule",id:"add-submodule",level:3},{value:"<code>git commit</code>",id:"git-commit",level:2},{value:"git remove a specific from specific commits",id:"git-remove-a-specific-from-specific-commits",level:3},{value:"conclusion",id:"conclusion",level:4},{value:"detail",id:"detail",level:4},{value:"git remove specific file from history",id:"git-remove-specific-file-from-history",level:3},{value:"git merge commits (reset)",id:"git-merge-commits-reset",level:3},{value:"Step 1. reset",id:"step-1-reset",level:4},{value:"Step 2. push",id:"step-2-push",level:4},{value:"git commit amend",id:"git-commit-amend",level:3},{value:"generate diff file from commit",id:"generate-diff-file-from-commit",level:3},{value:"<code>git reflog</code>",id:"git-reflog",level:2},{value:"customized git reflog",id:"customized-git-reflog",level:3},{value:"clean reflog (unreachable)",id:"clean-reflog-unreachable",level:3},{value:"delete one specific reflog entry",id:"delete-one-specific-reflog-entry",level:3},{value:"git diff",id:"git-diff",level:2},{value:"only show file names",id:"only-show-file-names",level:3},{value:"set tab width to be 4",id:"set-tab-width-to-be-4",level:3},{value:"show config info (global)",id:"show-config-info-global",level:2},{value:"github cli",id:"github-cli",level:2},{value:"<code>git lfs</code>: About Erasing Large File Commit in the Git History",id:"git-lfs-about-erasing-large-file-commit-in-the-git-history",level:2},{value:"Conclusion",id:"conclusion-1",level:3},{value:"clear commands",id:"clear-commands",level:4},{value:"check if file exists in history",id:"check-if-file-exists-in-history",level:4},{value:"check log history",id:"check-log-history",level:4},{value:"push if ok",id:"push-if-ok",level:4},{value:"PR: update to use git filter-repo",id:"pr-update-to-use-git-filter-repo",level:3},{value:"Details",id:"details",level:3},{value:"git cancel <code>reset --hard</code>",id:"git-cancel-reset---hard",level:2},{value:"git pull --ff-only",id:"git-pull---ff-only",level:2},{value:"git exclude <code>.gitignore</code> file",id:"git-exclude-gitignore-file",level:2}],k={toc:h};function b(e){var t,l=e,{components:m}=l,u=((e,t)=>{var a={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&s.call(e,i)&&(a[i]=e[i]);return a})(l,["components"]);return(0,i.kt)("wrapper",(t=c(c({},k),u),n(t,r({components:m,mdxType:"MDXLayout"}))),(0,i.kt)("h1",c({},{id:"git-howto"}),"git-howto"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#improve-git-pull-speed"}),"improve git pull speed"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#resolution-1-config-proxy-vpn-required"}),"resolution 1: config proxy (vpn required)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#resolution-2-change-url"}),"resolution 2: change url")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#improve-terminal-speed-laggeddelayed-by-git"}),"improve terminal speed (lagged/delayed by git)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-auth"}),"git auth"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#gitlab-%E6%AF%8F%E6%AC%A1%E9%83%BD%E8%A6%81%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"}),"gitlab \u6bcf\u6b21\u90fd\u8981\u8f93\u5165\u5bc6\u7801\u7684\u89e3\u51b3\u65b9\u6848")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#official-password-and-authentication"}),"official password and authentication")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#fixed-github-does-not-provide-shell-access"}),"FIXED: ",(0,i.kt)("inlineCode",{parentName:"a"},"GitHub does not provide shell access"))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-merge"}),"git merge"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#resolution-1"}),"resolution 1")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#fixme-resolution-2-maybe-can-be-merged-with-1"}),"FIXME: resolution 2 (maybe can be merged with 1)")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-rebase"}),"git rebase")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-applyam-git-patch"}),(0,i.kt)("inlineCode",{parentName:"a"},"git apply/am")," (git patch)"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-patch-workflow"}),"git patch workflow"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-1-%E4%B8%8B%E8%BD%BD-patch-%E6%96%87%E4%BB%B6"}),"Step 1. \u4e0b\u8f7d patch \u6587\u4ef6")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-2-%E8%A7%A3%E5%8E%8B"}),"Step 2. \u89e3\u538b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-3-%E5%8F%AF%E9%80%89%E6%98%BE%E7%A4%BA%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%87%E4%BB%B6%E4%BC%9A%E8%A2%AB%E6%94%B9%E5%8A%A8"}),"Step 3. \uff08\u53ef\u9009\uff09\u663e\u793a\u6709\u54ea\u4e9b\u6587\u4ef6\u4f1a\u88ab\u6539\u52a8")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-4-%E6%A3%80%E6%B5%8B-patch-%E6%98%AF%E5%90%A6%E5%8F%AF%E8%A1%8C"}),"Step 4. \u68c0\u6d4b patch \u662f\u5426\u53ef\u884c")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-51-git-am---signoff--"}),"Step 5.1 ",(0,i.kt)("inlineCode",{parentName:"a"},"git am --signoff < "))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-52-git-apply--3--solving-error-fatal-empty-ident-name-for--not-allowed"}),"step 5.2 ",(0,i.kt)("inlineCode",{parentName:"a"},"git apply -3 ")," (solving error: ",(0,i.kt)("inlineCode",{parentName:"a"},"fatal: empty ident name (for \\<\\>) not allowed"),")")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#merge-git-patch-files"}),"merge git patch files"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-1-download-combinediff"}),"Step 1. download ",(0,i.kt)("inlineCode",{parentName:"a"},"combinediff"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-2-build-combinediff"}),"Step 2. build ",(0,i.kt)("inlineCode",{parentName:"a"},"combinediff"))))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-submodule"}),(0,i.kt)("inlineCode",{parentName:"a"},"git submodule")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#config-submodule"}),"config submodule")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#init-and-push-submodule"}),"init and push submodule")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#add-submodule"}),"add submodule")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-commit"}),(0,i.kt)("inlineCode",{parentName:"a"},"git commit")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-remove-a-specific-from-specific-commits"}),"git remove a specific from specific commits"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#conclusion"}),"conclusion")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#detail"}),"detail")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-remove-specific-file-from-history"}),"git remove specific file from history")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-merge-commits-reset"}),"git merge commits (reset)"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-1-reset"}),"Step 1. reset")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#step-2-push"}),"Step 2. push")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-commit-amend"}),"git commit amend")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#generate-diff-file-from-commit"}),"generate diff file from commit")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-reflog"}),(0,i.kt)("inlineCode",{parentName:"a"},"git reflog")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#customized-git-reflog"}),"customized git reflog")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#clean-reflog-unreachable"}),"clean reflog (unreachable)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#delete-one-specific-reflog-entry"}),"delete one specific reflog entry")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-diff"}),"git diff"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#only-show-file-names"}),"only show file names")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#set-tab-width-to-be-4"}),"set tab width to be 4")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#show-config-info-global"}),"show config info (global)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#github-cli"}),"github cli")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-lfs-about-erasing-large-file-commit-in-the-git-history"}),(0,i.kt)("inlineCode",{parentName:"a"},"git lfs"),": About Erasing Large File Commit in the Git History"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#conclusion-1"}),"Conclusion"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#clear-commands"}),"clear commands")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#check-if-file-exists-in-history"}),"check if file exists in history")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#check-log-history"}),"check log history")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#push-if-ok"}),"push if ok")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#pr-update-to-use-git-filter-repo"}),"PR: update to use git filter-repo")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#details"}),"Details")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-cancel-reset---hard"}),"git cancel ",(0,i.kt)("inlineCode",{parentName:"a"},"reset --hard"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-pull---ff-only"}),"git pull --ff-only")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"#git-exclude-gitignore-file"}),"git exclude ",(0,i.kt)("inlineCode",{parentName:"a"},".gitignore")," file"))),(0,i.kt)("h2",c({},{id:"improve-git-pull-speed"}),"improve git pull speed"),(0,i.kt)("h3",c({},{id:"resolution-1-config-proxy-vpn-required"}),"resolution 1: config proxy (vpn required)"),(0,i.kt)("p",null,"how to config:"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"HTTP_PROXY=localhost:7890\ngit config --global http.proxy HTTP_PROXY\ngit config --global https.proxy HTTP_PROXY\n")),(0,i.kt)("p",null,"confirm config:"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1643290098980-1cf4d068614480ffabdeb6355879f444f8f69733e655ebaa89f1252dc669972b.png",alt:"picture 116"}))),(0,i.kt)("p",null,"config result:"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1643290013037-cc982d1b718c42e9d4ea6fd45e8a1273e686d623092435b021001fab639df556.png",alt:"picture 115"}))),(0,i.kt)("h3",c({},{id:"resolution-2-change-url"}),"resolution 2: change url"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"github.com")," --\x3e ",(0,i.kt)("inlineCode",{parentName:"p"},"github.com.cnpmjs.org")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://www.zhihu.com/question/27159393"}),"(19 \u5c01\u79c1\u4fe1 / 61 \u6761\u6d88\u606f) git clone \u4e00\u4e2a github \u4e0a\u7684\u4ed3\u5e93\uff0c\u592a\u6162\uff0c\u7ecf\u5e38\u8fde\u63a5\u5931\u8d25\uff0c\u4f46\u662f github \u5b98\u7f51\u6d41\u7545\u8bbf\u95ee\uff0c\u4e3a\u4ec0\u4e48\uff1f - \u77e5\u4e4e"))),(0,i.kt)("h2",c({},{id:"improve-terminal-speed-laggeddelayed-by-git"}),"improve terminal speed (lagged/delayed by git)"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git config --add oh-my-zsh.hide-status 1\ngit config --add oh-my-zsh.hide-dirty 1\n")),(0,i.kt)("h2",c({},{id:"git-auth"}),"git auth"),(0,i.kt)("h3",c({},{id:"gitlab-\u6bcf\u6b21\u90fd\u8981\u8f93\u5165\u5bc6\u7801\u7684\u89e3\u51b3\u65b9\u6848"}),"gitlab \u6bcf\u6b21\u90fd\u8981\u8f93\u5165\u5bc6\u7801\u7684\u89e3\u51b3\u65b9\u6848"),(0,i.kt)("p",null,"\u5206\u4e24\u6b65\u89e3\u51b3\uff0c\u9996\u5148\u8981\u628a\u81ea\u5df1\u7684 ssh \u516c\u94a5\u52a0\u5165\u5230 gitlab \u7528\u6237\u914d\u7f6e\u91cc\u3002"),(0,i.kt)("p",null,"\u5176\u6b21\uff0c\u8fd8\u8981\u8bbe\u7f6e\u8fdc\u7a0b\u4ed3\u5e93\u4e3a git \u94fe\u63a5\uff0c\u800c\u975e http\uff08\u79c1\u5e93\uff09\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# step 1. generate ssh-key if not exist\nssh-keygen -t rsa -C "shawninjuly@gmail.com" -b 4096\n\n# step 2. show the ssh-public-key if generated\ncat ~/.ssh/id_rsa.pub\n\n# step 3. copy it into gitlab user settings\n\n# step 4. test connection\nssh -T git@192.168.0.237\n# Welcome to GitLab, @markshawn!\n\n# step 5. set repo url to be git format (init first)\ngit remote set-url origin git@192.168.0.237:markshawn/hmdservice.git\n')),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"http://192.168.0.237/help/ssh/README#generating-a-new-ssh-key-pair"}),"Readme \xb7 Ssh \xb7 Help \xb7 GitLab"))),(0,i.kt)("h3",c({},{id:"official-password-and-authentication"}),"official password and authentication"),(0,i.kt)("p",null,"ref:"),(0,i.kt)("h3",c({},{id:"fixed-github-does-not-provide-shell-access"}),"FIXED: ",(0,i.kt)("inlineCode",{parentName:"h3"},"GitHub does not provide shell access")),(0,i.kt)("p",null,"Just change the remote url from ",(0,i.kt)("inlineCode",{parentName:"p"},"https")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"git"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-text"}),"raw:  https://github.com/arpara-vr/arpara-timewarp.git\nthen: git@github.com:arpara-vr/arpara-timewarp.git\n")),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git remote set-url origin git@github.com:arpara-vr/arpara-timewarp.git\ngit push\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/weixin_42562387/article/details/114443451"}),"(1 \u6761\u6d88\u606f) \u89e3\u51b3 git \u8fde\u63a5\u95ee\u9898: You\u2018ve successfully authenticated, but GitHub does not provide shell access.","_","z \u5411\u524d\u7684\u535a\u5ba2-CSDN \u535a\u5ba2"))),(0,i.kt)("h2",c({},{id:"git-merge"}),"git merge"),(0,i.kt)("h3",c({},{id:"resolution-1"}),"resolution 1"),(0,i.kt)("p",null,"background:"),(0,i.kt)("p",null,"\u672c\u6765\u60f3\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"surfaceflinger"),"\u4e0b\u64cd\u4f5c\u5168\u90e8 git \u7684\uff0c\u7ed3\u679c\u53d1\u73b0\u6700\u540e\u8fd8\u662f\u8981\u52a8\u5230\u5916\u9762\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"renderengine"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1643280401329-79f5a2b7aecc35280afbd8c25b6effa1d3ebc965e575ce8f61d9aaab431a3dd4.png",alt:"picture 113"}))),(0,i.kt)("p",null,"\u4e4b\u524d\u662f\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"native"),"\u4e0b\u8fdb\u884c git \u7ba1\u7406\u7684\uff0c\u8fd9\u672c\u6765\u5f88 ok\uff0c\u540e\u6765\u56e0\u4e3a\u666f\u5586/\u897f\u74dc\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"hmdservice")," \u653e\u4e86\u8fdb\u6765\uff0c\u5bfc\u81f4 git \u4e00\u4e0b\u5c31\u810f\u4e86\uff0c\u6240\u4ee5\u624d\u60f3\u5230\u4e0e\u5b83\u7684 service \u9694\u79bb\uff0c\u7f29\u5c0f\u5230 surfaceflinger \u8303\u56f4\u3002"),(0,i.kt)("p",null,"\u73b0\u5728\u53d1\u73b0\u4e0d\u53ef\u884c\uff0c\u4e0d\u8fc7\u6b63\u597d ",(0,i.kt)("inlineCode",{parentName:"p"},"hmdservice")," \u5df2\u7ecf\u8ba9\u535a\u6587\u53bb\u641e\u4e86\uff0c\u6240\u4ee5\u6211\u53c8\u53ef\u4ee5\u4e86\uff0c\u90a3\u5c31\u8fd8\u662f\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"native")," \u4e0b\u7ba1\u7406\uff0c\u53ef\u662f\u73b0\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"surfaceflinger")," \u4e0b\u5df2\u7ecf\u6709\u51e0\u4e2a commit \u4e86\uff0c\u6240\u4ee5\u5c31\u6d89\u53ca\u5230\u8fc1\u79fb/\u5408\u5e76\u95ee\u9898\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1643280220877-5e589cad603163899ec9236dfe1efb000d83801ad307304b995eb976a55406da.png",alt:"picture 112"}))),(0,i.kt)("p",null,"resolution:"),(0,i.kt)("p",null,(0,i.kt)("del",{parentName:"p"},"\u8fd9\u91cc\u662f\u5426\u53ef\u4ee5\u628a Bproject \u8bbe\u6210/path/to/B \u5462\uff1f\u8fd9\u6837\u662f\u4e0d\u662f\u5c31\u4e0d\u7528\u751f\u6210\u65b0\u7684\u6587\u4ef6\u5939\u4e86\uff1f")),(0,i.kt)("p",null,"update\uff1a\u4e0d\u662f\uff0c\u8df3\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"git read-tree"),"\u6b65\u9aa4\u5c31\u53ef\u4ee5\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git remote add -f Bproject /path/to/B\ngit merge -s ours --no-commit --allow-unrelated-histories Bproject/master\n# git read-tree --prefix=dir-B/ -u Bproject/master\ngit commit -m "Merge B project as our subdirectory"\n# git pull -s subtree Bproject master\n')),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://bneijt.nl/blog/merge-a-subdirectory-of-another-repository-with-git/"}),"Merge a subdirectory of another repository with git"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/23327701/git-merge-submodule-into-parent-tree-cleanly-and-preserving-commit-history"}),"Git merge submodule into parent tree cleanly and preserving commit history - Stack Overflow")))),(0,i.kt)("h3",c({},{id:"fixme-resolution-2-maybe-can-be-merged-with-1"}),"FIXME: resolution 2 (maybe can be merged with 1)"),(0,i.kt)("p",null,"!!!warning \u8fd9\u79cd\u65b9\u6cd5\u53ea\u9002\u5408\u5408\u5e76 git \u8ffd\u8e2a\u7684\u6587\u4ef6\uff0c\u8fd9\u5c06\u5f88\u5bb9\u6613\u5bfc\u81f4\u4e00\u4e9b\u95ee\u9898\uff0c\u56e0\u4e3a\u90a3\u4e9b\u4e0d\u88ab\u8ffd\u8e2a\u7684\u6587\u4ef6\u6ca1\u6709\u5408\u5e76\u8fdb\u6765\uff0c\u6bd4\u5982\u6211\u7684 VERSION.txt"),(0,i.kt)("p",null,"If you want to merge project-a into project-b:"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cd path/to/project-b\ngit remote add project-a /path/to/project-a\ngit fetch project-a --tags\ngit merge --allow-unrelated-histories project-a/master # or whichever branch you want to merge\ngit remote remove project-a\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/1425892/how-do-you-merge-two-git-repositories"}),"How do you merge two Git repositories? - Stack Overflow"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://saintgimp.org/2013/01/22/merging-two-git-repositories-into-one-repository-without-losing-file-history/"}),"Merging Two Git Repositories Into One Repository Without Losing File History \u2013 SaintGimp")))),(0,i.kt)("h2",c({},{id:"git-rebase"}),"git rebase"),(0,i.kt)("p",null,"\u901a\u8fc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"glola")," \u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u5f53\u524d\u7684\u7248\u672c\uff0c\u548c upstream \u4ece 2a043ea \u5f00\u59cb\u4ea7\u751f\u4e86\u5206\u6b67\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"picture 1",src:a(82792).Z,width:"2028",height:"402"})),(0,i.kt)("p",null,"\u6240\u4ee5\u6b64\u65f6\u63a8 upstream \u662f\u4f1a\u88ab\u62d2\u7edd\u7684\uff0c\u4f8b\u5982\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"picture 2",src:a(60838).Z,width:"1496",height:"366"})),(0,i.kt)("p",null,"\u800c git \u9ed8\u8ba4\u7684\u63d0\u793a\u662f \u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"git pull"),"\uff0c\u4e5f\u5c31\u662f\u5148\u628a\u6700\u65b0\u7684 upstream \u62c9\u4e0b\u6765\uff0c\u8fd9\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"merge")," \u7684\u64cd\u4f5c\u3002"),(0,i.kt)("p",null,"\u5f53\u6211\u4eec\u8fd9\u6837\u505a\u4e4b\u540e\uff0c\u7b49\u4e8e\u662f\u6211\u4eec\u6d88\u5316\u4e86 upstream\uff0c\u7b49\u6211\u4eec\u6539\u5b8c\u51b2\u7a81\u4e4b\u540e\u518d push \u65f6\uff0c\u5206\u652f\u6811\u5c31\u7c7b\u4f3c\u8fd9\u6837\u8d70\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"picture 3",src:a(72625).Z,width:"1248",height:"444"})),(0,i.kt)("p",null,"\u4f46\u5176\u5b9e\uff0c\u8fd9\u5e76\u4e0d\u662f\u6700\u4f18\u96c5\u7684\u52a8\u4f5c\uff0c\u56e0\u4e3a\u4e3a\u4e86\u89e3\u51b3\u4f60\u548c upstream \u4e4b\u95f4\u7684\u8fd9\u4e2a ",(0,i.kt)("inlineCode",{parentName:"p"},"merge")," \u95ee\u9898\uff0c\u4f60\u4f3c\u4e4e\u5f80\u56de\u8d70\u4e86\u4e00\u6b65 \uff08\u4fd7\u79f0\u975e\u7ebf\u6027\uff09\u3002"),(0,i.kt)("p",null,"\u6709\u4e00\u79cd\u529e\u6cd5\u53ef\u4ee5\u8ba9\u6574\u4e2a\u6d41\u7a0b\u770b\u8d77\u6765\u66f4\u987a\u7545\uff0c\u90a3\u5c31\u662f\u60f3\u65b9\u8bbe\u6cd5\u53d8\u6210\u4ece upstream \u901a\u5411\u4f60\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"picture 4",src:a(80311).Z,width:"1082",height:"468"})),(0,i.kt)("p",null,"\u8fd9\u5c31\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"rebase"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"rebase")," \u662f\u4e00\u4e2a\u634f\u9020\u8bcd\uff0c\u4e5f\u5c31\u662f\u5b57\u9762\u610f\u4e49\uff0c\u91cd\u65b0 base \u7684\u610f\u601d\uff0cbase \u5c31\u662f\u9009\u62e9\u4e00\u4e2a\u57fa\u5e95\uff0c\u6309\u7167\u6211\u4eec\u7684\u8981\u6c42\uff0c\u6211\u4eec\u53ea\u8981\u9009\u62e9 upstream \u4f5c\u4e3a\u57fa\u5e95\u5373\u53ef\u3002"),(0,i.kt)("p",null,"\u8981\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"rebase")," \u6211\u4eec\u5f97\u5148\u56de\u5230\u5206\u53c9\u53e3\uff08\u6216\u4e4b\u524d\uff09\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git checkout 2a043ea # \u67e5\u8be2 git log \u5f97\u77e5\u7684\u5206\u53c9\u53e3\n")),(0,i.kt)("p",null,"\u7136\u540e ",(0,i.kt)("inlineCode",{parentName:"p"},"rebase")," \u5230 upstream\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git rebase upstream/main\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"picture 5",src:a(88675).Z,width:"1552",height:"208"})),(0,i.kt)("h2",c({},{id:"git-applyam-git-patch"}),(0,i.kt)("inlineCode",{parentName:"h2"},"git apply/am")," (git patch)"),(0,i.kt)("h3",c({},{id:"git-patch-workflow"}),"git patch workflow"),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/2249852/how-to-apply-a-patch-generated-with-git-format-patch"}),"How to apply a patch generated with git format-patch? - Stack Overflow"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://git-scm.com/docs/git-apply"}),"Git - git-apply Documentation")))),(0,i.kt)("h4",c({},{id:"step-1-\u4e0b\u8f7d-patch-\u6587\u4ef6"}),"Step 1. \u4e0b\u8f7d patch \u6587\u4ef6"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/notes-aosp-1642759766970-34578d007a396bbd1dff19a09583621df80d0ae4691d911e400005015bb59d59.png",alt:"picture 1"}))),(0,i.kt)("h4",c({},{id:"step-2-\u89e3\u538b"}),"Step 2. \u89e3\u538b"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/notes-aosp-1642759839957-d2f56254f18b25a67cc8375a16ee6573950e48bf8679aff8baa951d7ed5fcf55.png",alt:"picture 2"}))),(0,i.kt)("p",null,"\u6b64\u65f6\u5047\u8bbe\u6587\u4ef6\u8def\u5f84\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"FILE.diff"),"\uff0c\u5de5\u7a0b\u8def\u5f84\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"frameworks/native/")),(0,i.kt)("h4",c({},{id:"step-3-\u53ef\u9009\u663e\u793a\u6709\u54ea\u4e9b\u6587\u4ef6\u4f1a\u88ab\u6539\u52a8"}),"Step 3. \uff08\u53ef\u9009\uff09\u663e\u793a\u6709\u54ea\u4e9b\u6587\u4ef6\u4f1a\u88ab\u6539\u52a8"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git apply --stat $FILE.diff\n")),(0,i.kt)("h4",c({},{id:"step-4-\u68c0\u6d4b-patch-\u662f\u5426\u53ef\u884c"}),"Step 4. \u68c0\u6d4b patch \u662f\u5426\u53ef\u884c"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git apply --check $FILE.diff\n")),(0,i.kt)("p",null,"\u5982\u679c\u6ca1\u6709\u8f93\u51fa\uff0c\u8bf4\u660e\u53ef\u884c\u3002"),(0,i.kt)("p",null,"\u5426\u5219\uff0c\u8bf4\u660e\u6b64 patch \u4e0d\u53ef\u884c\uff0c\u53ef\u80fd\u7f3a\u5c11\u4e4b\u524d\u7684 patch \u6b65\u9aa4"),(0,i.kt)("h4",c({},{id:"step-51-git-am---signoff--"}),"Step 5.1 ",(0,i.kt)("inlineCode",{parentName:"h4"},"git am --signoff < ")),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git am --signoff < $FILE.diff\n")),(0,i.kt)("p",null,"\u8be5\u547d\u4ee4\u4e5f\u8bb8\u4f1a\u6709\u4e00\u4e9b warning\uff0c\u4f46\u90fd\u662f\u7f16\u7801\u8d28\u91cf\u65b9\u9762\u7684\uff0c\u53ea\u8981 check \u90a3\u6b65\u6ca1\u95ee\u9898\u8fd9\u4e00\u6b65\u5c31\u6ca1\u95ee\u9898\u3002"),(0,i.kt)("p",null,"\u6253\u5b8c\u4e4b\u540e\uff0c\u4e0d\u653e\u5fc3\u53ef\u4ee5\u6253\u5f00\u67d0\u51e0\u4e2a\u6587\u4ef6\u68c0\u67e5\u4e00\u4e0b\uff0c\u770b\u770b\u4ee3\u7801\u662f\u5426\u4fee\u6539\u6210\u529f\u3002"),(0,i.kt)("h4",c({},{id:"step-52-git-apply--3--solving-error-fatal-empty-ident-name-for--not-allowed"}),"step 5.2 ",(0,i.kt)("inlineCode",{parentName:"h4"},"git apply -3 ")," (solving error: ",(0,i.kt)("inlineCode",{parentName:"h4"},"fatal: empty ident name (for \\<\\>) not allowed"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git apply --reject PATCH_FILE\ngit apply -3 PATCH_FILE\n")),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1644316755609-77439b7eee28b4c8cf80d5411465b351a23a165dfa57292872148bd85644de92.png",alt:"picture 21"}))),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1644316660134-6a9e42068982b6f4f58414633320b2108207998f78edfa5af5c390b1691389ff.png",alt:"picture 20"}))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"ref")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/43662048/getting-fatal-empty-ident-name-not-allowed-when-doing-git-commit-amend/43662115"}),"Getting 'fatal: empty ident name not allowed' when doing 'Git commit --amend' - Stack Overflow"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/41832926/git-empty-ident-name-for-not-allowed"}),"github - git : empty ident name (for \\<",">",") not allowed - Stack Overflow"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/54719824/git-apply-gives-error-does-not-match-index-when-a-previous-apply-skips-hunks"}),'"git apply" gives error "does not match index" when a previous apply skips hunks - Stack Overflow'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/3575712/what-to-do-if-git-am-fails-with-does-not-match-index"}),'patch - What to do if git-am fails with "does not match index"? - Stack Overflow')))),(0,i.kt)("h3",c({},{id:"merge-git-patch-files"}),"merge git patch files"),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/1818965/how-to-merge-multiple-patch-files"}),"svn - How to Merge multiple patch files? - Stack Overflow"))),(0,i.kt)("h4",c({},{id:"step-1-download-combinediff"}),"Step 1. download ",(0,i.kt)("inlineCode",{parentName:"h4"},"combinediff")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"release url: ",(0,i.kt)("a",c({parentName:"p"},{href:"http://cyberelk.net/tim/data/patchutils/stable/"}),"Index of /tim/data/patchutils/stable"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"target latest download url(2022-01-25): ",(0,i.kt)("a",c({parentName:"p"},{href:"http://cyberelk.net/tim/data/patchutils/stable/patchutils-0.4.2.tar.xz"}),"patchutils-0.4.2.tar.xz")))),(0,i.kt)("h4",c({},{id:"step-2-build-combinediff"}),"Step 2. build ",(0,i.kt)("inlineCode",{parentName:"h4"},"combinediff")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"extract the ",(0,i.kt)("inlineCode",{parentName:"p"},"xxx.tar.xz"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"./configure && make && make install")))),(0,i.kt)("h5",c({},{id:"step-3-use-combinediff"}),"Step 3. use ",(0,i.kt)("inlineCode",{parentName:"h5"},"combinediff")),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# combine\ncombinediff FILE1.diff FILE2.diff > merged.diff\n\n# interpolate FILE1 - FILE2\ncombinediff --interpolate FILE1.diff FILE2.diff > interpolate.diff\n")),(0,i.kt)("h5",c({},{id:"usage-of-combinediff---interpolate"}),"Usage of ",(0,i.kt)("inlineCode",{parentName:"h5"},"combinediff --interpolate")),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# drop all the only diffs in patch2\nperl -i.bak -0pe "s|^only in patch2.*||smg" interpolate.diff\n\n# drop a specific big diff\n# if there is "+++", you should use "\\"\nperl -i.bak2 -0pe "s|reverted:\n--- b/services/surfaceflinger/HmdType6DistortionMesh.cpp.*?(?=reverted)||smg" interpolate.diff\n\n# check the size difference of `xx | xx.bak | xx.bak2`\nl | grep interpolate\n\n# show the html\n# ref: https://github.com/rtfpessoa/diff2html-cli#setup\ndiff2html -i file  --style side -- interpolate.diff\n')),(0,i.kt)("h2",c({},{id:"git-submodule"}),(0,i.kt)("inlineCode",{parentName:"h2"},"git submodule")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://blog.wu-boy.com/2011/09/introduction-to-git-submodule/"}),"Git Submodule \u4ecb\u7d39\u8207\u4f7f\u7528 - \u5c0f\u60e1\u9b54 - AppleBOY"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://blog.wu-boy.com/2011/09/introduction-to-git-submodule/"}),"Git Submodule \u4ecb\u7d39\u8207\u4f7f\u7528 - \u5c0f\u60e1\u9b54 - AppleBOY"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://blog.csdn.net/guotianqing/article/details/82391665"}),"(23 \u6761\u6d88\u606f) git \u4e2d submodule \u5b50\u6a21\u5757\u7684\u6dfb\u52a0\u3001\u4f7f\u7528\u548c\u5220\u9664","_","guotianqing \u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","git \u5b50\u6a21\u5757")))),(0,i.kt)("h3",c({},{id:"config-submodule"}),"config submodule"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'(.pyenv) \u279c  mark_keeps_learning git:(master) \u2717 cat .gitmodules                                                                  [23-01-22 | 5:39:31]\n[submodule "whats-the-best-to-learn"]\n        path="whats-the-best-to-learn"\n        url="https://github.com/whats-the-best/whats-the-best-to-learn"\n')),(0,i.kt)("h3",c({},{id:"init-and-push-submodule"}),"init and push submodule"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git submodule init\n\ngit push\n")),(0,i.kt)("h3",c({},{id:"add-submodule"}),"add submodule"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git submodule add URL PATH\n")),(0,i.kt)("h2",c({},{id:"git-commit"}),(0,i.kt)("inlineCode",{parentName:"h2"},"git commit")),(0,i.kt)("h3",c({},{id:"git-remove-a-specific-from-specific-commits"}),"git remove a specific from specific commits"),(0,i.kt)("h4",c({},{id:"conclusion"}),"conclusion"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'FILE="XXX"\n\ngit reset --soft HEAD^\ngit reset HEAD $FILE\ngit rm -- cached $FILE\ngit commit --amend\n')),(0,i.kt)("h4",c({},{id:"detail"}),"detail"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# step 1. stage all the committed files\ngit reset --soft HEAD^\n\n# step 2. remove file from staging area\ngit reset HEAD <FILENAME>\n\n# step 3. rm file from cached\ngit rm -- cached <FILENAME>\n\n# step 4. re-commit\ngit commit --amend\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"core ref: ",(0,i.kt)("a",c({parentName:"p"},{href:"https://www.makeuseof.com/git-remove-file-from-commit/"}),"How to Remove a File from Commit in Git"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u274c bad ref: ",(0,i.kt)("a",c({parentName:"p"},{href:"https://devconnected.com/how-to-remove-files-from-git-commit/"}),"How To Remove Files From Git Commit \u2013 devconnected")))),(0,i.kt)("h3",c({},{id:"git-remove-specific-file-from-history"}),"git remove specific file from history"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# solution 1. using `git filter-branch`\ngit filter-branch --force --index-filter 'git rm --cached --ignore-unmatch <path to the file or directory>' --prune-empty --tag-name-filter cat -- --all\n\n# solution 2. using `git filter-repo`\npip3 install git-filter-repo\ngit filter-repo --path <path to the file or directory> --invert-paths\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"core ref: ",(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/43762338/how-to-remove-file-from-git-history"}),"github - How to remove file from Git history? - Stack Overflow"))),(0,i.kt)("h3",c({},{id:"git-merge-commits-reset"}),"git merge commits (reset)"),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/5189560/squash-my-last-x-commits-together-using-git#"}),"rebase - Squash my last X commits together using Git - Stack Overflow"))),(0,i.kt)("h4",c({},{id:"step-1-reset"}),"Step 1. reset"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# this would reset to before the SHA_ID (i.e. keep the SHA_ID, but remove all the commits before)\ngit reset --soft SHA_ID && git commit\n")),(0,i.kt)("h4",c({},{id:"step-2-push"}),"Step 2. push"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# since the commits are changed, the normal `push` won't help, you need to use `--force`\ngit push -f\n")),(0,i.kt)("h3",c({},{id:"git-commit-amend"}),"git commit amend"),(0,i.kt)("p",null,"!!!warning Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"git commit --amend")," only when files are not changed, otherwise use a new commit and use the ",(0,i.kt)("inlineCode",{parentName:"p"},"git reset --soft ")," if need to merge the history commits."),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git commit --amend\n\ngit push -f\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/253055/how-do-i-push-amended-commit-to-the-remote-git-repository"}),"How do I push amended commit to the remote Git repository? - Stack Overflow"))),(0,i.kt)("h3",c({},{id:"generate-diff-file-from-commit"}),"generate diff file from commit"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# check sha\ngit log --oneline\n\n# generate diff\ngit diff <commit-sha> -p\n\n# generate diff to file\ngit diff COMMIT_SHA -p > DIFF_FILE\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/42357521/generate-diff-file-of-a-specific-commit-in-git/42357601"}),"Generate diff file of a specific commit in Git - Stack Overflow"))),(0,i.kt)("h2",c({},{id:"git-reflog"}),(0,i.kt)("inlineCode",{parentName:"h2"},"git reflog")),(0,i.kt)("h3",c({},{id:"customized-git-reflog"}),"customized git reflog"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git reflog --format="%C(auto)%h %<|(17)%gd %C(blue)%ci %C(reset)%an %C(green)%gs"\n')),(0,i.kt)("p",null,"The core concept is at ",(0,i.kt)("a",c({parentName:"p"},{href:"https://git-scm.com/docs/pretty-formats"}),"Git - pretty-formats Documentation"),", and I explored the following formats relatively satisfying."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"--oneline")," for short and easy to remember"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git reflog --oneline\n")),(0,i.kt)("img",{alt:"picture 89",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640763448623-git-howto-cc40ca8d013857ed0d7fcb24fc7f0577f50bda8b2074c3f5fd9f34293b22e173.png",width:"480"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"--date=iso")," for short and datetime display"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git reflog --date=iso\n")),(0,i.kt)("img",{alt:"picture 90",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640763535173-git-howto-bb1c290d41adbe3d5904257fd611da0b7aa10a5ae239dc4f1a164e40b7f052f0.png",width:"480"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},'--format="%h %gd %ci %gs"')," for full info"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git reflog --format="%h %gd %ci %gs"\n')),(0,i.kt)("img",{alt:"picture 91",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640763717955-git-howto-e7ddf8c46b900f611d11de9f6c85f1bbac4d5c7b9077991e2d7f43cc918fe2cb.png",width:"480"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"for alignment of HEAD, since it may be two-digit"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git reflog --format="%h %<|(17)%gd %ci %gs"\n')),(0,i.kt)("img",{alt:"picture 92",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640763963678-git-howto-62a828a6fe4c0ff201d2ec8568000bbda5ffe0e6110ee0a52265a0d8d29f083c.png",width:"480"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"[RECOMMEND]"," for alignment and color print"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git reflog --format="%C(auto)%h %gd %C(blue)%ci %C(reset)%an %C(green)%gs"\n')),(0,i.kt)("img",{alt:"picture 93",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640764582376-git-howto-4ad8472650d0b76cfc0eeb1f0def91143bfc3a9add3daf7b8172eabca22686e4.png",width:"480"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"with align"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git reflog --format="%C(auto)%h %<|(17)%gd %C(blue)%ci %C(reset)%an %C(green)%gs"\n')),(0,i.kt)("p",{parentName:"li"},"I quite love this color scheme!"))),(0,i.kt)("h3",c({},{id:"clean-reflog-unreachable"}),"clean reflog (unreachable)"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git reflog expire --expire=90.days.ago --expire-unreachable=now --all\n")),(0,i.kt)("p",null,"before clean:"),(0,i.kt)("p",null,"There are a lot of reflog entries, and a lot of them are unreachable (just a record)."),(0,i.kt)("p",null,"after clean:"),(0,i.kt)("p",null,"It becomes clean."),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1642925424569-4f1c586fc57db021150ad4c80d4791cc9d71ffb539d3d5eac877e20a9018a721.png",alt:"picture 5"}))),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/49067898/git-remove-old-reflog-entries"}),"purge - GIT - Remove old reflog entries - Stack Overflow"))),(0,i.kt)("h3",c({},{id:"delete-one-specific-reflog-entry"}),"delete one specific reflog entry"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git reflog delete SHA_ID\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://git-scm.com/docs/git-reflog#_description"}),"Git - git-reflog Documentation"))),(0,i.kt)("h2",c({},{id:"git-diff"}),"git diff"),(0,i.kt)("h3",c({},{id:"only-show-file-names"}),"only show file names"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git diff XXX --name-only\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://makandracards.com/makandra/15763-git-how-to-show-only-filenames-for-a-diff"}),"Git: How to show only filenames for a diff - makandra dev"))),(0,i.kt)("h3",c({},{id:"set-tab-width-to-be-4"}),"set tab width to be 4"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git config --global core.pager 'less -x1,5'\n")),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1643326522642-131d64ad4bf946695a4dcc1883c82c8d66527d6886bba4aef27b7bdd89e8d5d8.png",alt:"picture 157"}))),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/39352644/how-to-change-tab-width-in-git-diff"}),"whitespace - How to change tab width in git diff? - Stack Overflow"))),(0,i.kt)("h2",c({},{id:"show-config-info-global"}),"show config info (global)"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git config --list\n")),(0,i.kt)("p",null,"It's same to run as:"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cat ~/.gitconfig\n")),(0,i.kt)("h2",c({},{id:"github-cli"}),"github cli"),(0,i.kt)("p",null,"documentation:"),(0,i.kt)("p",null,(0,i.kt)("a",c({parentName:"p"},{href:"https://cli.github.com/manual/gh"}),"gh | GitHub CLI")),(0,i.kt)("p",null,"usage sample:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://docs.github.com/en/github/importing-your-projects-to-github/importing-source-code-to-github/importing-a-git-repository-using-the-command-line"}),"Importing a Git repository using the command line - GitHub Docs"))),(0,i.kt)("h2",c({},{id:"git-lfs-about-erasing-large-file-commit-in-the-git-history"}),(0,i.kt)("inlineCode",{parentName:"h2"},"git lfs"),": About Erasing Large File Commit in the Git History"),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://zhuanlan.zhihu.com/p/146683392"}),"\u8be6\u89e3 Git \u5927\u6587\u4ef6\u5b58\u50a8\uff08Git LFS\uff09 - \u77e5\u4e4e"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://www.atlassian.com/git/tutorials/git-lfs"}),"Git LFS - large file storage | Atlassian Git Tutorial"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/52612880/lfs-upload-missing-objectt-but-the-file-is-there"}),"git - LFS upload missing objectt but the file is there - Stack Overflow"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",c({parentName:"p"},{href:"https://docs.gitlab.com/ee/api/projects.html#edit-project"}),"Projects API | GitLab")))),(0,i.kt)("h3",c({},{id:"conclusion-1"}),"Conclusion"),(0,i.kt)("h4",c({},{id:"clear-commands"}),"clear commands"),(0,i.kt)("p",null,"!!!warning 1. \u6ce8\u610f",(0,i.kt)("inlineCode",{parentName:"p"},"grep"),"\u4e0d\u652f\u6301\u5f3a\u5316\u6b63\u5219\uff0c\u6bd4\u5982 positive/negative lookahead/lookbackward\uff0c\u4ee5\u53ca$\u8fd9\u4e9b 2. \u5982\u679c\u4e00\u5b9a\u8981\u4f7f\u7528\u8fd9\u4e9b\uff0c\u63a8\u8350\u5c1d\u8bd5",(0,i.kt)("inlineCode",{parentName:"p"},"perl"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"p"},"awk")),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'EXCLUDE_RE="life/\u738b\u8005\u8363\u8000"\n\n# \u6709\u65f6\u9700\u8981\u52a0 `-f` \u53c2\u6570\n# \u5220\u9664\u5168\u90e8\ngit filter-branch --prune-empty --index-filter "git rm --cached -rf --ignore-unmatch ${EXCLUDE_RE}"  --tag-name-filter cat -- --all\n# \u5220\u9664\u4ece\u67d0\u4e2acommit\u5230ref\uff08\u6bd4\u5982HEAD\uff09\ngit filter-branch -f --prune-empty --index-filter "git rm --cached -rf --ignore-unmatch ${EXCLUDE_RE}"  --tag-name-filter cat $COMMIT_ID...HEAD\n')),(0,i.kt)("p",null,"\u6267\u884c\u6210\u529f\u540e\u5c06\u4f1a\u6709\u4fee\u6539\u8bb0\u5f55\u8f93\u51fa\uff0c\u5982\u4e0b\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/git-howto-1655646632996-be34495b44471e7dbd0c63fbe6306df3e4a68f6413032d4e4261cd9b5d413fc0.png",alt:"picture 3"}))),(0,i.kt)("h4",c({},{id:"check-if-file-exists-in-history"}),"check if file exists in history"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git log --graph --decorate --pretty=oneline --abbrev-commit --all --name-status  | grep -E ${EXCLUDE_RE}\n")),(0,i.kt)("h4",c({},{id:"check-log-history"}),"check log history"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git lola\n")),(0,i.kt)("h4",c({},{id:"push-if-ok"}),"push if ok"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git push\n")),(0,i.kt)("h3",c({},{id:"pr-update-to-use-git-filter-repo"}),"PR: update to use git filter-repo"),(0,i.kt)("h3",c({},{id:"details"}),"Details"),(0,i.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\u7684\u539f\u56e0\u627e\u5230\u4e86\uff0c\u5c31\u5728\u4e8e\u6211\u66fe\u7ecf add \u4e86\u5927\u6587\u4ef6\uff0c\u7136\u540e\u53c8 delete \u4e86\uff0c\u867d\u7136\u6587\u4ef6\u5df2\u7ecf\u4e0d\u5728\u4e86\uff0c\u6700\u65b0\u7684 commit \u91cc\u4e5f\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\u4e86\uff0c\u4f46\u662f history \u91cc\u6709\uff0c\u4e8e\u662f git \u4e0d\u5141\u8bb8\u6211 push commit\uff0c\u8981\u4e48\u6211\u91c7\u53d6 lfs\uff08large file storage\uff09\u7684\u65b9\u6cd5\uff0c\u8981\u4e48\u60f3\u529e\u6cd5\u628a\u8fd9\u4e2a\u8bb0\u5f55\u4ece history \u91cc\u5220\u6389:"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git log --graph --decorate --pretty=oneline --abbrev-commit --all --name-status  | grep -E "Electron Framework$|^\\*"\n')),(0,i.kt)("img",{alt:"picture 1",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1639915118944-fe53d08b1d5bdb793204bc3b7e45ae6f3f05687fbb2b6fb816959db0df5d4f35.png",width:"720"}),(0,i.kt)("p",null,"\u6700\u540e\u7528\u8fd9\u4e2a\u547d\u4ee4\uff0c\u628a git history \u4e2d\u6240\u6709\u4e0e\u90a3\u4e2a\u5927\u6587\u4ef6\u76f8\u5173\u7684\uff08\u5373 node_modules \u6587\u4ef6\u5939\uff09\u90fd\u5220\u9664\u5c31\u53ef\u4ee5\u4e86\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'git filter-branch --prune-empty -d ~/temp \\\n--index-filter "git rm --cached -rf --ignore-unmatch mark_learns_coding/JS/MarkLearningWebpack/demo7/node_modules"  \\\n--tag-name-filter cat -- --all\n')),(0,i.kt)("img",{alt:"picture 2",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1639915138331-79cebb0dc3edf91f00238c72955c409ec904383f1fa35cd07e3bcb91bd00ebb5.png",width:"720"}),(0,i.kt)("img",{alt:"picture 3",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1639915144431-be5586c922ca7bd7d38e62c69b316051c7ff4dd2cc6f1d15b7b4e1c1905dc156.png",width:"720"}),(0,i.kt)("img",{alt:"picture 4",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1639915155170-8750c2827159fc6b690246d86303612717abb38436acaa7f1e476ffffe68806c.png",width:"720"}),(0,i.kt)("img",{alt:"picture 5",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1639915196051-a62cdbcc582d63c8b1eb355c69031fbf475e29f2eab536fb0f6feeb4a4d67e91.png",width:"720"}),(0,i.kt)("p",null,"Acknowledgement: \u975e\u5e38\u611f\u8c22 stackoverflow \u5927\u4f6c\u4e13\u4e1a\u53c8\u8be6\u7ec6\u7684\u56de\u7b54\uff0c\u6ca1\u6709\u5927\u4f6c\u7684\u89e3\u7b54\uff0c\u6211\u53ef\u80fd\u53c8\u8981\u8017\u8d39\u4e00\u4e2a\u901a\u5bb5\u624d\u80fd\u89e3\u51b3\u8fd9\u4e2a\u76f8\u5bf9\u6bd4\u8f83\u7f55\u89c1\u7684\u95ee\u9898\u4e86\uff1a",(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/2158271/9422455"}),"https://stackoverflow.com/a/2158271/9422455")),(0,i.kt)("p",null,"\u53e6\u5916\uff0c\u4ed6\u4f7f\u7528\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"git lola"),"\u5f88\u6709\u7528\uff0c\u9700\u8981\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"~/.gitconfig"),"\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-yaml"}),"# git lola | Conrad Parker, http://blog.kfish.org/2010/04/git-lola.html\n[alias]\n        lol = log --graph --decorate --pretty=oneline --abbrev-commit\n        lola = log --graph --decorate --pretty=oneline --abbrev-commit --all\n[color]\n        branch = auto\n        diff = auto\n        interactive = auto\n        status = auto%\n")),(0,i.kt)("p",null,"\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528\u9177\u9177\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"git lola"),"\u547d\u4ee4\u4e86\uff08\u53ef\u4ee5\u663e\u793a\u5386\u53f2\u53d8\u52a8\u60c5\u51b5\uff09\uff0c\u5982\u679c\u52a0\u4e0a",(0,i.kt)("inlineCode",{parentName:"p"},"git lola --name-status"),"\u4e4b\u540e\u8fd8\u53ef\u4ee5\u770b\u5230\u6bcf\u6b21 git \u4f1a\u5bf9\u54ea\u4e9b\u6587\u4ef6\u4ea7\u751f\u600e\u6837\u7684\u5f71\u54cd\uff0c\u975e\u5e38\u597d\u7528\uff01"),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://git-scm.com/docs/git-log"}),"Git - git-log Documentation")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"http://blog.kfish.org/2010/04/git-lola.html"}),"git lola | Conrad Parker")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/2100907/how-to-remove-delete-a-large-file-from-commit-history-in-the-git-repository"}),"version control - How to remove/delete a large file from commit history in the Git repository? - Stack Overflow")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-large-files-on-github"}),"About large files on GitHub - GitHub Docs"))),(0,i.kt)("h2",c({},{id:"git-cancel-reset---hard"}),"git cancel ",(0,i.kt)("inlineCode",{parentName:"h2"},"reset --hard")),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"git reflog # to show the hashId list, select one\n\ngit reset --hard HASH-ID\n")),(0,i.kt)("img",{alt:"picture 86",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640739162240-git-bb87ffe56560ca3688b2b03cb6516526e15aadd2b542475af7a2e9bc4454d466.png",width:"480"}),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/5473/how-can-i-undo-git-reset-hard-head1"}),"version control - How can I undo git reset --hard HEAD~1? - Stack Overflow"))),(0,i.kt)("h2",c({},{id:"git-pull---ff-only"}),"git pull --ff-only"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"With git pull --ff-only, Git will update your branch only if it can be \u201cfast-forwarded\u201d without creating new commits. If this can\u2019t be done, git pull --ff-only simply aborts with an error message. You can configure your Git client to always use --ff-only by default, so you get this behavior even if you forget the command-line flag:")),(0,i.kt)("p",null,"git config --global pull.ff only ref: ",(0,i.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/62653400/9422455"}),"https://stackoverflow.com/a/62653400/9422455")),(0,i.kt)("h2",c({},{id:"git-exclude-gitignore-file"}),"git exclude ",(0,i.kt)("inlineCode",{parentName:"h2"},".gitignore")," file"),(0,i.kt)("pre",null,(0,i.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo .gitignore >> .git/info/exclude\n")),(0,i.kt)("p",null,"ref:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"core ref: ",(0,i.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/767147/how-can-i-stop-gitignore-from-appearing-in-the-list-of-untracked-files"}),"git - How can I stop .gitignore from appearing in the list of untracked files? - Stack Overflow"))))}b.isMDXComponent=!0},82792:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/git-howto-1658155323282-7dfd8b4f9d0f8205f3ce2211cbe52d06cf82d4cf09d82165a4a59cbe5eec8b96-37616d41130f6bd2a2dd09126a5cfbd0.png"},60838:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/git-howto-1658155392917-947e771c757286a9a5291fd85062bcc13053b0a5ad8bab0ba1175feeaabab9b2-7d2645a46d6bfd745a4a58ef013a3be5.png"},72625:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/git-howto-1658155558322-e86e9a1242acf7517befeb5bd71f54ff569b9bb69a8cfe1c75376b939f4880a5-a4f0b46c50b782541c77cf662df5ef3e.png"},80311:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/git-howto-1658155804561-c89713fa6c62ac5180cf4598faa706c19237cf3987b3ad6ae112e31e2d3d404f-f09a70346ddf3e02e875af609ecb1594.png"},88675:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/git-howto-1658156091434-7c34dff3b8e0cadc4384007d3e567868b6fcaf74025a188654129a43cbc23ae2-e00f619aa12cf97a7d3d9bccfc02cbfe.png"}}]);