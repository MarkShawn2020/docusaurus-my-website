"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[47572],{35318:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(27378);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),m=p(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||c[u]||l;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,o=new Array(l);o[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,o[1]=r;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},71988:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>u,default:()=>b,frontMatter:()=>m,metadata:()=>h,toc:()=>f});var a=n(35318),i=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&d(e,n,t[n]);if(r)for(var n of r(t))p.call(t,n)&&d(e,n,t[n]);return e};const m={},u=void 0,h={unversionedId:"coding/OS/Linux/linux-commands",id:"coding/OS/Linux/linux-commands",title:"linux-commands",description:"command:zip/unzip",source:"@site/my-documents/docs/coding/OS/Linux/linux-commands.md",sourceDirName:"coding/OS/Linux",slug:"/coding/OS/Linux/linux-commands",permalink:"/docs/coding/OS/Linux/linux-commands",draft:!1,editUrl:"https://github.com/markshawn2020/docusaurus/edit/master/my-documents/docs/coding/OS/Linux/linux-commands.md",tags:[],version:"current",lastUpdatedAt:1726564669,formattedLastUpdatedAt:"2024\u5e749\u670817\u65e5",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"centos init manual",permalink:"/docs/coding/OS/Linux/centos-init-manual"},next:{title:"linux debug",permalink:"/docs/coding/OS/Linux/linux-debug"}},k={},f=[{value:"command:zip/unzip",id:"commandzipunzip",level:2},{value:"add file into zipped file",id:"add-file-into-zipped-file",level:3},{value:"list structure of zipped file",id:"list-structure-of-zipped-file",level:3},{value:"TODO:list structure of zipped file with limited level",id:"todolist-structure-of-zipped-file-with-limited-level",level:4},{value:"command:tar",id:"commandtar",level:2},{value:"command:find",id:"commandfind",level:2},{value:"find and show file size",id:"find-and-show-file-size",level:3},{value:"how to ignore case in find",id:"how-to-ignore-case-in-find",level:3},{value:"how to specify search type",id:"how-to-specify-search-type",level:3},{value:"how to exclude dir",id:"how-to-exclude-dir",level:3},{value:"TODO: how to find file with time used",id:"todo-how-to-find-file-with-time-used",level:3},{value:"tip: find efficiency comparison",id:"tip-find-efficiency-comparison",level:3},{value:"command:grep",id:"commandgrep",level:2},{value:"only display file name",id:"only-display-file-name",level:3},{value:"display lines before or after or surround specific lines",id:"display-lines-before-or-after-or-surround-specific-lines",level:3},{value:"skip binary files",id:"skip-binary-files",level:3},{value:"good articles of grep relative",id:"good-articles-of-grep-relative",level:3},{value:"how to match raw string",id:"how-to-match-raw-string",level:3},{value:"how to combine <code>grep</code> with <code>if</code>",id:"how-to-combine-grep-with-if",level:3},{value:"how to exclude pattern",id:"how-to-exclude-pattern",level:3},{value:"how to exclude dir (<code>--exclude-dir=dir</code>)",id:"how-to-exclude-dir---exclude-dirdir",level:3},{value:"how to limit depth (<code>-maxdepth</code>)",id:"how-to-limit-depth--maxdepth",level:3},{value:"tip: grep by lines context is MUCH FASTER than grep by words context, and even better for output",id:"tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output",level:3},{value:"tip: grep by negative captured group needs to use <code>ggrep</code>",id:"tip-grep-by-negative-captured-group-needs-to-use-ggrep",level:3},{value:"grep filter in/out files via <code>l | v | L</code>",id:"grep-filter-inout-files-via-l--v--l",level:3},{value:"command:tree",id:"commandtree",level:2},{value:"\u7b5b\u9009\u6587\u4ef6",id:"\u7b5b\u9009\u6587\u4ef6",level:3},{value:"\u6cd5\u4e00\uff1a\u6807\u51c6\u505a\u6cd5\u662f\u4f7f\u7528<code>--prune -P PATTERN</code>",id:"\u6cd5\u4e00\u6807\u51c6\u505a\u6cd5\u662f\u4f7f\u7528--prune--p-pattern",level:4},{value:"\u6cd5\u4e8c\uff1a\u57fa\u4e8e grep",id:"\u6cd5\u4e8c\u57fa\u4e8e-grep",level:4},{value:"how to display chinese (<code>-N</code>)",id:"how-to-display-chinese--n",level:3},{value:"how to exclude dir(<code>-I</code>)",id:"how-to-exclude-dir-i",level:3},{value:"how to change default char style",id:"how-to-change-default-char-style",level:3},{value:"command:head/tail",id:"commandheadtail",level:2},{value:"head basic usage",id:"head-basic-usage",level:3},{value:"BEST-PRACTICE: skip lines",id:"best-practice-skip-lines",level:3},{value:"how to exclude the last k rows",id:"how-to-exclude-the-last-k-rows",level:3},{value:"discuss: use <code>head</code> or <code>sed</code>",id:"discuss-use-head-or-sed",level:3},{value:"command:top",id:"commandtop",level:2},{value:"command:cat|tac",id:"commandcattac",level:2},{value:"reverse order of lines",id:"reverse-order-of-lines",level:3},{value:"how to write raw string into file using <code>cat</code>",id:"how-to-write-raw-string-into-file-using-cat",level:3},{value:"usage: how to know what&#39;s the bash string",id:"usage-how-to-know-whats-the-bash-string",level:3},{value:"command:zip|unzip|gunzip",id:"commandzipunzipgunzip",level:2},{value:"(g)unzip a gzip file",id:"gunzip-a-gzip-file",level:3},{value:"how to unzip to specific directory",id:"how-to-unzip-to-specific-directory",level:3},{value:"command:kill",id:"commandkill",level:2},{value:"command:scp",id:"commandscp",level:2},{value:"command:lsof",id:"commandlsof",level:2},{value:"command:ufw",id:"commandufw",level:2},{value:"command:time",id:"commandtime",level:2},{value:"command:tr",id:"commandtr",level:2},{value:"command:cd",id:"commandcd",level:2},{value:"usage: a superb scene using <code>cd .</code>",id:"usage-a-superb-scene-using-cd-",level:3},{value:"command:sed",id:"commandsed",level:2},{value:"how to replace a couple of files",id:"how-to-replace-a-couple-of-files",level:3},{value:"how to ignore case in sed",id:"how-to-ignore-case-in-sed",level:3},{value:"how to print only matched lines",id:"how-to-print-only-matched-lines",level:3},{value:"\u2728 how to increment version number",id:"-how-to-increment-version-number",level:3},{value:"resolution 1: use <code>echo</code> based on <code>//e</code>",id:"resolution-1-use-echo-based-on-e",level:4},{value:"resolution 2: answer",id:"resolution-2-answer",level:4},{value:"how to match digits (<code>[0-9]</code> or <code>:digit:</code>)",id:"how-to-match-digits-0-9-or-digit",level:3},{value:"how to insert text before first line of file",id:"how-to-insert-text-before-first-line-of-file",level:3},{value:"resolution 1: use <code>cat</code> and <code>;</code>",id:"resolution-1-use-cat-and-",level:4},{value:"resolution 2: use <code>cat</code> and <code>|</code>",id:"resolution-2-use-cat-and-",level:4},{value:"resolution 3: use sed s-command",id:"resolution-3-use-sed-s-command",level:4},{value:"resolution 4: use sed e-command",id:"resolution-4-use-sed-e-command",level:4},{value:"how to replace multi-lines",id:"how-to-replace-multi-lines",level:3},{value:"how to trim line",id:"how-to-trim-line",level:3},{value:"command:perl",id:"commandperl",level:2},{value:"only print matched lines",id:"only-print-matched-lines",level:3},{value:"how to use perl to replace multi-lines",id:"how-to-use-perl-to-replace-multi-lines",level:3},{value:"command:xargs",id:"commandxargs",level:2},{value:"<code>xargs</code> for <code>cp</code> to copy from stdin",id:"xargs-for-cp-to-copy-from-stdin",level:3},{value:"command:history",id:"commandhistory",level:2},{value:"how to not display the number of <code>history</code> output",id:"how-to-not-display-the-number-of-history-output",level:3},{value:"command:cut",id:"commandcut",level:2},{value:"cut column of list from XX to YY",id:"cut-column-of-list-from-xx-to-yy",level:3},{value:"command:sort/uniq",id:"commandsortuniq",level:2},{value:"sort by column/key",id:"sort-by-columnkey",level:3},{value:"drop duplicated",id:"drop-duplicated",level:3},{value:"command:nl",id:"commandnl",level:2},{value:"FIXME: why there is extra spaces",id:"fixme-why-there-is-extra-spaces",level:3},{value:"gnu:command:rename",id:"gnucommandrename",level:2}],g={toc:f};function b(e){var t,n=e,{components:i}=n,d=((e,t)=>{var n={};for(var a in e)s.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))t.indexOf(a)<0&&p.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=c(c({},g),d),l(t,o({components:i,mdxType:"MDXLayout"}))),(0,a.kt)("h2",c({},{id:"commandzipunzip"}),"command:zip/unzip"),(0,a.kt)("h3",c({},{id:"add-file-into-zipped-file"}),"add file into zipped file"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"zip -g FILE_FROM ZIPPED_FILE_TO\n")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643974724220-c464b615c61181efdf667825a2858f811d63c7d7f747acb22a144e65888c8b31.png",alt:"picture 4"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/9289734/linux-how-to-add-a-file-to-a-specific-folder-within-a-zip-file"}),"linux how to add a file to a specific folder within a zip file - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"list-structure-of-zipped-file"}),"list structure of zipped file"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"unzip -l ZIPPED_FILE\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/216617/view-list-of-files-in-zip-archive-on-linux"}),"View list of files in ZIP archive on Linux - Super User"))),(0,a.kt)("h4",c({},{id:"todolist-structure-of-zipped-file-with-limited-level"}),"TODO:list structure of zipped file with limited level"),(0,a.kt)("h2",c({},{id:"commandtar"}),"command:tar"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# x: extract, f: file\ntar -xf FILE\n\n# v: verbose, logging output, careful when extracting big files, e.g. AOSP\ntar -vxf FILE\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://linuxize.com/post/how-to-extract-unzip-tar-gz-file/"}),"How to Extract (Unzip) Tar Gz File | Linuxize"))),(0,a.kt)("h2",c({},{id:"commandfind"}),"command:find"),(0,a.kt)("h3",c({},{id:"find-and-show-file-size"}),"find and show file size"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",c({parentName:"tr"},{align:null}),"command"),(0,a.kt)("th",c({parentName:"tr"},{align:null}),"sorted"),(0,a.kt)("th",c({parentName:"tr"},{align:null}),"has size"),(0,a.kt)("th",c({parentName:"tr"},{align:null}),"size is human readable"),(0,a.kt)("th",c({parentName:"tr"},{align:null})),(0,a.kt)("th",c({parentName:"tr"},{align:null})),(0,a.kt)("th",c({parentName:"tr"},{align:null})))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),(0,a.kt)("inlineCode",{parentName:"td"},"find . -exec ls -lh {} \\;")),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"N"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null})),(0,a.kt)("td",c({parentName:"tr"},{align:null})),(0,a.kt)("td",c({parentName:"tr"},{align:null}))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),"`find . -type f -exec ls -al {} \\;"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"sort -k 5 -n"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"sed 's/ ","+","/\\t/g'"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"cut -f 9`"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"N")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),"`find -type f -exec du -sm {} \\;"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"sort -nk1`"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"N"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null})),(0,a.kt)("td",c({parentName:"tr"},{align:null}))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",c({parentName:"tr"},{align:null}),"TODO: ???"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null}),"Y"),(0,a.kt)("td",c({parentName:"tr"},{align:null})),(0,a.kt)("td",c({parentName:"tr"},{align:null})),(0,a.kt)("td",c({parentName:"tr"},{align:null}))))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"sample")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644146425265-52c44c84a4ac041340c2069e2b1d952b385b64b67d62c34a35024f62314600a2.png",alt:"picture 91"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/22598205/how-sort-find-result-by-file-sizes/22598250"}),"shell - How sort find result by file sizes - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/64649/how-do-i-get-the-find-command-to-print-out-the-file-size-with-the-file-name"}),"unix - How do I get the find command to print out the file size with the file name? - Stack Overflow")))),(0,a.kt)("h3",c({},{id:"how-to-ignore-case-in-find"}),"how to ignore case in find"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"find -iname\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/32155/find-command-how-to-ignore-case"}),"Find command: how to ignore case? - Unix & Linux Stack Exchange"))),(0,a.kt)("h3",c({},{id:"how-to-specify-search-type"}),"how to specify search type"),(0,a.kt)("p",null,"Use ",(0,a.kt)("inlineCode",{parentName:"p"},"-type")," to specify the search type (default is ",(0,a.kt)("inlineCode",{parentName:"p"},"c")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"file"),"), here I used ",(0,a.kt)("inlineCode",{parentName:"p"},"d")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"directory"),", ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://man7.org/linux/man-pages/man1/find.1.html#:~:text=true%20%20Always%20true.-,%2Dtype%20c,-File%20is%20of"}),"find type")),(0,a.kt)("p",null,"And then, when I search directory, it would search all the sub-folders with '/' concatenated, so I need to specify ",(0,a.kt)("inlineCode",{parentName:"p"},"-d 1")," in order to only search the top current directory."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"\u279c  Application Support find . -name '*electron*' -type d -d 1\n./electron-react-boilerplate\n./electron-react-typescript\n\u279c  Application Support rm -rf electron-react-boilerplate\n\u279c  Application Support rm -rf electron-react-typescript\n")),(0,a.kt)("h3",c({},{id:"how-to-exclude-dir"}),"how to exclude dir"),(0,a.kt)("p",null,"TODO: in fact, I really can't catch why ",(0,a.kt)("inlineCode",{parentName:"p"},"-prune")," is combined with ",(0,a.kt)("inlineCode",{parentName:"p"},"-o")," (or)"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. use `-not -path`\nfind -name \"*.js\" -not -path \"./directory/*\"\n\n# 2. use `-path xx -prune`\nfind . -path ./misc -prune -o -name '*.txt' -print\n\n# 3. use multiple prune (need to add escaped bracket)\nfind . -type d \\( -path ./dir1 -o -path ./dir2 -o -path ./dir3 \\) -prune -o -name '*.txt' -print\n\n# 4. use regex prune (-name)\nfind . -type d -name node_modules -prune -o -name '*.json' -print\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/4210042/how-to-exclude-a-directory-in-find-command"}),"linux - How to exclude a directory in find . command - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"todo-how-to-find-file-with-time-used"}),"TODO: how to find file with time used"),(0,a.kt)("h3",c({},{id:"tip-find-efficiency-comparison"}),"tip: find efficiency comparison"),(0,a.kt)("p",null,"Use a specified directory is the best and fastest;"),(0,a.kt)("p",null,"If not, limit the ",(0,a.kt)("inlineCode",{parentName:"p"},"maxdepth")," to a number small enough is also ok;"),(0,a.kt)("p",null,"And then consider the directory prune."),(0,a.kt)("p",null,"Finally bared run is the worst."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"\u279c  hjxh_express_match git:(main) time find .imgs  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind .imgs -name   0.00s user 0.00s system 52% cpu 0.005 total\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 3  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 3 -name   0.01s user 0.05s system 70% cpu 0.079 total\n\n---\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 4  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 4 -name   0.06s user 0.69s system 87% cpu 0.854 total\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 5  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 5 -name   0.14s user 1.86s system 93% cpu 2.137 total\n\n\u279c  hjxh_express_match git:(main) time find . -maxdepth 6  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -maxdepth 6 -name   0.26s user 3.21s system 94% cpu 3.683 total\n\n---\n\n\u279c  hjxh_express_match git:(main) time find .  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -name   0.44s user 5.85s system 51% cpu 12.172 total\n\n\u279c  hjxh_express_match git:(main) time find . -path './.imgs/*'  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -path './.imgs/*' -name   0.46s user 5.93s system 51% cpu 12.299 total\n\n\u279c  hjxh_express_match git:(main) time find . -path './.imgs/*'  ! -path \"**/node_modules/*\"  -name readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\n./.imgs/readme-1641287704584-613d44afa250b17be45e5b366487d1dbd42939da44543700b5e7fbd7f6a8ca9e.png\nfind . -path './.imgs/*' ! -path \"**/node_modules/*\" -name   0.46s user 5.91s system 51% cpu 12.268 total\n\n")),(0,a.kt)("h2",c({},{id:"commandgrep"}),"command:grep"),(0,a.kt)("p",null,"!!!tip 1. use ",(0,a.kt)("inlineCode",{parentName:"p"},"grep -n")," rather than ",(0,a.kt)("inlineCode",{parentName:"p"},"grep")," to get line number always! 2. the zsh/bash has done an alias for grep adding the ",(0,a.kt)("inlineCode",{parentName:"p"},"--color-auto")," option"),(0,a.kt)("h3",c({},{id:"only-display-file-name"}),"only display file name"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"grep -l\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/6637882/how-can-i-use-grep-to-show-just-filenames-on-linux"}),"How can I use grep to show just filenames on Linux? - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"display-lines-before-or-after-or-surround-specific-lines"}),"display lines before or after or surround specific lines"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# A: after\ngrep -A 3 XXX\n\n# B: before\ngrep -B 3 XXX\n\n# C: context\ngrep -C 3 XXX\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/"}),"15 Practical Grep Command Examples In Linux / UNIX"))),(0,a.kt)("h3",c({},{id:"skip-binary-files"}),"skip binary files"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"grep -I\n")),(0,a.kt)("p",null,"see: - ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/25853722/how-to-suppress-binary-file-matching-results-in-grep"}),"linux - How to suppress binary file matching results in grep - Stack Overflow")),(0,a.kt)("h3",c({},{id:"good-articles-of-grep-relative"}),"good articles of grep relative"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://queirozf.com/entries/grep-usage-examples#search-for-raw-string"}),"Grep usage examples"))),(0,a.kt)("h3",c({},{id:"how-to-match-raw-string"}),"how to match raw string"),(0,a.kt)("p",null,"use ",(0,a.kt)("inlineCode",{parentName:"p"},"-F"),"."),(0,a.kt)("p",null,"!!!warning But if the raw string begins with ",(0,a.kt)("inlineCode",{parentName:"p"},"-"),", then we need to use ",(0,a.kt)("inlineCode",{parentName:"p"},"-e")," to force ",(0,a.kt)("inlineCode",{parentName:"p"},"grep")," recognizing the following string as a pattern otherwise it would catch errors."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{}),'sample:\n\n```sh\ngrep -F "xxx" <<< "xxxyyy"\n# ok\n\ngrep -F -e "-xxx" <<< "-xxxxyyy"\n# ok\n\ngrep -F "-xxx" <<< "-xxxx"\n# error\n```\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/11856054/is-there-an-easy-way-to-pass-a-raw-string-to-grep"}),'bash - Is there an easy way to pass a "raw" string to grep? - Stack Overflow'))),(0,a.kt)("h3",c({},{id:"how-to-combine-grep-with-if"}),"how to combine ",(0,a.kt)("inlineCode",{parentName:"h3"},"grep")," with ",(0,a.kt)("inlineCode",{parentName:"h3"},"if")),(0,a.kt)("p",null,"using ",(0,a.kt)("inlineCode",{parentName:"p"},"-q"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"if  grep -q hello a.txt ; then echo yes;else echo no; fi\n# yes\n\nif grep -q word a.txt; then echo yes; else echo no; fi\n# no\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/leoufung/article/details/48971557"}),"grep -q \u7528\u4e8e if \u903b\u8f91\u5224\u65ad","_","\u516d\u516d\u54e5\u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","grep if"))),(0,a.kt)("h3",c({},{id:"how-to-exclude-pattern"}),"how to exclude pattern"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# `-v`: `--invert-match`, not match/contain specific string\ngrep -v XXX\n\n# `-w`: word\n# `-wv`: not match specific word\ngrep -wv XXX\n\n# `-E`: extended regular script\ngrep -Ewv "AAA|BBB"\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"very good: ",(0,a.kt)("a",c({parentName:"li"},{href:"https://linuxize.com/post/grep-exclude/"}),"How to Exclude in Grep | Linuxize"))),(0,a.kt)("h3",c({},{id:"how-to-exclude-dir---exclude-dirdir"}),"how to exclude dir (",(0,a.kt)("inlineCode",{parentName:"h3"},"--exclude-dir=dir"),")"),(0,a.kt)("p",null,"Recent versions of GNU Grep (>= 2.5.2) provide:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"--exclude-dir=dir")),(0,a.kt)("p",null,"which excludes directories matching the pattern dir from recursive directory searches."),(0,a.kt)("p",null,"So you can do:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# exclude one dir\ngrep -R --exclude-dir=node_modules 'some pattern' /path/to/search\n\n# exclude multi dirs\ngrep -R --exclude-dir={AAA,BBB,CCC}  xxxx\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/6565471/how-can-i-exclude-directories-from-grep-r"}),"linux - How can I exclude directories from grep -R? - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"how-to-limit-depth--maxdepth"}),"how to limit depth (",(0,a.kt)("inlineCode",{parentName:"h3"},"-maxdepth"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'find . -maxdepth 4 -type f -exec grep "11.0.0_r1" {}  \\;\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/111722/how-to-do-max-depth-search-in-ack-and-grep"}),"How to do max-depth search in ack and grep? - Unix & Linux Stack Exchange"))),(0,a.kt)("h3",c({},{id:"tip-grep-by-lines-context-is-much-faster-than-grep-by-words-context-and-even-better-for-output"}),"tip: grep by lines context is MUCH FASTER than grep by words context, and even better for output"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u279c  erb git:(main) \u2717 time (cat release/build/mac/\u7687\u5bb6\u5c0f\u864e\u5feb\u9012\u5206\u6790\u7cfb\u7edf.app/Contents/Resources/app/dist/main/main.js | tr ";" "\\n" | grep --context=3 \'fake-database\')\n# var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}\n# Object.defineProperty(t,"__esModule",{value:!0}),t.isDbFinished=t.initDbUpdateResult=t.initDbInsertResult=t.DB_UPDATE_DECLINED=t.DB_UPDATED=t.DB_INSERT_DUPLICATED=t.DB_INSERT_SUCCESS=t.DB_UNKNOWN=t.DB_TIMEOUT=t.DB_TABLE_NOT_EXISTED=t.prisma=void 0\n# const i=r(72298),a=`file:${n(r(71017)).default.join(i.app.getPath("userData"),"express_match.sqlite.db")}?connection_limit=1`\n# process.env.DATABASE_URL=a,console.log({__dirname,rawDBPath:"file:dev.db?connection_limit=1",newDBPath:a}),t.prisma={erp:{create:()=>{console.log("fake-database: creating one")},findMany:()=>{console.log("fake-database: finding many")},upsert:()=>{console.log("fake-database: upserting one")}}},t.DB_TABLE_NOT_EXISTED="DB_TABLE_NOT_EXISTED",t.DB_TIMEOUT="DB_TIMEOUT",t.DB_UNKNOWN="DB_UNKNOWN",t.DB_INSERT_SUCCESS="DB_INSERT_SUCCESS",t.DB_INSERT_DUPLICATED="DB_INSERT_DUPLICATED",t.DB_UPDATED="DB_UPDATED",t.DB_UPDATE_DECLINED="DB_UPDATE_DECLINED"\n# t.initDbInsertResult=()=>({nTotal:0,nInserted:0,nDuplicated:0,nTimeout:0,nUnknown:0,nTableNotExist:0})\n# t.initDbUpdateResult=()=>({nTotal:0,nUpdated:0,nDropped:0,nTimeout:0,nUnknown:0,nTableNotExist:0})\n# t.isDbFinished=e=>{let t=0\n( cat  | tr ";" "\\n" | grep --color=auto  --context=3 \'fake-database\'; )  0.20s user 0.01s system 121% cpu 0.169 total\n')),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u279c  erb git:(main) \u2717 time ( grep -iEo \'.{255}fake-database.{255}\' release/build/mac/\u7687\u5bb6\u5c0f\u864e\u5feb\u9012\u5206\u6790\u7cfb\u7edf.app/Contents/Resources/app/dist/main/main.js | tr \';\' \'\\n\' )\n# =`file:${n(r(71017)).default.join(i.app.getPath("userData"),"express_match.sqlite.db")}?connection_limit=1`\n# process.env.DATABASE_URL=a,console.log({__dirname,rawDBPath:"file:dev.db?connection_limit=1",newDBPath:a}),t.prisma={erp:{create:()=>{console.log("fake-database: creating one")},findMany:()=>{console.log("fake-database: finding many")},upsert:()=>{console.log("fake-database: upserting one")}}},t.DB_TABLE_NOT_EXISTED="DB_TABLE_NOT_EXISTED",t.DB_TIMEOUT="DB_TIMEOUT",t.DB_UNKNOWN="DB_UNKNOWN",t.DB_INSERT_SUCCESS="D\n( grep --color=auto --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,.tox} -iEo  t)  3.27s user 0.01s system 99% cpu 3.279 total\n\n')),(0,a.kt)("h3",c({},{id:"tip-grep-by-negative-captured-group-needs-to-use-ggrep"}),"tip: grep by negative captured group needs to use ",(0,a.kt)("inlineCode",{parentName:"h3"},"ggrep")),(0,a.kt)("p",null,"Examples Given the string foobarbarfoo:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'bar(?=bar)     # finds the 1st bar ("bar" which has "bar" after it)\nbar(?!bar)     # finds the 2nd bar ("bar" which does not have "bar" after it)\n(?<=foo)bar    # finds the 1st bar ("bar" which has "foo" before it)\n(?<!foo)bar    # finds the 2nd bar ("bar" which does not have "foo" before it)\n')),(0,a.kt)("p",null,"You can also combine them:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# finds the 1st bar ("bar" with "foo" before it and "bar" after it)\n(?<=foo)bar(?=bar)\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/2973436/regex-lookahead-lookbehind-and-atomic-groups"}),"lookaround - Regex lookahead, lookbehind and atomic groups - Stack Overflow"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"grep -Pio '(?<=heads\\/)(.*?)(?=\\n)' text.txt # P option instead of E\n")),(0,a.kt)("p",null,"ref: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/45534127/9422455"}),"https://stackoverflow.com/a/45534127/9422455")),(0,a.kt)("h3",c({},{id:"grep-filter-inout-files-via-l--v--l"}),"grep filter in/out files via ",(0,a.kt)("inlineCode",{parentName:"h3"},"l | v | L")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643974557449-75508ca3181f85ec0044b1cc5810b346cc73251e03d00d384a911833bd4584c9.png",alt:"picture 3"}))),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643974532913-692eec2dec71c671c3321546be18bc319276d95bc71edde0fc99401c1d54b833.png",alt:"picture 2"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/339619/is-grep-v-l-equivalent-to-grep-l"}),"Is 'grep -v -l' equivalent to 'grep -L'? - Unix & Linux Stack Exchange"))),(0,a.kt)("h2",c({},{id:"commandtree"}),"command:tree"),(0,a.kt)("h3",c({},{id:"\u7b5b\u9009\u6587\u4ef6"}),"\u7b5b\u9009\u6587\u4ef6"),(0,a.kt)("h4",c({},{id:"\u6cd5\u4e00\u6807\u51c6\u505a\u6cd5\u662f\u4f7f\u7528--prune--p-pattern"}),"\u6cd5\u4e00\uff1a\u6807\u51c6\u505a\u6cd5\u662f\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"h4"},"--prune -P PATTERN")),(0,a.kt)("p",null,"!!! warning \u6ce8\u610f\u8fd9\u91cc\u7684 PATTERN \u4e0d\u662f\u6807\u51c6\u7684\u6b63\u5219\uff0c\u5177\u4f53\u53ef\u4ee5\u89c1",(0,a.kt)("inlineCode",{parentName:"p"},"man tree"),"\u5185\u5173\u4e8e",(0,a.kt)("inlineCode",{parentName:"p"},"-P"),"\u7684\u8bf4\u660e\uff1a ",(0,a.kt)("inlineCode",{parentName:"p"},"text -P pattern List only those files that match the wild-card pattern. You may have multiple -P options. Note: you must use the -a option to also consider those files beginning with a dot `.' for matching. Valid wildcard operators are `*' (any zero or more characters), `**` (any zero or more characters as well as null /'s, i.e. /**/ may match a single /), `?' (any single character), `[...]' (any single character listed between brackets (optional - (dash) for character range may be used: ex: [A-Z]), and `[^...]' (any single character not listed in brackets) and `|' separates alternate patterns. A '/' at the end of the pattern matches directories, but not files. ")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),'2022/07/04 11:55:46 (base) \u279c  2.0b4.0.9 git:(master) \u2717 tree --prune -P "*.db" | head -n 5\n.\n\u251c\u2500\u2500 1d35a41b3adb8b335cc59362ad55ee88\n\u2502\xa0\xa0 \u251c\u2500\u2500 Account\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 Beta.db\n\u2502\xa0\xa0 \u251c\u2500\u2500 ChatSync\n')),(0,a.kt)("h4",c({},{id:"\u6cd5\u4e8c\u57fa\u4e8e-grep"}),"\u6cd5\u4e8c\uff1a\u57fa\u4e8e grep"),(0,a.kt)("p",null,"\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"tree -f"),"\u6253\u5370\u5b8c\u6574\u8def\u5f84\u518d\u4f7f\u7528 grep\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),'2022/07/04 11:59:24 (base) \u279c  2.0b4.0.9 git:(master) \u2717 tree -f | grep -E "\\.db$" | head -n 5\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ./1d35a41b3adb8b335cc59362ad55ee88/Account/Beta.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ./1d35a41b3adb8b335cc59362ad55ee88/ChatSync/ChatSync.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ./1d35a41b3adb8b335cc59362ad55ee88/Contact/wccontact_new2.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ./1d35a41b3adb8b335cc59362ad55ee88/Favorites/favorites.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ./1d35a41b3adb8b335cc59362ad55ee88/FileStateSync/filestatesync.db\n')),(0,a.kt)("p",null,"\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"find"),"\u6253\u5370\u5b8c\u6574\u8def\u5f84\u518d\u4f7f\u7528 grep:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),'2022/07/04 11:59:31 (base) \u279c  2.0b4.0.9 git:(master) \u2717 find . | grep -E "\\.db$" | head -n 5\n./KeyValue/1d35a41b3adb8b335cc59362ad55ee88/KeyValue.db\n./Backup/1d35a41b3adb8b335cc59362ad55ee88/A2158f8233bc48b5/Backup.db\n./Backup/1d35a41b3adb8b335cc59362ad55ee88/F10A43B8-5032-4E21-A627-F26663F39304/Backup.db\n./1d35a41b3adb8b335cc59362ad55ee88/solitaire/solitaire_chat.db\n./1d35a41b3adb8b335cc59362ad55ee88/Stickers/stickers.db\n')),(0,a.kt)("p",null,"\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6446\u70c2\uff0c\u4e0d\u6253\u5370\u8def\u5f84\uff0c\u4ece\u800c\u5448\u73b0\u4e00\u5b9a\u7684\u6587\u4ef6\u5939\u7ed3\u6784\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),'2022/07/04 12:00:04 (base) \u279c  2.0b4.0.9 git:(master) \u2717 tree | grep -E "\\.db$" | head -n 5\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 Beta.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 ChatSync.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 wccontact_new2.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 favorites.db\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u251c\u2500\u2500 filestatesync.db\n')),(0,a.kt)("p",null,"\u603b\u4f53\u6765\u770b\uff0c\u8fd9\u4e09\u8005\u90fd\u4e0d\u5982\u6cd5\u4e00\u3002"),(0,a.kt)("h3",c({},{id:"how-to-display-chinese--n"}),"how to display chinese (",(0,a.kt)("inlineCode",{parentName:"h3"},"-N"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"tree -N\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/cxrsdn/article/details/100006348"}),"(23 \u6761\u6d88\u606f) linux \u4e0b tree \u547d\u4ee4\u4e2d\u6587\u5b57\u7b26\u4e71\u7801\u89e3\u51b3\u65b9\u6848","_","cxrsdn \u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","linux tree \u4e2d\u6587"))),(0,a.kt)("h3",c({},{id:"how-to-exclude-dir-i"}),"how to exclude dir(",(0,a.kt)("inlineCode",{parentName:"h3"},"-I"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# use `|` to split choices\n\n# exclude\ntree -I \"XXX|YYY\"   # maybe it means 'ignore'\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/61074/tree-command-for-multiple-includes-and-excludes"}),"tree command for multiple includes and excludes - Unix & Linux Stack Exchange"))),(0,a.kt)("h3",c({},{id:"how-to-change-default-char-style"}),"how to change default char style"),(0,a.kt)("p",null,"see: - ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/127063/tree-command-output-with-pure-7-bit-ascii-output"}),'"tree" command output with "pure" (7-bit) ASCII output - Unix & Linux Stack Exchange')),(0,a.kt)("p",null,"\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"--charset")," \u9009\u9879\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),'\x3c!-- default --\x3e\n2022/07/04 11:52:36 (base) \u279c  2.0b4.0.9 git:(master) \u2717 tree --prune -P "*.db"\n.\n\u251c\u2500\u2500 1d35a41b3adb8b335cc59362ad55ee88\n\u2502\xa0\xa0 \u251c\u2500\u2500 Account\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 Beta.db\n\u2502\xa0\xa0 \u251c\u2500\u2500 ChatSync\n\u2502\xa0\xa0 \u2502\xa0\xa0 \u2514\u2500\u2500 ChatSync.db\n\n\x3c!-- ascii --\x3e\n2022/07/04 11:53:14 (base) \u279c  2.0b4.0.9 git:(master) \u2717 tree --prune -P "*.db" --charset ascii\n.\n|-- 1d35a41b3adb8b335cc59362ad55ee88\n|   |-- Account\n|   |   `-- Beta.db\n|   |-- ChatSync\n|   |   `-- ChatSync.db\n\n')),(0,a.kt)("h2",c({},{id:"commandheadtail"}),"command:head/tail"),(0,a.kt)("h3",c({},{id:"head-basic-usage"}),"head basic usage"),(0,a.kt)("p",null,"head \u8fd9\u4e2a\u547d\u4ee4\u884c\u5176\u5b9e\u6ca1\u6709\u4ec0\u4e48\u8981\u8bb2\u7684\uff0c\u7528\u6cd5\u975e\u5e38\u7b80\u5355\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# output the first 5 lines (default)\nhead FILE\n\n# output the first N lines (replace "N")\nhead -n "N" FILES\n')),(0,a.kt)("h3",c({},{id:"best-practice-skip-lines"}),"BEST-PRACTICE: skip lines"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# limit 5\n| head -n 5\n\n# skip 5\n| tail -n -5\n\n# skip 5 and limit 5\n| tail -n -5 | head -n 5\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"sample")),(0,a.kt)("p",null,"I used this to perform a page switch action."),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644169940990-2f5bc57e556e4ce8c297fd7ce371dd96c2e5965e908e102d802da75fc52fe457.png",alt:"picture 6"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/604864/print-a-file-skipping-the-first-x-lines-in-bash"}),"linux - Print a file, skipping the first X lines, in Bash - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/14562423/is-there-a-way-to-ignore-header-lines-in-a-unix-sort"}),"sorting - Is there a way to ignore header lines in a UNIX sort? - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://fabianlee.org/2020/01/18/bash-skipping-lines-at-the-top-or-bottom-of-a-stream/"}),"Bash: Skipping lines at the top or bottom of a stream \u2013 Fabian Lee : Software Engineer"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/40120747/how-to-skip-first-line-of-a-file-and-read-the-remaining-lines-as-input-of-a-c-pr"}),"linux - How to skip first line of a file and read the remaining lines as input of a C program? - Stack Overflow")))),(0,a.kt)("h3",c({},{id:"how-to-exclude-the-last-k-rows"}),"how to exclude the last k rows"),(0,a.kt)("p",null,"\u4f46\u662f\u4eca\u5929 2022-01-26 \u78b0\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u8981\u83b7\u53d6\u524d n-1 \u884c\uff0c\u7136\u540e\u8bd5\u4e86 stackoverflow \u4e0a\u7684\u65b9\u6848\u597d\u50cf\u90fd\u4e0d\u5bf9\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"head -n -1 FILE\n")),(0,a.kt)("p",null,"\u540e\u6765\u624d\u77e5\u9053\uff0c\u662f\u56e0\u4e3a mac \u7684\u539f\u56e0\uff0c\u8981\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"ghead"),"\u624d\u884c\u2026\u2026"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"brew install coreutils\nghead -n -4 main.m\n")),(0,a.kt)("p",null,"\u800c ",(0,a.kt)("inlineCode",{parentName:"p"},"ghead")," \u662f\u5728 ",(0,a.kt)("inlineCode",{parentName:"p"},"coreutils")," \u91cc\u9762\uff0c\u8fd9\u4e2a\u540d\u5b57\u4e00\u770b\u6211\u5c31\u6709\uff0c\u6240\u4ee5\u4e5f\u4e0d\u7528\u88c5\u4e86\u3002"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/16206507/head-command-to-skip-last-few-lines-of-file-on-mac-osx"}),"shell - head command to skip last few lines of file on MAC OSX - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"discuss-use-head-or-sed"}),"discuss: use ",(0,a.kt)("inlineCode",{parentName:"h3"},"head")," or ",(0,a.kt)("inlineCode",{parentName:"h3"},"sed")),(0,a.kt)("p",null,"\u4eca\u5929\u4e4b\u6240\u4ee5\u7528\u5230 head \u5176\u5b9e\u662f\u56e0\u4e3a\u6211\u60f3\u5bf9\u4e00\u4e2a\u6d41\u505a sed \u5904\u7406\uff0c\u4f46\u7565\u53bb\u6700\u540e\u4e00\u884c\u3002"),(0,a.kt)("p",null,"\u6211\u4e00\u5f00\u59cb\u60f3\u7528 sed \u91cc\u7684\u8303\u56f4\u6807\u8bc6\uff08\u5730\u5740\uff09\uff0c\u4f46\u4e00\u76f4\u6ca1\u8bd5\u51fa\u6765\u3002"),(0,a.kt)("p",null,"\u540e\u6765\u6211\u628a\u5730\u5740\u6807\u8bc6\u6362\u6210\u6700\u7b80\u5355\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"1,4s/find/replace/"),"\u4e4b\u540e\u624d\u610f\u8bc6\u5230\uff0c\u6211\u7684\u601d\u8def\u662f\u4e0d\u5bf9\u7684\u3002"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"1,4"),"\u662f\u4e00\u4e2a\u786e\u5b9e\u88ab\u5904\u7406\u7684\u8303\u56f4\u9009\u62e9\uff0c\u4f46\u7ed3\u679c\u5c31\u662f\uff0cN \u884c\u4e2d\uff0c\u524d\u56db\u884c\u90fd\u88ab sed \u66ff\u6362\u4e86\uff0c\u4f46\u662f\u540e\u9762\u7684\u884c\u5c3d\u7ba1\u6ca1\u66ff\u6362\u4f9d\u65e7\u4f1a\u6253\u5370\u51fa\u6765\uff0c\u800c\u8fd9\u6b63\u662f sed \u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u5b83\u662f\u4e00\u4e2a\u6d41\u8f6c\u6362\u5668\u3002"),(0,a.kt)("p",null,"\u90a3\u5982\u679c\u7eaf\u7cb9\u57fa\u4e8e sed\uff0c\u8fdb\u884c\u8f6c\u6362\uff0c\u5e76\u4e14\u53bb\u6389\u6700\u540e\u4e00\u884c\uff0c\u5c31\u8981\u7528\u5230",(0,a.kt)("inlineCode",{parentName:"p"},"-o"),"\u7ed3\u5408\u597d\u50cf\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"/p"),"\u7684 identifier\uff0c\u5177\u4f53\u6211\u4e5f\u8bb0\u4e0d\u5927\u6e05\u4e86\u3002\u610f\u601d\u5c31\u662f\u8f93\u51fa\u6240\u6709\u88ab\u5339\u914d\u7684\u884c\uff0c\u4f46\u5982\u679c\u8fd9\u6837\u7684\u8bdd\u88ab\u5339\u914d\u7684\u884c\u5c31\u4f1a\u8f93\u51fa\u4e24\u904d\u4e86\uff08\u4e24\u904d\u4e0d\u5fc5\u76f8\u540c\uff08NOT-SURE\uff09\uff0c\u4e00\u4e2a\u662f\u8f6c\u6362\u524d\uff0c\u4e00\u4e2a\u662f\u8f6c\u6362\u540e\uff09\uff0c\u6240\u4ee5\u53e6\u4e00\u4e2a\u6807\u8bc6\u7b26\u5c31\u662f\u963b\u6b62\u539f\u5185\u5bb9\u7684\u8f93\u51fa\uff0c\u8fd9\u6837\u5c31\u53ea\u8f93\u51fa\u5339\u914d\u7684\u884c\u7684\u5904\u7406\u7ed3\u679c\u3002"),(0,a.kt)("p",null,"\u6240\u4ee5\uff0c\u8fd9\u4e2a\u601d\u8def\u5176\u5b9e\u6709\u95ee\u9898\uff0c\u5b83\u53ef\u4ee5\u5bf9\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5bf9\uff0c\u5b83\u5982\u679c\u4fdd\u8bc1\u5339\u914d n-1 \u884c\uff0c\u5219\u5bf9\uff1b\u5426\u5219\u5c31\u4e0d\u6ee1\u8db3\u9700\u6c42\u4e86\uff0c\u6211\u4eec\u7684\u9700\u6c42\u662f\u5904\u7406\u524d n-1 \u884c\uff0c\u5e76\u4e14\u4e0d\u7ba1\u5339\u914d\u4e0d\u5339\u914d\uff0c\u90fd\u8981\u8f93\u51fa\uff0c\u5c3d\u7ba1\u5b9e\u9645\u4e0a\u662f\u90fd\u5339\u914d\u7684\u3002"),(0,a.kt)("p",null,"\u603b\u4e4b\uff0c\u7406\u89e3\u5230\u8fd9\u5c42\u540e\uff0c\u65e2\u53ef\u4ee5\u7528\u7eaf sed \u7684\u65b9\u6848\uff0c\u4e5f\u53ef\u4ee5\u7528 head+sed \u7684\u65b9\u6848\uff0c\u4e00\u4e2a\u8d1f\u8d23\u6539\uff0c\u4e00\u4e2a\u8d1f\u8d23\u5220\u5373\u53ef\uff0c\u81f3\u4e8e\u5148\u540e\uff0c\u7ed3\u679c\u90fd\u4e00\u6837\uff0c\u4e5f\u8bb8 head \u5728\u524d\u6548\u7387\u4f1a\u66f4\u9ad8\u4e00\u4e9b\u3002"),(0,a.kt)("p",null,"\u6240\u4ee5\uff0c\u8fd8\u662f\u633a\u6709\u610f\u601d\u7684\uff0c\u8fd9\u4e2a\u3002"),(0,a.kt)("h2",c({},{id:"commandtop"}),"command:top"),(0,a.kt)("p",null,"Today(2022-01-27) I finally understood how to use the command of ",(0,a.kt)("inlineCode",{parentName:"p"},"top")," (though ",(0,a.kt)("inlineCode",{parentName:"p"},"htop")," is better for display but possibly more costly)."),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643248016619-b1ac7d3bcd2a9eb546a53a0e5da199d11d573f85a61a9317d679d002d98012fa.png",alt:"picture 88"}))),(0,a.kt)("p",null,"I can switch the display format of memory usage when ",(0,a.kt)("inlineCode",{parentName:"p"},"top")," has gone to the interactive interface."),(0,a.kt)("p",null,"The first option I can use is ",(0,a.kt)("inlineCode",{parentName:"p"},"E"),", which allows to switch memory unit between ",(0,a.kt)("inlineCode",{parentName:"p"},"KiB | MiB | GiB | TiB"),"."),(0,a.kt)("p",null,"And the second option I can use is ",(0,a.kt)("inlineCode",{parentName:"p"},"m"),", which switches the memory display type between pure text, columns graph and block graph."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"\u4e0d\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u76f4\u63a5\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"top -M")," \uff08\u663e\u793a\u4ee5",(0,a.kt)("inlineCode",{parentName:"li"},"MB"),"\u4e3a\u5355\u4f4d\u7684\u5185\u5b58\u4f7f\u7528\u91cf\uff09\uff0c\u56e0\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"top -h"),"\u7684\u5e2e\u52a9\u4e2d\u5199\u7684\u5f88\u6e05\u695a\uff0c\u53ea\u652f\u6301\u90e8\u5206\u9009\u9879\u3002\u5728 stackoverflow \u4e0a\u6709 ",(0,a.kt)("inlineCode",{parentName:"li"},"top -M")," \u7684\u5efa\u8bae(see: ",(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/105908/how-to-display-meminfo-in-megabytes-in-top"}),"linux - How to display meminfo in megabytes in top? - Unix & Linux Stack Exchange"),")\uff0c\u4f46\u53ef\u80fd\u6211\u7684\u7248\u672c\uff08Ubuntu 18\uff09\u4e0d\u652f\u6301\u3002\u6b63\u786e\u7684\u505a\u6cd5\uff0c\u662f\u5148\u8fdb\u5165",(0,a.kt)("inlineCode",{parentName:"li"},"top"),"\u4ea4\u4e92\u754c\u9762\uff0c\u7136\u540e\u6309",(0,a.kt)("inlineCode",{parentName:"li"},"E"),"\uff0c\u8fd9\u6837\u5c31\u4f1a\u5207\u6362\u5355\u4f4d\uff0c\u6bd4\u5982\u6309\u4e24\u6b21\u5207\u6362\u5230",(0,a.kt)("inlineCode",{parentName:"li"},"GB"),"\u5355\u4f4d\u3002\u53e6\u5916\uff0c\u72ec\u7acb\u7684\uff0c\u8fd8\u53ef\u4ee5\u6309",(0,a.kt)("inlineCode",{parentName:"li"},"m"),"\u53bb\u5207\u6362\u5185\u5b58\u7684\u663e\u793a\u6837\u5f0f\uff0c\u6bd4\u5982\u50cf",(0,a.kt)("inlineCode",{parentName:"li"},"htop"),"\u90a3\u79cd\u7ad6\u6761\u72b6\uff01"),(0,a.kt)("li",{parentName:"ol"},"\u4ee5\u4e0a\u53ea\u5728 ubuntu \u4e0a\u6d4b\u8bd5\u901a\u8fc7\uff0c\u5728 mac \u4e0a\u6211\u521a\u8bd5\u4e86\uff0c\u4e0d\u884c\uff01\u6240\u4ee5\u5230\u5e95\u600e\u4e48\u7528\u547d\u4ee4\uff0c\u8fd8\u5f97\u6839\u636e\u5e73\u53f0\u81ea\u8eab\uff01"),(0,a.kt)("li",{parentName:"ol"},"\u5177\u4f53\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,a.kt)("inlineCode",{parentName:"li"},"COMMAND -h"),"\u53bb\u770b\u7b80\u6d01\u7248\u7684\u5e2e\u52a9\u9875\u9762\uff0c\u6216\u8005",(0,a.kt)("inlineCode",{parentName:"li"},"man COMMAND")," (e.g. ",(0,a.kt)("a",c({parentName:"li"},{href:"https://manpages.ubuntu.com/manpages/bionic/en/man1/top.1.html"}),"Ubuntu Manpage: top - display Linux processes"),") \u53bb\u770b\u5b8c\u6574\u7248\u7684\u5e2e\u52a9\u9875\u9762\uff01"))),(0,a.kt)("h2",c({},{id:"commandcattac"}),"command:cat|tac"),(0,a.kt)("h3",c({},{id:"reverse-order-of-lines"}),"reverse order of lines"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"| tac\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.baeldung.com/linux/reverse-order-of-file-lines"}),"How to Reverse the Order of Lines in a File in Linux | Baeldung on Linux"))),(0,a.kt)("h3",c({},{id:"how-to-write-raw-string-into-file-using-cat"}),"how to write raw string into file using ",(0,a.kt)("inlineCode",{parentName:"h3"},"cat")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# example\nGOPATH=$HOME/my-go\ncat <<EOF >> ~/.profile\nexport GOPATH=$GOPATH\nexport PATH=$PATH:/usr/local/go/bin:$GOPATH/bin\nEOF\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/2500436/how-does-cat-eof-work-in-bash"}),'linux - How does "cat \\<\\< EOF" work in bash? - Stack Overflow'))),(0,a.kt)("h3",c({},{id:"usage-how-to-know-whats-the-bash-string"}),"usage: how to know what's the bash string"),(0,a.kt)("p",null,"When using ",(0,a.kt)("inlineCode",{parentName:"p"},"bash")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"zsh"),", we are supposed to use the function of ",(0,a.kt)("inlineCode",{parentName:"p"},"bindKey"),"."),(0,a.kt)("p",null,"However, the key we typed are always hard to remember, e.g. what's the ",(0,a.kt)("inlineCode",{parentName:"p"},"ctrl")," key?"),(0,a.kt)("p",null,"Luckily, there's a super easy (and also interactive) way for us to know it via ",(0,a.kt)("inlineCode",{parentName:"p"},"cat"),", just to type ",(0,a.kt)("inlineCode",{parentName:"p"},"cat")," followed by ",(0,a.kt)("inlineCode",{parentName:"p"},"enter")," in terminal, and then the terminal would display what the character would be when we typing them."),(0,a.kt)("p",null,"E.g. here is what's the result when we combine ",(0,a.kt)("inlineCode",{parentName:"p"},"control | option | command")," with arrow left and arrow right would be:"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1643287045491-0d652ec4cf50fd00bdfe265d1bcbc4df4482ffc562e30624d26218fd2d841adf.png",alt:"picture 114"}))),(0,a.kt)("h2",c({},{id:"commandzipunzipgunzip"}),"command:zip|unzip|gunzip"),(0,a.kt)("h3",c({},{id:"gunzip-a-gzip-file"}),"(g)unzip a gzip file"),(0,a.kt)("p",null,"failed to unzip a gzip file(empty):"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644230005139-8ec53f8ed3f2ba873c2fdafb30ed57003d97f7440148f4722db8935cc41bae2b.png",alt:"picture 6"}))),(0,a.kt)("p",null,"successfully (g)unzipped a gzip file(empty):"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644230034864-05ea639250d3fa8366d3a5663bb7e8bcb6b1be8a62d0ceb6343b2dc46bf8428a.png",alt:"picture 7"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://itectec.com/unixlinux/bash-how-to-check-if-a-gzipped-file-is-empty/"}),"Bash \u2013 How to check if a gzipped file is empty \u2013 iTecTec"))),(0,a.kt)("h3",c({},{id:"how-to-unzip-to-specific-directory"}),"how to unzip to specific directory"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"unzip file.zip -d TARGET_DIR\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://askubuntu.com/questions/994611/how-to-unzip-into-a-given-directory"}),"bash - How to unzip into a given directory - Ask Ubuntu"))),(0,a.kt)("h2",c({},{id:"commandkill"}),"command:kill"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"})," ps aux  |  grep -i  electron |  awk '{print $2}'  |  xargs sudo kill -9\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/30486159/9422455"}),"https://stackoverflow.com/a/30486159/9422455")),(0,a.kt)("h2",c({},{id:"commandscp"}),"command:scp"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sudo chown -R USER_NAME REMOTE_FOLDER\nsudo chmod 777 REMOTE_FOLDER\n")),(0,a.kt)("p",null,"the ",(0,a.kt)("inlineCode",{parentName:"p"},"-R"),' means "recursively" since there may be file deeply in the target folder that won\'t allow you to write.'),(0,a.kt)("p",null,"Hence, you can know, you can specifically claim your authority on the file or directory, since it would not automatically transfer."),(0,a.kt)("p",null,"Thus, a flexible approach is that just add a ",(0,a.kt)("inlineCode",{parentName:"p"},"-R")," flag."),(0,a.kt)("p",null,"reference: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/a/347412"}),"https://unix.stackexchange.com/a/347412")),(0,a.kt)("h2",c({},{id:"commandlsof"}),"command:lsof"),(0,a.kt)("p",null,"check status of port occupation"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"lsof -i:8888\n")),(0,a.kt)("h2",c({},{id:"commandufw"}),"command:ufw"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# check status\nsudo ufw status\n\n# enable\nsudo ufw enable\n\n# white list\nsudo ufw allow 9000\n\n# reload\nsudo ufw reload\n\n")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://blog.csdn.net/jiaochiwuzui/article/details/80907521"}),"(20 \u6761\u6d88\u606f) Ubuntu \u9632\u706b\u5899\u7684\u5f00\u542f\uff0c\u5173\u95ed\uff0c\u7aef\u53e3\u7684\u6253\u5f00\uff0c\u67e5\u770b","_","jiaochiwuzui \u7684\u535a\u5ba2-CSDN \u535a\u5ba2","_","ubuntu \u67e5\u770b\u9632\u706b\u5899\u5f00\u542f\u7684\u7aef\u53e3"))),(0,a.kt)("h2",c({},{id:"commandtime"}),"command:time"),(0,a.kt)("p",null,"I can directly using ",(0,a.kt)("inlineCode",{parentName:"p"},"time ( COMMAND_1 | COMMAND_2 )"),", so that it can calculate the final time of this pipe."),(0,a.kt)("p",null,"However, time calculation is a little more sophisticated than what would I have thought, refer more to: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/364156/how-can-i-time-a-pipe/364157"}),"bash - How can I time a pipe? - Unix & Linux Stack Exchange")),(0,a.kt)("h2",c({},{id:"commandtr"}),"command:tr"),(0,a.kt)("p",null,"It's useful to split line to lines."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"$ echo \"111;222;333\" | tr ';' '\\n'\n111\n222\n333\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# use `nl` to add the line number\ncat main.js | tr ';' '\\n' | nl -ba | head -6\n")),(0,a.kt)("h2",c({},{id:"commandcd"}),"command:cd"),(0,a.kt)("h3",c({},{id:"usage-a-superb-scene-using-cd-"}),"usage: a superb scene using ",(0,a.kt)("inlineCode",{parentName:"h3"},"cd .")),(0,a.kt)("img",{alt:"picture 10",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-howto-1641284537356-d66d64fc07918dc1e98e62dd2dd70454a9ff16b2b2cc6da39fe18cbc6a5b07a1.png",width:"480"}),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/702402/how-do-i-refresh-directory-in-bash"}),"linux - How do I refresh directory in BASH? - Super User"))),(0,a.kt)("h2",c({},{id:"commandsed"}),"command:sed"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.gnu.org/software/sed/manual/sed.html"}),"\u2728\u2728\u2728 sed, a stream editor\u2728\u2728\u2728"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.grymoire.com/Unix/Sed.html"}),"Sed - An Introduction and Tutorial"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.mankier.com/1/sed"}),"sed man page - General Commands | ManKier")))),(0,a.kt)("p",null,"a good start:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.geeksforgeeks.org/sed-command-in-linux-unix-with-examples/"}),"Sed Command in Linux/Unix with examples - GeeksforGeeks"))),(0,a.kt)("h3",c({},{id:"how-to-replace-a-couple-of-files"}),"how to replace a couple of files"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"SED_COMMAND `PIPED_FILES`\n")),(0,a.kt)("p",null,"sample: replace all the files under a specific folder"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\nsed -i "s/find/replace/g" `grep -rl find folder`\n')),(0,a.kt)("p",null,"see:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.cnblogs.com/sucretan2010/p/11898107.html"}),"linux sed \u6279\u91cf\u67e5\u627e\u5e76\u66ff\u6362\u6587\u4ef6\u5939\u4e0b\u6240\u6709\u6587\u4ef6\u7684\u5185\u5bb9 - sucre_tan - \u535a\u5ba2\u56ed"))),(0,a.kt)("h3",c({},{id:"how-to-ignore-case-in-sed"}),"how to ignore case in sed"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"/i")),(0,a.kt)("p",null,"see: - ",(0,a.kt)("a",c({parentName:"p"},{href:"https://www.cyberciti.biz/faq/unixlinux-sed-case-insensitive-search-replace-matching/"}),"sed Case Insensitive Search Matching and Replacement - nixCraft")),(0,a.kt)("h3",c({},{id:"how-to-print-only-matched-lines"}),"how to print only matched lines"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-n"),' means "No automatically print the each line"'),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/p"),' means "Print the processed line"')),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# print only the matched lines\nsed -n "s|find|replace|p"\n\n# don\'t print any line (so useless)\nsed -n "s|find|replace|"\n\n# print all the line each, with matched line again(twice, and it\'s the same)\nsed "s|find|replace|p"\n\n# TODO: print the processed, and apply function on it.\n')),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/17511639/sed-print-only-matching-group"}),"regex - sed: print only matching group - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"-how-to-increment-version-number"}),"\u2728 how to increment version number"),(0,a.kt)("h4",c({},{id:"resolution-1-use-echo-based-on-e"}),"resolution 1: use ",(0,a.kt)("inlineCode",{parentName:"h4"},"echo")," based on ",(0,a.kt)("inlineCode",{parentName:"h4"},"//e")),(0,a.kt)("p",null,"special thanks to: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/a/14348899/9422455"}),"https://stackoverflow.com/a/14348899/9422455")),(0,a.kt)("h4",c({},{id:"resolution-2-answer"}),"resolution 2: answer"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'gsed -i -E \'s|(.*)"version": "([0-9]+)\\.([0-9]+)\\.([0-9]+)"|echo "\\1\\\\"version\\\\": \\\\"\\2.\\3.$((\\4+1))\\\\""|e\' package.json\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"test what happened using ",(0,a.kt)("inlineCode",{parentName:"p"},"//pe"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'\u279c  erb_sqlite git:(main) head -3 release/app/package.json                                                                                                                                           [7-01-22 | 4:18:17]\n{\n  "name": "mark.hjxh.express_match",\n  "version": "0.2.2",\n\n\n\u279c  erb_sqlite git:(main) gsed -E \'s|(.*)"version": "([0-9]+)\\.([0-9]+)\\.([0-9]+)"|echo "\\1\\\\"version\\\\": \\\\"\\2.\\3.$((\\4+1))\\\\""|pe\' release/app/package.json                                        [7-01-22 | 4:08:57]\n{\n  "name": "mark.hjxh.express_match",\necho "  \\"version\\": \\"0.2.$((2+1))\\"",\n  "version": "0.2.3",\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"explanation")),(0,a.kt)("p",null,"In fact, the ",(0,a.kt)("inlineCode",{parentName:"p"},' "version": "0.2.2",')," is changed into ",(0,a.kt)("inlineCode",{parentName:"p"},'echo " \\"version\\": \\"0.2.$((2+1))\\"",'),"."),(0,a.kt)("p",null,"And then the ",(0,a.kt)("inlineCode",{parentName:"p"},"e")," syntax indicates run this sequency string as a command, so that it finally turns into ",(0,a.kt)("inlineCode",{parentName:"p"},' "version": "0.2.3",')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"attention")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},'"')," needs to be escaped, and to escape ",(0,a.kt)("inlineCode",{parentName:"li"},'"'),", we need to use a ",(0,a.kt)("inlineCode",{parentName:"li"},"\\"),", and to let the ",(0,a.kt)("inlineCode",{parentName:"li"},"\\")," work in the ",(0,a.kt)("inlineCode",{parentName:"li"},"echo")," function, we need to escape it again, that is to be ",(0,a.kt)("inlineCode",{parentName:"li"},'\\\\"')),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"sed")," will match all line (including the leading space), and the ",(0,a.kt)("inlineCode",{parentName:"li"},"e")," would execute all line. So if I just replace the version number part into ",(0,a.kt)("inlineCode",{parentName:"li"},'echo "\\\\"0.2.3\\\\""'),", then all the line would turns into ",(0,a.kt)("inlineCode",{parentName:"li"},' "version": echo "\\\\"0.2.3\\\\""'),", which is certainly unwanted and deserves reflection.")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"core ref")),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/14348432/how-to-find-replace-and-increment-a-matched-number-with-sed-awk"}),"bash - How to find/replace and increment a matched number with sed/awk? - Stack Overflow")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"perl | awk")," alternative"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/8653126/how-to-increment-version-number-in-a-shell-script"}),"bash - How to increment version number in a shell script? - Stack Overflow"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"official hack way (but I failed)")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"#!/usr/bin/sed -f\n\n/[^0-9]/ d\n\n# replace all trailing 9s by _ (any other character except digits, could\n# be used)\n:d\ns/9\\(_*\\)$/_\\1/\ntd\n\n# incr last digit only.  The first line adds a most-significant\n# digit of 1 if we have to add a digit.\n\ns/^\\(_*\\)$/1\\1/; tn\ns/8\\(_*\\)$/9\\1/; tn\ns/7\\(_*\\)$/8\\1/; tn\ns/6\\(_*\\)$/7\\1/; tn\ns/5\\(_*\\)$/6\\1/; tn\ns/4\\(_*\\)$/5\\1/; tn\ns/3\\(_*\\)$/4\\1/; tn\ns/2\\(_*\\)$/3\\1/; tn\ns/1\\(_*\\)$/2\\1/; tn\ns/0\\(_*\\)$/1\\1/; tn\n\n:n\ny/_/0/\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.gnu.org/software/sed/manual/sed.html#Increment-a-number"}),"sed, a stream editor"))),(0,a.kt)("h3",c({},{id:"how-to-match-digits-0-9-or-digit"}),"how to match digits (",(0,a.kt)("inlineCode",{parentName:"h3"},"[0-9]")," or ",(0,a.kt)("inlineCode",{parentName:"h3"},":digit:"),")"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref:")),(0,a.kt)("p",null,"thanks for the direction to sed official documentation in this post."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/14671293/why-doesnt-d-work-in-regular-expressions-in-sed"}),"regex - Why doesn't ",(0,a.kt)("inlineCode",{parentName:"a"},"\\d")," work in regular expressions in sed? - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"how-to-insert-text-before-first-line-of-file"}),"how to insert text before first line of file"),(0,a.kt)("p",null,"suppose the text is:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n")),(0,a.kt)("p",null,"and the file is ",(0,a.kt)("inlineCode",{parentName:"p"},"public/style.css")),(0,a.kt)("p",null,"first, export this variable for better understanding of commands:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"T='@tailwind base;\n@tailwind components;\n@tailwind utilities;'\nF='public/style.css'\n")),(0,a.kt)("p",null,"and copy file as a backup:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cp $F ${F}_\n")),(0,a.kt)("p",null,"then the reset command is:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"cp ${F}_ $F\n")),(0,a.kt)("h4",c({},{id:"resolution-1-use-cat-and-"}),"resolution 1: use ",(0,a.kt)("inlineCode",{parentName:"h4"},"cat")," and ",(0,a.kt)("inlineCode",{parentName:"h4"},";")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"cat")," approach meets our intuition, but needs a temp file."),(0,a.kt)("p",null,"First, we dump the ",(0,a.kt)("inlineCode",{parentName:"p"},"T")," into ",(0,a.kt)("inlineCode",{parentName:"p"},"temp")," file, then append ",(0,a.kt)("inlineCode",{parentName:"p"},"F")," into temp, finally replace ",(0,a.kt)("inlineCode",{parentName:"p"},"F")," with temp, that is:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo $T > temp; cat $F >> temp; mv temp $F\n")),(0,a.kt)("p",null,"Be careful about the second operator of ",(0,a.kt)("inlineCode",{parentName:"p"},">>")," since it means ",(0,a.kt)("inlineCode",{parentName:"p"},"append")," otherwise the ",(0,a.kt)("inlineCode",{parentName:"p"},"$T")," would be flushed, then ",(0,a.kt)("inlineCode",{parentName:"p"},"$F")," keeps unchanged."),(0,a.kt)("p",null,"refer:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/159513/what-are-the-shells-control-and-redirection-operators"}),"What are the shell's control and redirection operators? - Unix & Linux Stack Exchange"))),(0,a.kt)("h4",c({},{id:"resolution-2-use-cat-and-"}),"resolution 2: use ",(0,a.kt)("inlineCode",{parentName:"h4"},"cat")," and ",(0,a.kt)("inlineCode",{parentName:"h4"},"|")),(0,a.kt)("p",null,"In last solution, we used 2 ';', and there is an easy way to change it to just 1 ';'."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo $T | cat - $F > temp; mv temp $F\n")),(0,a.kt)("p",null,"In this solution, the ",(0,a.kt)("inlineCode",{parentName:"p"},"$T")," echoed into second pipe, and ",(0,a.kt)("inlineCode",{parentName:"p"},"cat")," used ",(0,a.kt)("inlineCode",{parentName:"p"},"-")," to capture it then joined with ",(0,a.kt)("inlineCode",{parentName:"p"},"$F")," and dumped into temp, which surely is faster."),(0,a.kt)("p",null,"refer:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://superuser.com/questions/1388584/what-does-the-last-hyphen-mean-in-options-of-bash"}),'linux - What does the last "-" (hyphen) mean in options of ',(0,a.kt)("inlineCode",{parentName:"a"},"bash"),"? - Super User"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/16357/usage-of-dash-in-place-of-a-filename"}),"shell - Usage of dash (-) in place of a filename - Unix & Linux Stack Exchange")))),(0,a.kt)("h4",c({},{id:"resolution-3-use-sed-s-command"}),"resolution 3: use sed s-command"),(0,a.kt)("p",null,"In the above 2 solutions, we both need an IO, i.e. first saving into a 'temp' file and move to override the raw file, which could be low-efficiently and not elegant."),(0,a.kt)("p",null,"There's a way allowing us to finish the 'join' action just in the pipe and finally leads to inplace-modify target file. That is \"sed's s-command\"."),(0,a.kt)("img",{alt:"picture 24",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379168300-linux-howto-90b435ef191284a35f21cb8cac698769b8548bfe2b3f90db2be5ea988a56c636.png",width:"480"}),(0,a.kt)("img",{alt:"picture 25",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379622241-linux-howto-e51b228ec26d453924d9731bc86f94185eccbc8ea4d43954698c4217845ca262.png",width:"480"}),(0,a.kt)("p",null,"When using ",(0,a.kt)("inlineCode",{parentName:"p"},"s-command"),", we can easily apply regex grammar to achieve what we want."),(0,a.kt)("img",{alt:"picture 26",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640379819166-linux-howto-c717ac5a605fb416fa2f472e202a74949ed8b34c3556d06ca6b70c8202d70901.png",width:"480"}),(0,a.kt)("p",null,"Like this, we can easily insert text in front of a sequency of text based on regex of '^', which means the beginning of text."),(0,a.kt)("p",null,"And then, since the basic grammar of how to insert text before specific line of an input file in ",(0,a.kt)("inlineCode",{parentName:"p"},"sed")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"sed -i 'Ni TEXT' $F")," , the problem then converts to how to join '1i' with $T. That is what we just learned can be put into practice:"),(0,a.kt)("img",{alt:"picture 27",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640380337394-linux-howto-d8bfb544ab1b2db098a1fd9138401997b9b11814af6cbf639243453526a91c02.png",width:"480"}),(0,a.kt)("p",null,"You see, now all the commands have nothing to do with the io, and the principle behind this command chain is straightforward: join into ",(0,a.kt)("inlineCode",{parentName:"p"},"1i $T")," then use it as ",(0,a.kt)("inlineCode",{parentName:"p"},"sed -i"),"\u2019s parameter (via ",(0,a.kt)("inlineCode",{parentName:"p"},"-f-")," which is the former pipe)."),(0,a.kt)("h4",c({},{id:"resolution-4-use-sed-e-command"}),"resolution 4: use sed e-command"),(0,a.kt)("img",{alt:"picture 16",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375147417-linux-howto-e0475887ff34e4a4a0be217c3596e054d2bdfa01f28f360f2459123e0b2175f7.png",width:"480"}),(0,a.kt)("img",{alt:"picture 17",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375169955-linux-howto-57609e425971259dd89c05c571047e701cb2c44dcc4deac43b0724a7295d8f44.png",width:"480"}),(0,a.kt)("p",null,"I'd think the e-command is quite confusing, but does good job."),(0,a.kt)("p",null,"I made some tests on the e-command to help myself understand."),(0,a.kt)("p",null,"In the above introduction, it indicates that if 'without parameters, the e command executes the command that is found in space and replace the pattern space with the output'."),(0,a.kt)("p",null,"suppose we have ",(0,a.kt)("inlineCode",{parentName:"p"},"a='aaa\\necho \"bbb\" \\nccc'"),", then if we runs ",(0,a.kt)("inlineCode",{parentName:"p"},"echo $a | gsed '2e'"),", that's to say run the second line as a command and let others stay as what they are: ",(0,a.kt)("img",{alt:"picture 18",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640375663511-linux-howto-18fd2906bf27a739476740fbe2c713a3c42b40de5865cebd14c08e696ed0b39a.png",width:"480"})),(0,a.kt)("p",null,"However, 'if a parameter is specified, instead, the e command interprets it as a command and sends its output to the output stream.'"),(0,a.kt)("p",null,"I made an example which may help us to understand what's the mechanism of ",(0,a.kt)("inlineCode",{parentName:"p"},"gsed 'ne xxx"),", in which ",(0,a.kt)("inlineCode",{parentName:"p"},"xxx")," is the so-called 'parameter'."),(0,a.kt)("img",{alt:"picture 19",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640376208972-linux-howto-5309698b6833082cf93b3b0f69cda3616678ad00d3e5141895bcec14b8684f57.png",width:"480"}),(0,a.kt)("p",null,"You can see, as the following shows, since a is a three-line text and sent into the pipe as stream, so first line shows 'aaa', and second line shows 'echo \"bbb\"', as what we preset."),(0,a.kt)("p",null,"The most notable point is that since ",(0,a.kt)("inlineCode",{parentName:"p"},"gsed")," sets a ",(0,a.kt)("inlineCode",{parentName:"p"},"3e")," command which means 'it will execute following commands at 3rd row of stream'. Thus, the following commands ",(0,a.kt)("inlineCode",{parentName:"p"},'xxx\\n echo "yyy"...')," are executed as separate commands split by lines."),(0,a.kt)("p",null,"Obviously, neither ",(0,a.kt)("inlineCode",{parentName:"p"},"xxx")," nor ",(0,a.kt)("inlineCode",{parentName:"p"},"zzz")," is a valid command and turned into an error. Plus, since the level of error usually is a bit higher than normal output, the error of ",(0,a.kt)("inlineCode",{parentName:"p"},"zzz")," came before ",(0,a.kt)("inlineCode",{parentName:"p"},"yyy")," and then is ",(0,a.kt)("inlineCode",{parentName:"p"},"AAA"),"."),(0,a.kt)("p",null,"Finally, when all the commands were executed, the next stream in pipe came, i.e. ",(0,a.kt)("inlineCode",{parentName:"p"},"ccc"),", and all the sequences came into end."),(0,a.kt)("p",null,"ref:"),(0,a.kt)("p",null,(0,a.kt)("a",c({parentName:"p"},{href:"https://www.gnu.org/software/sed/manual/sed.html#:~:text=by%20standard%20seds.-,e%20%5Bcommand%5D,-This%20command%20allows"}),"sed e-command")),(0,a.kt)("p",null,"Still, we had other topics to talk about."),(0,a.kt)("img",{alt:"picture 20",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377292421-linux-howto-27ab701a1d1cca335a1476e71b742a60b9f6817b5d08521c70c766bfae21290d.png",width:"480"}),(0,a.kt)("img",{alt:"picture 22",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377315692-linux-howto-ea510349e79dd47d4ca01d17200defcf7e8b8b8ebda0b0785c1833ba932c625d.png",width:"480"}),(0,a.kt)("p",null,"We can know the classic usage of ",(0,a.kt)("inlineCode",{parentName:"p"},"sed")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"sed SCRIPT INPUTFILE"),", and if ",(0,a.kt)("inlineCode",{parentName:"p"},"-e")," option is used to specify a script, with all non-option parameters taken as input files."),(0,a.kt)("p",null,"So what would happen when we combine the ",(0,a.kt)("inlineCode",{parentName:"p"},"-e")," and an input file."),(0,a.kt)("p",null,"Back to what we covered the above, we can move a step further now."),(0,a.kt)("img",{alt:"picture 23",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640377647537-linux-howto-8099c8c4212b90dd4f7fa22449dc22ef8135c485c97674a561b87769121c750b.png",width:"480"}),(0,a.kt)("p",null,"In this example, we can see that ",(0,a.kt)("inlineCode",{parentName:"p"},"gsed")," first read one line from ",(0,a.kt)("inlineCode",{parentName:"p"},"../temp")," file which is ",(0,a.kt)("inlineCode",{parentName:"p"},"AAA"),", and then paused since the ",(0,a.kt)("inlineCode",{parentName:"p"},"2e")," flag to execute ",(0,a.kt)("inlineCode",{parentName:"p"},"cat -")," command which shows all the input stream from ",(0,a.kt)("inlineCode",{parentName:"p"},"echo $a"),", and finally continued to read the remaining rows of ",(0,a.kt)("inlineCode",{parentName:"p"},"BBB")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"CCC"),"."),(0,a.kt)("p",null,"So what about if we specify a ",(0,a.kt)("inlineCode",{parentName:"p"},"-i")," option, which means ",(0,a.kt)("inlineCode",{parentName:"p"},"change in position"),"?"),(0,a.kt)("p",null,"It's easy to understand, that is all the output would be sent into ",(0,a.kt)("inlineCode",{parentName:"p"},"../temp"),", so that ",(0,a.kt)("inlineCode",{parentName:"p"},"../temp")," changes to the output just like the result in this example shows."),(0,a.kt)("p",null,"Hence, we can derive from our conclusion: if we use the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"echo $T | gsed -i '1e cat -'  $F\n")),(0,a.kt)("p",null,"then the goal of inserting text before first line can be achieved just on the fly~"),(0,a.kt)("p",null,"How amazing and beautiful it is!"),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.gnu.org/software/sed/manual/sed.html#:~:text=sed%20%C2%A0%20%5BContents%5D%5BIndex%5D-,2.1%20overview,-Normally%20sed%20is"}),"gsed overview"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"conclusion")),(0,a.kt)("p",null,"G1. To insert lines at the beginning of one file:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. dump, dump, and move\necho $T > temp; cat $F >> temp; mv temp $F;\n\n# 2. join, dump, and move\necho $T | cat - $F > temp; mv temp $F;\n\n# 3. [sed s-command] concat-string, inplace-insert\necho $T | gsed '1s/^/1i /' | gsed -i -f- $F\n\n# 4. [sed e-command] ... hard to conclude\necho $T | gsed -i '1e cat -' $F\n")),(0,a.kt)("p",null,"G2. To insert lines at specific line:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. if text is single line, refer: https://stackoverflow.com/a/6537587/9422455\ngsed -i 'Ni $T' $F\n\n# 2. if text is multi lines, refer:\necho $T | gsed -i 'Ne cat -' $F\n")),(0,a.kt)("p",null,"FIXME: (failed) G3. To insert content after matched position:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. [sed r-command]\necho $T | gsed -i '$P/r -' $F #  the '-' is same for '/dev/stdin'\n")),(0,a.kt)("p",null,"G4. To insert multi lines manually:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1, when lines are already multiplied, just add `\\` after each line, refer: https://askubuntu.com/a/702693\n\n# 2, when lines are in one, using `\\n`, refer: https://askubuntu.com/a/702690\n")),(0,a.kt)("p",null,"G5. To insert lines after matched line with the same leading space format:"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f \u5d4c\u5957 sed \u6b63\u5219\u6ce8\u610f\u4e8b\u9879"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"\u8f93\u5165\u7684\u6587\u672c\u4e0d\u80fd\u4e0e\u5206\u9694\u7b26\u76f8\u540c\uff0c\u5426\u5219\u9700\u8981\u8f6c\u4e49\u3002\u6bd4\u5982\u672c\u6b21\u4e3a\u4e86\u5728\u4ee3\u7801\u4e2d\u52a0\u5165\u6ce8\u91ca",(0,a.kt)("inlineCode",{parentName:"li"},"//"),"\uff0c\u5c31\u4e0d\u65b9\u4fbf\u7528",(0,a.kt)("inlineCode",{parentName:"li"},"/"),"\u5f53\u5206\u9694\u7b26"),(0,a.kt)("li",{parentName:"ol"},"\u5d4c\u5957\u6b63\u5219\u7684\u65f6\u5019\uff0c\u4e3a\u4e86\u80fd\u5206\u6e05\u4e00\u7ea7\u4e0e\u4e8c\u7ea7\uff0c\u53ef\u4ee5\u5e94\u7528\u4e0d\u540c\u7684\u5206\u9694\u7b26\uff0c\u6bd4\u5982\u672c\u6b21\u66f4\u65b0\u7528\u4e86",(0,a.kt)("inlineCode",{parentName:"li"},"|"),"\u4f5c\u4e3a\u4e00\u7ea7\uff0c",(0,a.kt)("inlineCode",{parentName:"li"},"_"),"\u4f5c\u4e3a\u4e8c\u7ea7"))),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. [sed s-command] leading space align with $P\n# failed at 2022-01-25\n# echo $T | gsed 's/^.*$/s\\/(^.*?)($P.*$)\\/\\\\1\\\\2\\\\n\\0\\//' | gsed -E -f- $F\n\n# updated at 2022-01-25\necho $T | gsed 's|^.*$|s_^(.*?)('$P'.*)$_\\\\1\\\\2\\\\n\\\\1\\0_|' | gsed -E -f- $F | grep --context=3 $T\n\n# FIXME: (failed) 2. [sed s-command with named-pipe] [more straightforward]\ncat <(echo -n \"s/(^.*?)($P.*?$)/\\1\\2\\\\\\\\n\\1\" & echo -n $T & echo -n \"/\") | gsed -E -f- $F\n")),(0,a.kt)("img",{alt:"picture 29",src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/1640385997938-linux-howto-41e634caf1122f991d08d485202adfb56ab71cdfdb7d5ad76ad4f57ca751cbaa.png",width:"480"}),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://serverfault.com/questions/171095/how-do-i-join-two-named-pipes-into-single-input-stream-in-linux"}),"shell - How do I join two named pipes into single input stream in linux - Server Fault"))),(0,a.kt)("h3",c({},{id:"how-to-replace-multi-lines"}),"how to replace multi-lines"),(0,a.kt)("p",null,"use ",(0,a.kt)("inlineCode",{parentName:"p"},"perl"),"!"),(0,a.kt)("p",null,"see: ",(0,a.kt)("a",c({parentName:"p"},{href:"#how-to-use-perl-to-replace-multi-lines"}),"how to use perl to replace multi-lines")),(0,a.kt)("h3",c({},{id:"how-to-trim-line"}),"how to trim line"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"mark: There is no ",(0,a.kt)("inlineCode",{parentName:"p"},"trim")," command in linux, and it can be pretty easy/clear to be finished via ",(0,a.kt)("inlineCode",{parentName:"p"},"sed"),".")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"| gsed -r 's/\\s*(.*?)\\s*$/\\1/'\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/4422491/how-do-i-trim-lines-read-from-standard-input-on-bash"}),"How do I trim lines read from standard input on bash? - Stack Overflow"))),(0,a.kt)("h2",c({},{id:"commandperl"}),"command:perl"),(0,a.kt)("h3",c({},{id:"only-print-matched-lines"}),"only print matched lines"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# 1. `-n`: not print all\n# 2. `print if `: print conditional lines\nperl -ne 'print if s/.*?((\\d{1,3}\\.){3}\\d{1,3}).*/\\1/'\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/5098884/only-print-matching-lines-in-perl-from-the-command-line/5103270"}),"Only print matching lines in perl from the command line - Stack Overflow"))),(0,a.kt)("h3",c({},{id:"how-to-use-perl-to-replace-multi-lines"}),"how to use perl to replace multi-lines"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"perl -0pe 's/search/replace/gms' file\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-0"),": without the ",(0,a.kt)("inlineCode",{parentName:"li"},"-0")," argument, Perl processes data line-by-line, which causes multiline searches to fail."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-p"),": loop over all the lines of a file"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-e"),": execute the following arg as a perl script"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/s"),": changes the behavior of the dot metacharacter ",(0,a.kt)("inlineCode",{parentName:"li"},"."),' so that it matches any character at all. Normally it matches anything except a newline "\\n", and so treats the string as a single line even if it contains newlines.'),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/m"),": modifies the caret ",(0,a.kt)("inlineCode",{parentName:"li"},"^")," and dollar ",(0,a.kt)("inlineCode",{parentName:"li"},"$")," metacharacters so that they match at newlines within the string, treating it as a multi-line string. Normally they will match only at the beginning and end of the string."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"/g"),": global replace(not sure)")),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"explaining ",(0,a.kt)("inlineCode",{parentName:"p"},"-0"),": ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/1030787/multiline-search-replace-with-perl"}),"Multiline search replace with Perl - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"explaining ",(0,a.kt)("inlineCode",{parentName:"p"},"/m | /s"),": ",(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/22962588/understanding-perl-regular-expression-modifers-m-and-s"}),"regex - Understanding Perl regular expression modifers /m and /s - Stack Overflow")))),(0,a.kt)("p",null,"special thanks to: ",(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/a/378991"}),"Not sure if you know, but sed has a great feature where you do not need to use a / as the separator.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.mankier.com/1/perl#Description"}),"perl man page - perl-interpreter - General Commands"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/555948/replace-multi-line-string-with-multi-line-string-without-escaping-by-hand"}),"perl - Replace multi line string with multi line string without escaping by hand - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.runoob.com/perl/perl-regular-expressions.html"}),"Perl \u6b63\u5219\u8868\u8fbe\u5f0f | \u83dc\u9e1f\u6559\u7a0b"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/378990/find-and-replace-with-sed-with-slash-in-find-and-replace-string"}),"quoting - find and replace with sed with slash in find and replace string - Unix & Linux Stack Exchange")))),(0,a.kt)("h2",c({},{id:"commandxargs"}),"command:xargs"),(0,a.kt)("h3",c({},{id:"xargs-for-cp-to-copy-from-stdin"}),(0,a.kt)("inlineCode",{parentName:"h3"},"xargs")," for ",(0,a.kt)("inlineCode",{parentName:"h3"},"cp")," to copy from stdin"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"\n( $SH_GEN_FILES; $SH_GEN_DIR ) | xargs cp\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/1610089/how-to-use-cp-from-stdin"}),"cygwin - How to use cp from stdin? - Stack Overflow"))),(0,a.kt)("h2",c({},{id:"commandhistory"}),"command:history"),(0,a.kt)("h3",c({},{id:"how-to-not-display-the-number-of-history-output"}),"how to not display the number of ",(0,a.kt)("inlineCode",{parentName:"h3"},"history")," output"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# resolution 1. combine with `cut`\nhistory | cut -c 8-\n\n# FAILED: resolution 2. using `-w`\n# it failed on my MacOS, the problem maybe corresponds with GNU version\nhistory -w /dev/stdout\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://ostechnix.com/how-to-display-bash-history-without-line-numbers/"}),"How To Display Bash History Without Line Numbers - OSTechNix"))),(0,a.kt)("h2",c({},{id:"commandcut"}),"command:cut"),(0,a.kt)("h3",c({},{id:"cut-column-of-list-from-xx-to-yy"}),"cut column of list from XX to YY"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'echo "a/b/c/d/e/f/g/" | cut -d "/" -f 3\n# c\n\necho "a/b/c/d/e/f/g/" | cut -d "/" -f -3\n# a/b/c\n\necho "a/b/c/d/e/f/g/" | cut -d "/" -f 3-\n# c/d/e/f/g/\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://stackoverflow.com/questions/19437199/cut-from-column-to-end-of-line"}),"bash - Cut from column to end of line - Stack Overflow"))),(0,a.kt)("h2",c({},{id:"commandsortuniq"}),"command:sort/uniq"),(0,a.kt)("h3",c({},{id:"sort-by-columnkey"}),"sort by column/key"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"sort -k X\n")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1645714473713-4a87e8b7dcc8276eb690d0ad89957bea50f32c2d7ce1ca0e981f301d7ebb39f4.png",alt:"picture 39"}))),(0,a.kt)("p",null,"ref:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/104525/sort-based-on-the-third-column"}),"files - Sort based on the third column - Unix & Linux Stack Exchange"))),(0,a.kt)("h3",c({},{id:"drop-duplicated"}),"drop duplicated"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"PIPE-LINES | sort | uniq\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://unix.stackexchange.com/questions/76049/what-is-the-difference-between-sort-u-and-sort-uniq"}),'bash - What is the difference between "sort -u" and "sort | uniq"? - Unix & Linux Stack Exchange'))),(0,a.kt)("h2",c({},{id:"commandnl"}),"command:nl"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# add line number for each line of output\n| nl\n\n# format with dot\n| nl -w2 -s". "\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"sample")),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644084555960-a0d240a985b2cb12697f1d43febc4d85fdc2a98148ddfa816f71d446bcc2c74f.png",alt:"picture 58"}))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.geeksforgeeks.org/nl-command-in-linux-with-examples/"}),"nl command in Linux with Examples - GeeksforGeeks"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/222218/how-to-add-line-numbers-in-every-line-using-shell-command"}),"How to add line numbers in every line using shell command? - Unix & Linux Stack Exchange")))),(0,a.kt)("h3",c({},{id:"fixme-why-there-is-extra-spaces"}),"FIXME: why there is extra spaces"),(0,a.kt)("p",null,(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644084903604-20480d2f455d05cb8e22ca9472a1fb64307b0f2fa9514cc21614311beed60d7d.png",alt:"picture 60"}))),(0,a.kt)("h2",c({},{id:"gnucommandrename"}),"gnu:command:rename"),(0,a.kt)("admonition",c({},{type:"tip"}),(0,a.kt)("ol",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ol"},"install it first via ",(0,a.kt)("inlineCode",{parentName:"li"},"brew install rename")),(0,a.kt)("li",{parentName:"ol"},"it's the easiest way to use ",(0,a.kt)("inlineCode",{parentName:"li"},"rename"),", although the ",(0,a.kt)("inlineCode",{parentName:"li"},"sed")," and other approaches may also be helpful..."),(0,a.kt)("li",{parentName:"ol"},"A more straightforward way is to use ",(0,a.kt)("inlineCode",{parentName:"li"},"for")," script :::")),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),'# rename files of pattern "F0000*" to be "F000*"\nrename s/0000/000/ F0000*\n\n# rename files, change the `$` to be empty, \u6ce8\u610fname\u548crename\u90fd\u8981\u8f6c\u4e49\uff0c\u5e76\u4e14rename\u91cc\u8981\u8f6c\u4e49\u4e24\u6b21\uff08\u5e94\u8be5\u662f\u4e24\u5c42\u6b63\u5219\uff0c\u5c31\u50cf\u6211\u4ee5\u524d\u5199\u7684sed\u7684\u4e24\u5c42\u6b63\u5219\u4e00\u6837\uff09\nfind .imgs -name "*\\$*" | rename s/\\\\$//g\n')),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"sample")),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644169348968-2e3b52bed6e0cc8dc6f892576dc934305c1dbc797ddcfce1dd832a8769db28cf.png",alt:"picture 5"}))),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/2372719/using-sed-to-mass-rename-files"}),"bash - Using sed to mass rename files - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/59314595/pipe-xargs-to-sed-and-mv-command"}),"shell - Pipe xargs to sed and mv command - Stack Overflow"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://stackoverflow.com/questions/5671773/rename-files-using-sed-and-mv"}),"regex - Rename files using sed and mv - Stack Overflow")))),(0,a.kt)("h2",c({parentName:"admonition"},{id:"maccommandiostat"}),"mac:command:iostat"),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"usage")),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644213659674-ed8ee263fd80547d527236a8db9bd49bda9f3ba3c5b05a05e881d7bedd542ece.png",alt:"picture 8"}))),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"sample")),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644213617305-07f0fb441c9fca5538d89367ddbcfc4ff75e6954379aec78235ab94bf48e24f4.png",alt:"picture 7"}))),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://superuser.com/questions/404989/monitor-disk-i-o-for-specific-drive-in-os-x"}),"macos - Monitor disk I/O for specific drive in OS X - Super User"))),(0,a.kt)("h2",c({parentName:"admonition"},{id:"commandlessmoremostvim"}),"command:less|more|most|vim"),(0,a.kt)("ol",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"most")," \u9002\u5408\u5927\u6587\u672c\uff08\u6bd4\u5982 log\uff09\uff0c\u56e0\u4e3a\u5b83\u9ed8\u8ba4\u4e0d\u6362\u884c"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"less")," \u6709\u5176\u4ed6\u51e0\u4e2a\u6ca1\u6709\u7684\u4e00\u4e2a\u529f\u80fd: mark\uff0c\u53ea\u8981\u6309",(0,a.kt)("inlineCode",{parentName:"li"},"m"),"\u52a0\u67d0\u4e2a\u5b57\u6bcd\u5c31\u53ef\u4ee5\u6253\u4e66\u7b7e\uff0c\u7136\u540e\u6309\u5f15\u53f7",(0,a.kt)("inlineCode",{parentName:"li"},'"'),"\u518d\u6309\u5b57\u6bcd\u5c31\u53ef\u4ee5\u56de\u53bb\uff0c\u975e\u5e38\u5feb"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"more")," \u5f88\u9002\u5408\u7ffb\u9875\u6d4f\u89c8\uff0c\u53ef\u4ee5\u6572\u7a7a\u683c\u76f4\u63a5\u7ffb\u9875"),(0,a.kt)("li",{parentName:"ol"},"\u524d\u4e09\u8005\u90fd\u53ef\u4ee5\u6309",(0,a.kt)("inlineCode",{parentName:"li"},"v"),"\u8fdb\u5165",(0,a.kt)("inlineCode",{parentName:"li"},"nano"),"\u7684\u7f16\u8f91\u535a\u58eb\uff0c\u6211\u53d1\u73b0\u7adf\u7136\u6709\u8bed\u6cd5\u9ad8\u4eae"),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"vim")," \u56e0\u4e3a\u6211\u88c5\u4e86\u5404\u79cd\u63d2\u4ef6\uff0c\u81ea\u7136\u662f\u6700\u5c4c\u7684\u4e86\uff0c\u5c24\u5176\u662f\u8bed\u6cd5\u9ad8\u4eae")),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.baeldung.com/linux/more-less-most-commands"}),"Differences Between more, less, and most in Linux | Baeldung on Linux"))),(0,a.kt)("h2",c({parentName:"admonition"},{id:"commandechoprintf"}),"command:echo|printf"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh",metastring:"{cmd=true}","{cmd":"true}"}),'# echo with newline\necho "------\\nhello"\n\n# echo without newline\necho -n world\n\n# printf without new line\nprintf "I have no new line\\nhhh"\n\n# printf to re-print current line\nprintf "\\rThis is one"\nprintf "\\rThis is two"\n')),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("img",c({parentName:"p"},{src:"https://mark-vue-oss.oss-cn-hangzhou.aliyuncs.com/linux-commands-1644421602875-3f1a65a50a34d7613c9b77bcf8025649e472ae2cd30fe740f5c00f0e0e5371f2.png",alt:"picture 47"}))),(0,a.kt)("blockquote",{parentName:"admonition"},(0,a.kt)("p",{parentName:"blockquote"},"ref")),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://unix.stackexchange.com/questions/464357/print-something-in-console-in-the-same-place-of-the-previous-echo-with-a-sort-o"}),"linux - Print something in console in the same place of the previous echo, with a sort of negative echo - Unix & Linux Stack Exchange"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",c({parentName:"p"},{href:"https://www.alphr.com/echo-without-newline/#:~:text=In%20the%20case%20of%20Bash,the%20'%2Dn'%20option."}),"How To Echo Without Newline")))),(0,a.kt)("h2",c({parentName:"admonition"},{id:"commandupdatedblocate"}),"command:updatedb|locate"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",c({parentName:"pre"},{className:"language-sh"}),"# install\nsudo apt update && sudo apt install locate\n\n# usage\nsudo updatedb\nlocate eigen3\n")),(0,a.kt)("p",{parentName:"admonition"},"ref:"),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",c({parentName:"li"},{href:"https://www.reddit.com/r/Ubuntu/comments/j71qlv/no_updatedb_or_locate_in_ubuntu_20/"}),"No updatedb or locate in Ubuntu 20. : Ubuntu")))))}b.isMDXComponent=!0}}]);